var threeD=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=8)}([function(t,e,i){(function(t,i){!function(e){"use strict";function n(t){var e=f.indexOf(t);-1<e&&f.splice(e,1),f.push(t),x=0,d&&!p&&(a=g(T),p=!0)}function s(t){for(var e=0;e<f.length;e++)if(t===f[e])return f[e];return null}function r(){return p}function o(){return m}var a,h="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:this||(void 0!==e?e:{}),c=h.requestAnimationFrame||function(t){return h.setTimeout(t,50/3)},l=h.cancelAnimationFrame||function(t){return h.clearTimeout(t)},u=function(){if(void 0===i||void 0===i.hrtime||i.versions&&void 0!==i.versions.electron){if(void 0!==h.performance&&void 0!==h.performance.now)return h.performance.now.bind(h.performance);var t=h.performance&&h.performance.timing&&h.performance.timing.navigationStart?h.performance.timing.navigationStart:Date.now();return function(){return Date.now()-t}}return function(){var t=i.hrtime();return 1e3*t[0]+t[1]/1e6}}(),f=[],p=!1,d=!1,v=[],g=c,x=0,y=120,m=!0,P=function(t){var e=f.indexOf(t);-1!==e&&f.splice(e,1),0===f.length&&(l(a),p=!1)},T=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u(),i=1<arguments.length?arguments[1]:void 0;if(y<=x&&m)return p=!1,x=0,l(a),!1;d&&p?a=g(t):function(){for(var t=0;t<v.length;t++)v[t]()}(),f.length||x++;for(var n=0,s=f.length;n<s;)f[n++].update(e,i),s>f.length&&n--,s=f.length;return!0},b={},k={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return Math.pow(t,2)},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return Math.pow(t,3)},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return Math.pow(t,4)},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return Math.pow(t,5)},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-k.Bounce.Out(1-t)},Out:function(t){var e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut:function(t){return t<.5?.5*k.Bounce.In(2*t):.5*k.Bounce.Out(2*t-1)+.5}},Stepped:{steps:function(t){return function(e){return(e*t|0)/t}}}};function _(t){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function S(t,e,i){return e&&C(t.prototype,e),i&&C(t,i),t}function E(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?E(Object(i),!0).forEach((function(e){var n,s,r;n=t,r=i[s=e],s in n?Object.defineProperty(n,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[s]=r})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):E(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?F(t):e}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw r}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M=50/3,B="_chainedTweens",D="Callback",j="update",V="complete",N="start",W="repeat",H="reverse",z="restart",U="STRING_PROP",G=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function q(t){if(t&&t.nodeType||void 0===t||"object"!==_(t))return t;if(Array.isArray(t))return[].concat(t);if("object"!==_(t))return t;var e={};for(var i in t)e[i]=q(t[i]);return e}var X=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,Y=function(t,e){var i,n,s;3===e.length&&(e=(i=e[0])+i+(n=e[1])+n+(s=e[2])+s);var r=parseInt(e,16);return"rgb("+(i=r>>16&255)+", "+(n=r>>8&255)+", "+(s=255&r)+")"};function Q(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;var e=t.replace(X,Y).match(G).map((function(t){return function(t){return isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t}(t)?t:+t}));return e.isString=!0,e}function $(t,e,i,n){var s=i[t],r=n[t];if(s===r)return!0;if(Array.isArray(s)&&Array.isArray(r)&&s.length===r.length)for(var o=0,a=r.length;o<a;o++){var h=s[o],c=r[o];h===c||"number"==typeof h&&"number"==typeof c||$(o,e[t],s,r)}if(!("number"==typeof s&&"number"==typeof r||s&&s.splice&&s.isString&&r&&r.splice&&r.isString)){if("string"==typeof s&&Array.isArray(r)){var l=Q(s),u=r.map(Q);return i[t]=l,n[t]=u,!0}if("string"==typeof s||"string"==typeof r){var f=Array.isArray(s)&&s[0]===U?s:Q(s),p=Array.isArray(r)&&r[0]===U?r:Q(r);if(void 0===f)return;for(var d=1;d<f.length;)f[d]===p[d]&&"string"==typeof f[d-1]?(f.splice(d-1,2,f[d-1]+f[d]),p.splice(d-1,2,p[d-1]+p[d])):d++;return f[d=0]===U&&f.shift(),p[0]===U&&p.shift(),i[t]=f,n[t]=p,!0}if("object"===_(s)&&"object"===_(r)){if(Array.isArray(s)&&!s.isString)return s.map((function(i,n){return $(n,e[t],s,r)}));for(var v in r)$(v,e[t],s,r);return!0}}return!1}var J="rgba(",Z=function(t,e,i){var n=2<arguments.length&&void 0!==i?i:"rgb(";return"number"==typeof t[e]&&(t[e-1]===n||t[e-3]===n||t[e-5]===n)};function K(t,e,i,n,s,r,o){var a=o?i:i[t],h=o?n:n[t];if(void 0===h)return a;if(void 0===a||"string"==typeof a||a===h)return h;if("object"===_(a)&&"object"===_(h)){if(!a||!h)return e[t];if("object"===_(a)&&a&&a.isString&&h&&h.splice&&h.isString){for(var c="",l=0,u=a.length;l<u;l++)if(a[l]!==h[l]||"number"!=typeof a[l]||"number"==typeof h[l]){var f="number"==typeof a[l]&&"string"==typeof h[l]&&"="===h[l][1],p="number"!=typeof a[l]?a[l]:f?a[l]+parseFloat(h[l][0]+h[l].substr(2))*s:a[l]+(h[l]-a[l])*s;(Z(a,l)||Z(a,l,J))&&(p|=0),c+=p,f&&1===r&&(a[l]=a[l]+parseFloat(h[l][0]+h[l].substr(2)))}else c+=a[l];return o||(e[t]=c),c}if(Array.isArray(a)&&a[0]!==U)for(var d=0,v=a.length;d<v;d++)a[d]!==h[d]&&"string"!=typeof e[t]&&K(d,e[t],a,h,s,r);else if("object"===_(a)&&a&&!a.isString)for(var g in a)a[g]!==h[g]&&K(g,e[t],a,h,s,r)}else if("number"==typeof a){var x="string"==typeof h;e[t]=x?a+parseFloat(h[0]+h.substr(2))*s:a+(h-a)*s,x&&1===r&&(i[t]=e[t])}else"function"==typeof h&&(e[t]=h(s));return e[t]}function tt(t,e){var i=t[e],n=e.replace(st,"").split(nt),s=n.length-1,r=Array.isArray(t),o="object"===_(t)&&!r;return o?(t[e]=null,delete t[e]):r&&t.splice(e,1),n.reduce((function(t,e,a){r&&"."!==e&&"["!==e&&(e*=1);var h="["===n[a+1];if("."===e||"["===e)return"."===e?r=!(o=!0):"["===e&&(r=!(o=!1)),t;if(void 0===t[e]){if(r||o)return t[e]=a===s?i:r||h?[]:o?{}:null,o=r=!1,t[e]}else if(void 0!==t[e])return a===s&&(t[e]=i),t[e];return t}),t)}function et(t){if("object"===_(t)&&t)for(var e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))tt(t,e);else if("object"===_(t[e])&&t[e]){var i=t[e];for(var n in i)if(-1!==n.indexOf(".")||-1!==n.indexOf("["))tt(i,n);else if("object"===_(i[n])&&i[n]){var s=i[n];for(var r in s)-1===r.indexOf(".")&&-1===r.indexOf("[")||tt(s,r)}}return t}var it,nt=/([.[])/g,st=/\]/g,rt=Object.freeze({__proto__:null,FRAME_MS:M,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:B,EVENT_CALLBACK:D,EVENT_UPDATE:j,EVENT_COMPLETE:V,EVENT_START:N,EVENT_REPEAT:W,EVENT_REVERSE:H,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:z,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:U,NUM_REGEX:G,deepCopy:q,decomposeString:Q,decompose:$,RGB:"rgb(",RGBA:J,isRGBColor:Z,recompose:K,SET_NESTED:et}),ot={Linear:function(t,e,i){var n=t.length-1,s=n*e,r=Math.floor(s),o=ot.Utils.Linear;return e<0?o(t[0],t[1],s,i):1<e?o(t[n],t[n-1],n-s,i):o(t[r],t[n<r+1?n:r+1],s-r,i)},Bezier:function(t,e,i){for(var n=ot.Utils.Reset(i),s=t.length-1,r=Math.pow,o=ot.Utils.Bernstein,a=Array.isArray(n),h=0;h<=s;h++)if("number"==typeof n)n+=r(1-e,s-h)*r(e,h)*t[h]*o(s,h);else if(a)for(var c=0,l=n.length;c<l;c++)"number"==typeof n[c]?n[c]+=r(1-e,s-h)*r(e,h)*t[h][c]*o(s,h):n[c]=t[h][c];else if("object"===_(n))for(var u in n)"number"==typeof n[u]?n[u]+=r(1-e,s-h)*r(e,h)*t[h][u]*o(s,h):n[u]=t[h][u];else if("string"==typeof n){for(var f="",p=t[Math.round(s*e)],d=1,v=p.length;d<v;d++)f+=p[d];return f}return n},CatmullRom:function(t,e,i){var n=t.length-1,s=n*e,r=Math.floor(s),o=ot.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(s=n*(1+e))),o(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],s-r,i)):e<0?o(t[1],t[1],t[0],t[0],-e,i):1<e?o(t[n-1],t[n-1],t[n],t[n],(0|e)-e,i):o(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],s-r,i)},Utils:{Linear:function(t,e,i,n){if(t===e||"string"==typeof t){if(e.length&&e.splice&&e.isString){e="";for(var s=0,r=t.length;s<r;s++)e+=t[s]}return e}if("number"==typeof t)return"function"==typeof t?t(i):t+(e-t)*i;if("object"===_(t)){if(void 0!==t.length){var o="string"==typeof t[0]||t.isString;if(o||t[0]===U){for(var a="",h=o?0:1,c=t.length;h<c;h++){var l=0===i?t[h]:1!==i&&"number"==typeof t[h]?t[h]+(e[h]-t[h])*i:e[h];(0<i&&i<1&&Z(t,h)||Z(t,h,J))&&(l|=0),a+=l}return a}if(n&&n.length&&n.splice)for(var u=0,f=n.length;u<f;u++)n[u]=ot.Utils.Linear(t[u],e[u],i,n[u])}else for(var p in n)n[p]=ot.Utils.Linear(t[p],e[p],i,n[p]);return n}},Reset:function(t){if(Array.isArray(t)){for(var e=0,i=t.length;e<i;e++)t[e]=ot.Utils.Reset(t[e]);return t}if("object"!==_(t))return"number"==typeof t?0:t;for(var n in t)t[n]=ot.Utils.Reset(t[n]);return t},Bernstein:function(t,e){var i=ot.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(it=[1],function(t){var e=1;if(it[t])return it[t];for(var i=t;1<i;i--)e*=i;return it[t]=e}),CatmullRom:function(t,e,i,n,s,r){if("string"==typeof t)return e;if("number"==typeof t){var o=.5*(i-t),a=.5*(n-e),h=s*s;return(2*e-2*i+o+a)*(s*h)+(-3*e+3*i-2*o-a)*h+o*s+e}if("object"===_(t)){if(void 0!==t.length){if(t[0]===U){for(var c="",l=1,u=t.length;l<u;l++){var f="number"==typeof t[l]?ot.Utils.CatmullRom(t[l],e[l],i[l],n[l],s):n[l];(Z(t,l)||Z(t,l,J))&&(f|=0),c+=f}return c}for(var p=0,d=r.length;p<d;p++)r[p]=ot.Utils.CatmullRom(t[p],e[p],i[p],n[p],s,r[p])}else for(var v in r)r[v]=ot.Utils.CatmullRom(t[v],e[v],i[v],n[v],s,r[v]);return r}}}},at={};function ht(t,e,i){if(!t||!t.nodeType)return e;var n=t.queueID||"q_"+Date.now();t.queueID||(t.queueID=n);var s=at[n];if(s){if(s.object===e&&t===s.tween.node&&i._startTime===s.tween._startTime)P(s.tween);else if("object"===_(e)&&e&&s.object){for(var r in e)r in s.object&&(i._startTime===s.tween._startTime?delete s.object[r]:s.propNormaliseRequired=!0);Object.assign(s.object,e)}return s.object}return"object"===_(e)&&e?(at[n]={tween:i,object:e,propNormaliseRequired:!1},at[n].object):e}function ct(t,e,i){return e?t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?[t]:"string"==typeof t?!!document.querySelectorAll&&document.querySelectorAll(t):Array.isArray(t)?t:t.nodeType?[t]:i?t:[]:null:t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?t:"string"==typeof t?!!document.querySelector&&document.querySelector(t):Array.isArray(t)?t[0]:t.nodeType||i?t:null:null}var lt=0,ut=k.Linear.None,ft=function(){function t(e,i){return w(this,t),this.id=lt++,!e||"object"!==_(e)||i||e.nodeType?e&&(e.nodeType||e.length||"string"==typeof e)&&(e=this.node=ct(e),i=this.object=ht(e,i,this)):(i=this.object=e,e=null),this._valuesEnd=null,this._valuesStart=Array.isArray(i)?[]:{},this._duration=1e3,this._easingFunction=ut,this._easingReverse=ut,this._interpolationFunction=ot.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return S(t,null,[{key:"fromTo",value:function(e,i,n,s){var r=3<arguments.length&&void 0!==s?s:{};r.quickRender=r.quickRender?r.quickRender:!n;var o=new t(e,i).to(n,r);return r.quickRender&&(o.render().update(o._startTime),o._rendered=!1,o._onStartCallbackFired=!1),o}},{key:"to",value:function(e,i,n){return t.fromTo(e,null,i,n)}},{key:"from",value:function(e,i,n){return t.fromTo(e,i,null,n)}}]),S(t,[{key:"setMaxListener",value:function(t){var e=0<arguments.length&&void 0!==t?t:15;return this._maxListener=e,this}},{key:"on",value:function(t,e){for(var i=this._maxListener,n=t+D,s=0;s<i;s++){var r=n+s;if(!this[r]){this[r]=e;break}}return this}},{key:"once",value:function(t,e){for(var i=this,n=this._maxListener,s=t+D,r=function(t){var n=s+t;if(!i[n])return i[n]=function(){for(var t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];e.apply(i,s),i[n]=null},"break"},o=0;o<n&&"break"!==r(o);o++);return this}},{key:"off",value:function(t,e){for(var i=this._maxListener,n=t+D,s=0;s<i;s++){var r=n+s;this[r]===e&&(this[r]=null)}return this}},{key:"emit",value:function(t,e,i,n){var s=this._maxListener,r=t+D;if(!this[r+0])return this;for(var o=0;o<s;o++){var a=r+o;this[a]&&this[a](e,i,n)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(t){var e=this._reversed;return this._reversed=void 0!==t?t:!e,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,P(this),this._pausedTime=u(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=u()-this._pausedTime,this._initTime=this._startTime,n(this),this._pausedTime=u(),this.emit("play",this.object))}},{key:"restart",value:function(){return this._repeat=this._r,this.reassignValues(),n(this),this.emit(z,this.object)}},{key:"seek",value:function(t,e){var i=this._duration,n=this._initTime,s=this._startTime,r=this._reversed,o=n+t;return this._isPlaying=!0,o<s&&n<=s&&(this._startTime-=i,this._reversed=!r),this.update(t,!1),this.emit("seek",t,this.object),e?this:this.pause()}},{key:"duration",value:function(t){return this._duration="function"==typeof t?t(this._duration):t,this}},{key:"to",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:1e3;if(this._valuesEnd=t,"number"==typeof i||"function"==typeof i)this._duration="function"==typeof i?i(this._duration):i;else if("object"===_(i))for(var n in i)if("function"==typeof this[n]){var s=I(Array.isArray(i[n])?i[n]:[i[n]],4),r=s[0],o=void 0===r?null:r,a=s[1],h=void 0===a?null:a,c=s[2],l=void 0===c?null:c,u=s[3],f=void 0===u?null:u;this[n](o,h,l,f)}return this}},{key:"render",value:function(){if(this._rendered)return this;var e=this._valuesStart,i=this._valuesEnd,n=this.object,s=this.node,r=this.InitialValues;if(et(n),et(i),s&&s.queueID&&at[s.queueID]){var o=at[s.queueID];if(o.propNormaliseRequired&&o.tween!==this){for(var a in i)o.tween._valuesEnd[a];o.normalisedProp=!0,o.propNormaliseRequired=!1}}if(s&&r&&(n&&0!==Object.keys(n).length?i&&0!==Object.keys(i).length||(i=this._valuesEnd=r(s,n)):n=this.object=ht(s,r(s,i),this)),!e.processed){for(var h in i){var c=n&&n[h]&&q(n[h]),l=i[h];if(!(b[h]&&b[h].init&&(b[h].init.call(this,c,l,h,n),void 0===c&&e[h]&&(c=e[h]),b[h].skipProcess)||"number"==typeof c&&isNaN(c)||null===c||null===l||!1===c||!1===l||void 0===c||void 0===l||c===l)){if(e[h]=c,Array.isArray(l))if(Array.isArray(c))l.isString&&n[h].isString&&!c.isString?c.isString=!0:$(h,n,e,i);else{l.unshift(c);for(var u=0,f=l.length;u<f;u++)"string"==typeof l[u]&&(l[u]=Q(l[u]))}else $(h,n,e,i);"number"!=typeof c||"string"!=typeof l||l[1]}}e.processed=!0}return t.Renderer&&this.node&&t.Renderer.init&&(t.Renderer.init.call(this,n,e,i),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(t){return this._startTime=void 0!==t?"string"==typeof t?u()+parseFloat(t):t:u(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,n(this),this}},{key:"stop",value:function(){var t=this._isPlaying,e=this._isFinite,i=this.object,n=this._startTime,s=this._duration,r=this._r,o=this._yoyo,a=this._reversed;if(!t)return this;var h=e?(r+1)%2==1:!a;return this._reversed=!1,o&&h?this.update(n):this.update(n+s),P(this),this.emit("stop",i)}},{key:"delay",value:function(t){return this._delayTime="function"==typeof t?t(this._delayTime):t,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var t=0,e=this._chainedTweensCount;t<e;t++)this[B+t]=arguments[t];return this}},{key:"repeat",value:function(t){return this._repeat=this._duration?"function"==typeof t?t(this._repeat):t:0,this._r=this._repeat,this._isFinite=isFinite(t),this}},{key:"reverseDelay",value:function(t){return this._reverseDelayTime="function"==typeof t?t(this._reverseDelayTime):t,this}},{key:"yoyo",value:function(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||null,this}},{key:"easing",value:function(t){return this._easingFunction=t,this}},{key:"interpolation",value:function(t){return"function"==typeof t&&(this._interpolationFunction=t),this}},{key:"reassignValues",value:function(t){var e=this._valuesStart,i=this.object,s=this._delayTime;for(var r in this._isPlaying=!0,this._startTime=void 0!==t?t:u(),this._startTime+=s,this._reversed=!1,n(this),e){var o=e[r];i[r]=o}return this}},{key:"update",value:function(e,i,n){var s,a,h,c=this._onStartCallbackFired,l=this._easingFunction,f=this._interpolationFunction,p=this._easingReverse,d=this._repeat,v=this._delayTime,g=this._reverseDelayTime,x=this._yoyo,y=this._reversed,m=this._startTime,T=this._prevTime,k=this._duration,_=this._valuesStart,w=this._valuesEnd,C=this.object,S=this._isFinite,E=this._isPlaying,L=this.__render,A=this._chainedTweensCount,R=0;if(k){var F=(e=void 0!==e?e:u())-T;if(this._prevTime=e,250<F&&r()&&o()&&(e-=F-M),!E||e<m&&!n)return!0;s=1<(s=(e-m)/k)?1:s,s=y?1-s:s}else s=1,d=0;if(c||(this._rendered||(this.render(),this._rendered=!0),this.emit(N,C),this._onStartCallbackFired=!0),a=y&&p||l,!C)return!0;for(h in w){var O=_[h];if(null!=O||b[h]&&b[h].update){var I=w[h],D=a[h]?a[h](s):("function"==typeof a?a:ut)(s),z=f[h]?f[h]:"function"==typeof f?f:ot.Linear;"number"==typeof I?C[h]=O+(I-O)*D:!Array.isArray(I)||I.isString||Array.isArray(O)?I&&I.update?I.update(D):"function"==typeof I?C[h]=I(D):"string"==typeof I&&"number"==typeof O?C[h]=O+parseFloat(I[0]+I.substr(2))*D:K(h,C,_,w,D,s):C[h]=z(I,D,C[h]),b[h]&&b[h].update&&b[h].update.call(this,C[h],O,I,D,s,h),R++}}if(!R)return P(this),!1;if(L&&t.Renderer&&t.Renderer.update&&t.Renderer.update.call(this,C,s),this.emit(j,C,s,e),1===s||y&&0===s){if(0<d&&0<k){if(S&&this._repeat--,x)this._reversed=!y;else for(h in w){var U=w[h];"string"==typeof U&&"number"==typeof _[h]&&(_[h]+=parseFloat(U[0]+U.substr(2)))}return this.emit(x&&!y?H:W,C),this._startTime=y&&g?e-g:e+v,!0}if(i||(this._isPlaying=!1,P(this),lt--),this.emit(V,C),this._repeat=this._r,A)for(var G=0;G<A;G++)this[B+G].start(e+k);return!1}return!0}}]),t}(),pt=function(){function t(){w(this,t),this.totalTime=0,this.labels=[],this.offsets=[]}return S(t,[{key:"parseLabel",value:function(t,e){var i=this.offsets,n=this.labels,s=n.indexOf(t);if("string"==typeof t&&-1!==t.indexOf("=")&&!e&&-1===s){var r=t.substr(t.indexOf("=")-1,2),o=t.split(r);e=2===o.length?r+o[1]:null,t=o[0],s=n.indexOf(t)}if(-1!==s&&t){var a=i[s]||0;if("number"==typeof e)a=e;else if("string"==typeof e&&-1!==e.indexOf("=")){var h=e.charAt(0);e=Number(e.substr(2)),"+"===h||"-"===h?a+=parseFloat(h+e):"*"===h?a*=e:"/"===h?a/=e:"%"===h&&(a*=e/100)}return a}return"number"==typeof e?e:0}},{key:"addLabel",value:function(t,e){return this.labels.push(t),this.offsets.push(this.parseLabel(t,e)),this}},{key:"setLabel",value:function(t,e){var i=this.labels.indexOf(t);return-1!==i&&this.offsets.splice(i,1,this.parseLabel(t,e)),this}},{key:"eraseLabel",value:function(t){var e=this.labels.indexOf(t);return-1!==e&&(this.labels.splice(e,1),this.offsets.splice(e,1)),this}}]),t}(),dt=0,vt=function(){function t(e){var i;return w(this,t),(i=O(this,A(t).call(this)))._duration=0,i._startTime=e&&void 0!==e.startTime?e.startTime:u(),i._tweens=[],i.elapsed=0,i._id=dt++,i._defaultParams=e,i.position=new pt,i.position.addLabel("afterLast",i._duration),i.position.addLabel("afterInit",i._startTime),i._onStartCallbackFired=!1,O(i,F(i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&R(t,e)}(t,ft),S(t,[{key:"mapTotal",value:function(t){return t.call(this,this._tweens),this}},{key:"timingOrder",value:function(t){var e=t(this._tweens.map((function(t){return t._startTime})));return this._tweens.map((function(t,i){t._startTime=e[i]})),this}},{key:"getTiming",value:function(t,e,i,n){var s=3<arguments.length&&void 0!==n?n:0;if("reverse"===t){var r=i.stagger,o=(r||0)*(e.length-1);return e.map((function(t,e){return o-(r||0)*e+s}))}if("async"===t)return e.map((function(t){return s}));if("sequence"===t||"delayed"===t){var a=i.stagger;return a=a||(i.duration||1e3)/(e.length-1),e.map((function(t,e){return a*e+s}))}if("oneByOne"===t)return e.map((function(t){return i.duration}));if("shuffle"===t){var h=i.stagger;return function(t){var e,i,n;for(n=t.length;n;--n)e=Math.floor(Math.random()*n),i=t[n-1],t[n-1]=t[e],t[e]=i;return t}(e.map((function(t,e){return(h||0)*e+s})))}var c=i.stagger;return e.map((function(t,e){return(c||0)*e+s}))}},{key:"fromTo",value:function(t,e,i,n){if((t=ct(t,!0,!0))&&t.length){this._defaultParams&&(n=n?L({},this._defaultParams,{},n):this._defaultParams);for(var s,r=n.label,o="number"==typeof r?r:this.position.parseLabel(void 0!==r?r:"afterLast",null),a=this.getTiming(n.mode,t,n,o),h=0,c=t.length;h<c;h++)s=t[h],this.add(ft.fromTo(s,"function"==typeof e?e(h,t.length):"object"===_(e)&&e?L({},e):null,"function"==typeof i?i(h,t.length):i,"function"==typeof n?n(h,t.length):n),a[h])}return this.start()}},{key:"from",value:function(t,e,i){return this.fromTo(t,e,null,i)}},{key:"to",value:function(t,e,i){return this.fromTo(t,null,e,i)}},{key:"addLabel",value:function(t,e){return this.position.addLabel(t,e),this}},{key:"map",value:function(t){for(var e=0,i=this._tweens.length;e<i;e++){var n=this._tweens[e];t(n,e),this._duration=Math.max(this._duration,n._duration+n._startTime)}return this}},{key:"add",value:function(t,e){var i=this;if(Array.isArray(t))return t.map((function(t){i.add(t,e)})),this;"object"!==_(t)||t instanceof ft||(t=new ft(t.from).to(t.to,t));var n=this._defaultParams,s=this._duration;if(n)for(var r in n)"function"==typeof t[r]&&t[r](n[r]);var o="number"==typeof e?e:this.position.parseLabel(void 0!==e?e:"afterLast",null);return t._startTime=Math.max(this._startTime,t._delayTime,o),t._delayTime=o,t._isPlaying=!0,this._duration=Math.max(s,Math.max(t._startTime+t._delayTime,t._duration)),this._tweens.push(t),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=u(),n(this),this.emit(z)}},{key:"easing",value:function(t){return this.map((function(e){return e.easing(t)}))}},{key:"interpolation",value:function(t){return this.map((function(e){return e.interpolation(t)}))}},{key:"update",value:function(t){var e,i=this._tweens,n=this._duration,s=this._reverseDelayTime,a=this._startTime,h=this._reversed,c=this._yoyo,l=this._repeat,f=this._isFinite,p=this._isPlaying,d=this._prevTime,v=this._onStartCallbackFired,g=(t=void 0!==t?t:u())-d;if(this._prevTime=t,250<g&&r()&&o()&&(t-=g-M),!p||t<a)return!0;e=1<(e=(t-a)/n)?1:e,e=h?1-e:e,this.elapsed=e,v||(this.emit(N),this._onStartCallbackFired=!0);for(var x=t-a,y=h?n-x:x,m=0;m<i.length;)i[m].update(y),m++;if(this.emit(j,e,x),1===e||h&&0===e){if(l){for(f&&this._repeat--,this.emit(h?H:W),c&&(this._reversed=!h,this.timingOrder((function(t){return t.reverse()}))),this._startTime=h&&s?t+s:t,m=0;m<i.length;)i[m].reassignValues(t),m++;return!0}return this.emit(V),this._repeat=this._r,P(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(t){return void 0!==t?this.update(t*this._duration):this.elapsed}}]),t}();e.Easing=k,e.FrameThrottle=function(t){y=1.05*(0<arguments.length&&void 0!==t?t:120)},e.Interpolation=ot,e.Interpolator=function(t,e){var i=Array.isArray(t)&&!t.isString,n="string"==typeof t?t:i?t.slice():L({},t);if(i)for(var s=0,r=t.length;s<r;s++)t[s]===e[s]&&"number"==typeof t[s]&&"number"!=typeof e[s]||$(s,n,t,e);else if("object"===_(t))for(var o in t)t[o]===e[o]&&"number"==typeof t[o]&&"number"!=typeof e[o]||$(o,n,t,e);else if("string"==typeof t){t=Q(t),e=Q(e);for(var a=1;a<t.length;)t[a]===e[a]&&"string"==typeof t[a-1]?(t.splice(a-1,2,t[a-1]+t[a]),e.splice(a-1,2,e[a-1]+e[a])):a++}return function(s){if(i)for(var r=0,o=t.length;r<o;r++)K(r,n,t,e,s);else if("object"===_(n))for(var a in t)K(a,n,t,e,s);else"string"==typeof n&&(n=K(0,0,t,e,s,s,!0));return n}},e.Plugins=b,e.Selector=ct,e.Timeline=vt,e.ToggleLagSmoothing=function(t){m=!(0<arguments.length&&void 0!==t)||t},e.Tween=ft,e.add=n,e.autoPlay=function(t){d=t},e.get=s,e.getAll=function(){return f},e.has=function(t){return null!==s(t)},e.isRunning=r,e.now=u,e.onRequestTick=function(t){v.push(t)},e.onTick=function(t){return f.push({update:t})},e.remove=P,e.removeAll=function(){f.length=0,l(a),p=!1},e.update=T,e.utils=rt,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,i(3),i(4))},function(t,e){var i=2*Math.PI,n=Math.tan(Math.PI/12);t.exports={TWO_PI:i,TAN_PI_BY_12:n}},function(t,e,i){"use strict";i.r(e),i.d(e,"hexToRgb",(function(){return s})),i.d(e,"getLengthOfPath",(function(){return r})),i.d(e,"getDistance",(function(){return o})),i.d(e,"getNorm",(function(){return a})),i.d(e,"getUnitVector",(function(){return h})),i.d(e,"getAngleCC",(function(){return c})),i.d(e,"getAngle",(function(){return l})),i.d(e,"getXYFromTheta",(function(){return u})),i.d(e,"getAngleFrom3Points",(function(){return f}));var n=i(1),s=function(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return"#"+e+e+i+i+n+n})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}))};function r(t){for(var e=0,i=0;i<t.length;i++)e+=Math.sqrt(Math.pow(t[i].x-t[(i+1)%t.length].x,2)+Math.pow(t[i].y-t[(i+1)%t.length].y,2));return e}function o(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function a(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function h(t){var e=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:t.x/e,y:t.y/e}}function c(t){var e=Math.atan2(t.y,t.x);return e<0?n.TWO_PI+e:e}function l(t){var e=Math.atan2(t.y,t.x);return e<0?-e:n.TWO_PI-e}function u(t,e,i){return{x:e*Math.cos(t),y:i*Math.sin(t)}}function f(t,e,i){return this.angle1=l({x:t.x-e.x,y:t.y-e.y}),this.angle2=l({x:i.x-e.x,y:i.y-e.y}),this.angle2<this.angle1?this.angle=n.TWO_PI+this.angle2-this.angle1:this.angle=this.angle2-this.angle1,this.angle}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){var i,n,s=t.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{n="function"==typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var h,c=[],l=!1,u=-1;function f(){l&&h&&(l=!1,h.length?c=h.concat(c):u=-1,c.length&&p())}function p(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(h=c,c=[];++u<e;)h&&h[u].run();u=-1,e=c.length}h=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function v(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new d(t,e)),1!==c.length||l||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=v,s.addListener=v,s.once=v,s.off=v,s.removeListener=v,s.removeAllListeners=v,s.emit=v,s.prependListener=v,s.prependOnceListener=v,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){var n;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(s,r,o,a){"use strict";var h,c=["","webkit","Moz","MS","ms","o"],l=r.createElement("div"),u=Math.round,f=Math.abs,p=Date.now;function d(t,e,i){return setTimeout(T(t,i),e)}function v(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function x(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",r=s.console&&(s.console.warn||s.console.log);return r&&r.call(s.console,n,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var y=x((function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&void 0===t[n[s]])&&(t[n[s]]=e[n[s]]),s++;return t}),"extend","Use `assign`."),m=x((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function P(t,e,i){var n,s=e.prototype;(n=t.prototype=Object.create(s)).constructor=t,n._super=s,i&&h(n,i)}function T(t,e){return function(){return t.apply(e,arguments)}}function b(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function k(t,e){return void 0===t?e:t}function _(t,e,i){g(E(e),(function(e){t.addEventListener(e,i,!1)}))}function w(t,e,i){g(E(e),(function(e){t.removeEventListener(e,i,!1)}))}function C(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function S(t,e){return t.indexOf(e)>-1}function E(t){return t.trim().split(/\s+/g)}function L(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function A(t){return Array.prototype.slice.call(t,0)}function R(t,e,i){for(var n=[],s=[],r=0;r<t.length;){var o=e?t[r][e]:t[r];L(s,o)<0&&n.push(t[r]),s[r]=o,r++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}function F(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),r=0;r<c.length;){if((n=(i=c[r])?i+s:e)in t)return n;r++}}var O=1;function I(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||s}var M="ontouchstart"in s,B=void 0!==F(s,"PointerEvent"),D=M&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=["x","y"],V=["clientX","clientY"];function N(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){b(t.options.enable,[t])&&i.handler(e)},this.init()}function W(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,r=1&e&&n-s==0,o=12&e&&n-s==0;i.isFirst=!!r,i.isFinal=!!o,r&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=H(e));s>1&&!i.firstMultiple?i.firstMultiple=H(e):1===s&&(i.firstMultiple=!1);var r=i.firstInput,o=i.firstMultiple,a=o?o.center:r.center,h=e.center=z(n);e.timeStamp=p(),e.deltaTime=e.timeStamp-r.timeStamp,e.angle=X(a,h),e.distance=q(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},r=t.prevInput||{};1!==e.eventType&&4!==r.eventType||(s=t.prevDelta={x:r.deltaX||0,y:r.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}(i,e),e.offsetDirection=G(e.deltaX,e.deltaY);var c=U(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=f(c.x)>f(c.y)?c.x:c.y,e.scale=o?(l=o.pointers,u=n,q(u[0],u[1],V)/q(l[0],l[1],V)):1,e.rotation=o?function(t,e){return X(e[1],e[0],V)+X(t[1],t[0],V)}(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,s,r,o=t.lastInterval||e,a=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(a>25||void 0===o.velocity)){var h=e.deltaX-o.deltaX,c=e.deltaY-o.deltaY,l=U(a,h,c);n=l.x,s=l.y,i=f(l.x)>f(l.y)?l.x:l.y,r=G(h,c),t.lastInterval=e}else i=o.velocity,n=o.velocityX,s=o.velocityY,r=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=r}(i,e);var l,u;var d=t.element;C(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function H(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:u(t.pointers[i].clientX),clientY:u(t.pointers[i].clientY)},i++;return{timeStamp:p(),pointers:e,center:z(e),deltaX:t.deltaX,deltaY:t.deltaY}}function z(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:u(i/e),y:u(n/e)}}function U(t,e,i){return{x:e/t||0,y:i/t||0}}function G(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function q(t,e,i){i||(i=j);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function X(t,e,i){i||(i=j);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}N.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&w(this.element,this.evEl,this.domHandler),this.evTarget&&w(this.target,this.evTarget,this.domHandler),this.evWin&&w(I(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function Q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,N.apply(this,arguments)}P(Q,N,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var $={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",K="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=K,N.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(Z="MSPointerDown",K="MSPointerMove MSPointerUp MSPointerCancel"),P(tt,N,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=$[n],r=J[t.pointerType]||t.pointerType,o="touch"==r,a=L(e,t.pointerId,"pointerId");1&s&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):12&s&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:r,srcEvent:t}),i&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,N.apply(this,arguments)}function nt(t,e){var i=A(t.touches),n=A(t.changedTouches);return 12&e&&(i=R(i.concat(n),"identifier",!0)),[i,n]}P(it,N,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var i=nt.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var st={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function rt(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},N.apply(this,arguments)}function ot(t,e){var i=A(t.touches),n=this.targetIds;if(3&e&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,r,o=A(t.changedTouches),a=[],h=this.target;if(r=i.filter((function(t){return C(t.target,h)})),1===e)for(s=0;s<r.length;)n[r[s].identifier]=!0,s++;for(s=0;s<o.length;)n[o[s].identifier]&&a.push(o[s]),12&e&&delete n[o[s].identifier],s++;return a.length?[R(r.concat(a),"identifier",!0),a]:void 0}P(rt,N,{handler:function(t){var e=st[t.type],i=ot.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});function at(){N.apply(this,arguments);var t=T(this.handler,this);this.touch=new rt(this.manager,t),this.mouse=new Q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ht(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],r=Math.abs(e-s.x),o=Math.abs(i-s.y);if(r<=25&&o<=25)return!0}return!1}P(at,N,{handler:function(t,e,i){var n="touch"==i.pointerType,s="mouse"==i.pointerType;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)ht.call(this,e,i);else if(s&&lt.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ut=F(l.style,"touchAction"),ft=void 0!==ut,pt=function(){if(!ft)return!1;var t={},e=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||s.CSS.supports("touch-action",i)})),t}();function dt(t,e){this.manager=t,this.set(e)}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&pt[t]&&(this.manager.element.style[ut]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){b(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(S(t,"none"))return"none";var e=S(t,"pan-x"),i=S(t,"pan-y");if(e&&i)return"none";if(e||i)return e?"pan-x":"pan-y";if(S(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,s=S(n,"none")&&!pt.none,r=S(n,"pan-y")&&!pt["pan-y"],o=S(n,"pan-x")&&!pt["pan-x"];if(s){var a=1===t.pointers.length,h=t.distance<2,c=t.deltaTime<250;if(a&&h&&c)return}if(!o||!r)return s||r&&6&i||o&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function vt(t){this.options=h({},this.defaults,t||{}),this.id=O++,this.manager=null,this.options.enable=k(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function xt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var i=e.manager;return i?i.get(t):t}function mt(){vt.apply(this,arguments)}function Pt(){mt.apply(this,arguments),this.pX=null,this.pY=null}function Tt(){mt.apply(this,arguments)}function bt(){vt.apply(this,arguments),this._timer=null,this._input=null}function kt(){mt.apply(this,arguments)}function _t(){mt.apply(this,arguments)}function wt(){vt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Ct(t,e){return(e=e||{}).recognizers=k(e.recognizers,Ct.defaults.preset),new St(t,e)}vt.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(v(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return v(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(v(t,"requireFailure",this))return this;var e=this.requireFail;return-1===L(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(v(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=L(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+gt(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!b(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},P(mt,vt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,s=this.attrTest(t);return n&&(8&i||!s)?16|e:n||s?4&i?8|e:2&e?4|e:2:32}}),P(Pt,mt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,r=t.deltaX,o=t.deltaY;return s&e.direction||(6&e.direction?(s=0===r?1:r<0?2:4,i=r!=this.pX,n=Math.abs(t.deltaX)):(s=0===o?1:o<0?8:16,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return mt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=xt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),P(Tt,mt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),P(bt,vt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}}),P(kt,mt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),P(_t,mt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Pt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=xt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),P(wt,vt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&s&&i){if(4!=t.eventType)return this.failTimeout();var r=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&r?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Ct.VERSION="2.0.7",Ct.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[kt,{enable:!1}],[Tt,{enable:!1},["rotate"]],[_t,{direction:6}],[Pt,{direction:6},["swipe"]],[wt],[wt,{event:"doubletap",taps:2},["tap"]],[bt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function St(t,e){var i;this.options=h({},Ct.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(B?tt:D?rt:M?at:Q))(i,W),this.touchAction=new dt(this,this.options.touchAction),Et(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Et(t,e){var i,n=t.element;n.style&&(g(t.options.cssProps,(function(s,r){i=F(n.style,r),e?(t.oldCssProps[i]=n.style[i],n.style[i]=s):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}St.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,s=e.curRecognizer;(!s||s&&8&s.state)&&(s=e.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===e.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&14&i.state&&(s=e.curRecognizer=i),r++}},get:function(t){if(t instanceof vt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(v(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(v(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=L(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return g(E(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return g(E(t),(function(t){e?i[t]&&i[t].splice(L(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=r.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&Et(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(Ct,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:St,Input:N,TouchAction:dt,TouchInput:rt,MouseInput:Q,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:it,Recognizer:vt,AttrRecognizer:mt,Tap:wt,Pan:Pt,Swipe:_t,Pinch:Tt,Rotate:kt,Press:bt,on:_,off:w,each:g,merge:m,extend:y,assign:h,inherit:P,bindFn:T,prefixed:F}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=Ct,void 0===(n=function(){return Ct}.call(e,i,e,t))||(t.exports=n)}(window,document)},function(t,e,i){var n;!function(){function s(t,e,i){return t.call.apply(t.bind,arguments)}function r(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function o(t,e,i){return(o=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:r).apply(null,arguments)}var a=Date.now||function(){return+new Date};function h(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var c=!!window.FontFace;function l(t,e,i,n){if(e=t.c.createElement(e),i)for(var s in i)i.hasOwnProperty(s)&&("style"==s?e.style.cssText=i[s]:e.setAttribute(s,i[s]));return n&&e.appendChild(t.c.createTextNode(n)),e}function u(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function p(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),s=0;s<e.length;s+=1){for(var r=!1,o=0;o<n.length;o+=1)if(e[s]===n[o]){r=!0;break}r||n.push(e[s])}for(e=[],s=0;s<n.length;s+=1){for(r=!1,o=0;o<i.length;o+=1)if(n[s]===i[o]){r=!0;break}r||e.push(n[s])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(t,e){for(var i=t.className.split(/\s+/),n=0,s=i.length;n<s;n++)if(i[n]==e)return!0;return!1}function v(t,e,i){function n(){a&&s&&r&&(a(o),a=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,r=!0,o=null,a=i||null;c?(e.onload=function(){s=!0,n()},e.onerror=function(){s=!0,o=Error("Stylesheet failed to load"),n()}):setTimeout((function(){s=!0,n()}),0),u(t,"head",e)}function g(t,e,i,n){var s=t.c.getElementsByTagName("head")[0];if(s){var r=l(t,"script",{src:e}),o=!1;return r.onload=r.onreadystatechange=function(){o||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(o=!0,i&&i(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&s.removeChild(r))},s.appendChild(r),setTimeout((function(){o||(o=!0,i&&i(Error("Script load timeout")))}),n||5e3),r}return null}function x(){this.a=0,this.c=null}function y(t){return t.a++,function(){t.a--,P(t)}}function m(t,e){t.c=e,P(t)}function P(t){0==t.a&&t.c&&(t.c(),t.c=null)}function T(t){this.a=t||"-"}function b(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function k(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function _(t){return t.a+t.f}function w(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function C(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function S(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new T("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function E(t){if(t.g){var e=d(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),p(t.f,i,n)}L(t,"inactive")}function L(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,_(i)):t.h[e]())}function A(){this.c={}}function R(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function F(t){u(t.c,"body",t.a)}function O(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+k(t.c)+";font-style:"+w(t)+";font-weight:"+t.f+"00;"}function I(t,e,i,n,s,r){this.g=t,this.j=e,this.a=n,this.c=i,this.f=s||3e3,this.h=r||void 0}function M(t,e,i,n,s,r,o){this.v=t,this.B=e,this.c=i,this.a=n,this.s=o||"BESbswy",this.f={},this.w=s||3e3,this.u=r||null,this.m=this.j=this.h=this.g=null,this.g=new R(this.c,this.s),this.h=new R(this.c,this.s),this.j=new R(this.c,this.s),this.m=new R(this.c,this.s),t=O(t=new b(this.a.c+",serif",_(this.a))),this.g.a.style.cssText=t,t=O(t=new b(this.a.c+",sans-serif",_(this.a))),this.h.a.style.cssText=t,t=O(t=new b("serif",_(this.a))),this.j.a.style.cssText=t,t=O(t=new b("sans-serif",_(this.a))),this.m.a.style.cssText=t,F(this.g),F(this.h),F(this.j),F(this.m)}T.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},I.prototype.start=function(){var t=this.c.o.document,e=this,i=a(),n=new Promise((function(n,s){!function r(){a()-i>=e.f?s():t.fonts.load(function(t){return w(t)+" "+t.f+"00 300px "+k(t.c)}(e.a),e.h).then((function(t){1<=t.length?n():setTimeout(r,25)}),(function(){s()}))}()})),s=null,r=new Promise((function(t,i){s=setTimeout(i,e.f)}));Promise.race([r,n]).then((function(){s&&(clearTimeout(s),s=null),e.g(e.a)}),(function(){e.j(e.a)}))};var B={D:"serif",C:"sans-serif"},D=null;function j(){if(null===D){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return D}function V(t,e,i){for(var n in B)if(B.hasOwnProperty(n)&&e===t.f[B[n]]&&i===t.f[B[n]])return!0;return!1}function N(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=j()&&V(t,i,n)),e?a()-t.A>=t.w?j()&&V(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?W(t,t.v):W(t,t.B):function(t){setTimeout(o((function(){N(this)}),t),50)}(t):W(t,t.v)}function W(t,e){setTimeout(o((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),e(this.a)}),t),0)}function H(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}M.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),N(this)};var z=null;function U(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&p(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),L(t,"active")):E(t.a))}function G(t){this.j=t,this.a=new A,this.h=0,this.f=this.g=!0}function q(t,e,i,n,s){var r=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=s||null,a=n||{};if(0===i.length&&r)E(e.a);else{e.f+=i.length,r&&(e.j=r);var h,c=[];for(h=0;h<i.length;h++){var l=i[h],u=a[l.c],f=e.a,d=l;if(f.g&&p(f.f,[f.a.c("wf",d.c,_(d).toString(),"loading")]),L(f,"fontloading",d),f=null,null===z)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var v=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);z=d?42<parseInt(d[1],10):!v}else z=!1;f=z?new I(o(e.g,e),o(e.h,e),e.c,l,e.s,u):new M(o(e.g,e),o(e.h,e),e.c,l,e.s,t,u),c.push(f)}for(h=0;h<c.length;h++)c[h].start()}}),0)}function X(t,e){this.c=t,this.a=e}function Y(t,e){this.c=t,this.a=e}function Q(t,e){this.c=t||$,this.a=[],this.f=[],this.g=e||""}H.prototype.g=function(t){var e=this.a;e.g&&p(e.f,[e.a.c("wf",t.c,_(t).toString(),"active")],[e.a.c("wf",t.c,_(t).toString(),"loading"),e.a.c("wf",t.c,_(t).toString(),"inactive")]),L(e,"fontactive",t),this.m=!0,U(this)},H.prototype.h=function(t){var e=this.a;if(e.g){var i=d(e.f,e.a.c("wf",t.c,_(t).toString(),"active")),n=[],s=[e.a.c("wf",t.c,_(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,_(t).toString(),"inactive")),p(e.f,n,s)}L(e,"fontinactive",t),U(this)},G.prototype.load=function(t){this.c=new h(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,i){var n=[],s=i.timeout;!function(t){t.g&&p(t.f,[t.a.c("wf","loading")]),L(t,"loading")}(e);n=function(t,e,i){var n,s=[];for(n in e)if(e.hasOwnProperty(n)){var r=t.c[n];r&&s.push(r(e[n],i))}return s}(t.a,i,t.c);var r=new H(t.c,e,s);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load((function(e,i,n){q(t,r,e,i,n)}))}(this,new S(this.c,t),t)},X.prototype.load=function(t){var e=this,i=e.a.projectId,n=e.a.version;if(i){var s=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(n?"?v="+n:""),(function(n){n?t([]):(s["__MonotypeConfiguration__"+i]=function(){return e.a},function e(){if(s["__mti_fntLst"+i]){var n,r=s["__mti_fntLst"+i](),o=[];if(r)for(var a=0;a<r.length;a++){var h=r[a].fontfamily;null!=r[a].fontStyle&&null!=r[a].fontWeight?(n=r[a].fontStyle+r[a].fontWeight,o.push(new b(h,n))):o.push(new b(h))}t(o)}else setTimeout((function(){e()}),50)}())})).id="__MonotypeAPIScript__"+i}else t([])},Y.prototype.load=function(t){var e,i,n=this.a.urls||[],s=this.a.families||[],r=this.a.testStrings||{},o=new x;for(e=0,i=n.length;e<i;e++)v(this.c,n[e],y(o));var a=[];for(e=0,i=s.length;e<i;e++)if((n=s[e].split(":"))[1])for(var h=n[1].split(","),c=0;c<h.length;c+=1)a.push(new b(n[0],h[c]));else a.push(new b(n[0]));m(o,(function(){t(a,r)}))};var $="https://fonts.googleapis.com/css";function J(t){this.f=t,this.a=[],this.c={}}var Z={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},K={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function it(t,e){this.c=t,this.a=e}var nt={Arimo:!0,Cousine:!0,Tinos:!0};function st(t,e){this.c=t,this.a=e}function rt(t,e){this.c=t,this.f=e,this.a=[]}it.prototype.load=function(t){var e=new x,i=this.c,n=new Q(this.a.api,this.a.text),s=this.a.families;!function(t,e){for(var i=e.length,n=0;n<i;n++){var s=e[n].split(":");3==s.length&&t.f.push(s.pop());var r="";2==s.length&&""!=s[1]&&(r=":"),t.a.push(s.join(r))}}(n,s);var r=new J(s);!function(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),s=n[0].replace(/\+/g," "),r=["n4"];if(2<=n.length){var o;if(o=[],a=n[1])for(var a,h=(a=a.split(",")).length,c=0;c<h;c++){var l;if((l=a[c]).match(/^[\w-]+$/))if(null==(f=et.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":tt[l],null==(f=f[1])||""==f)f="4";else var u=K[f],f=u||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&o.push(l)}0<o.length&&(r=o),3==n.length&&(o=[],0<(n=(n=n[2])?n.split(","):o).length&&(n=Z[n[0]])&&(t.c[s]=n))}for(t.c[s]||(n=Z[s])&&(t.c[s]=n),n=0;n<r.length;n+=1)t.a.push(new b(s,r[n]))}}(r),v(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),y(e)),m(e,(function(){t(r.a,r.c,nt)}))},st.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],s=0;s<e.length;s+=2)for(var r=e[s],o=e[s+1],a=0;a<o.length;a++)n.push(new b(r,o[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}}),2e3):t([])},rt.prototype.load=function(t){var e=this.f.id,i=this.c.o,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var s=0,r=i.fonts.length;s<r;++s){var o=i.fonts[s];n.a.push(new b(o.name,C("font-weight:"+o.weight+";font-style:"+o.style)))}t(n.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var ot=new G(window);ot.a.c.custom=function(t,e){return new Y(e,t)},ot.a.c.fontdeck=function(t,e){return new rt(e,t)},ot.a.c.monotype=function(t,e){return new X(e,t)},ot.a.c.typekit=function(t,e){return new st(e,t)},ot.a.c.google=function(t,e){return new it(e,t)};var at={load:o(ot.load,ot)};void 0===(n=function(){return at}.call(e,i,e,t))||(t.exports=n)}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Stage",(function(){return u})),i.d(e,"Layer",(function(){return p})),i.d(e,"Point",(function(){return x})),i.d(e,"Circle",(function(){return b})),i.d(e,"Triangle",(function(){return C})),i.d(e,"Vector",(function(){return L})),i.d(e,"Line",(function(){return M})),i.d(e,"Angle",(function(){return N})),i.d(e,"Ruler",(function(){return U})),i.d(e,"Pencil",(function(){return Y})),i.d(e,"Clock",(function(){return $})),i.d(e,"Vector2",(function(){return R}));var n=i(0);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),t}var a=i(0);Object(n.autoPlay)(!0);var h=function(){function t(e,i){s(this,t),this.stage=i,this.context=e,this.steps=[5,2,1],this.minorAxisDivders=[5,4,5],this.scaleBy=1.06,this.defaultCoorPerPixel=.025,this.drawMinorGridLines=!1,this.drawMajorGuidLines=!1,this.drawAxes=!1,this.colorGrid="#7c7c7c",this.colorText="#32003f",this.tickFontSize=12,this.tickFontSizeText=this.tickFontSize+"pt Calibri",this.tickLabelBackground=this.stage.canvas.style.background,this.tickBackgroundHeight=this.tickFontSize+4,this.stage.canvas.width>1e3?this.initialScale=.01:this.initialScale=.02;var n=this.stage.canvasWidth*this.defaultCoorPerPixel/2,r=this.stage.canvasHeight*this.defaultCoorPerPixel/2;this.updatingScaleOrRange=!1,this.tick_pos_px={},this.ptOriginPx={},this.points=[],this.lines=[],this.segments=[],this.circles=[],this.rectangles=[],this.triangles=[],this.angles=[],this.vectors=[],this.lines=[],this.instruments=[],this.groupPoints=new c,this.groupLines=new c,this.groupShapes=new c,this.updateBoundaryCoordinateLRTB(-n,n,r,-r)}return o(t,[{key:"addItem",value:function(t){t.setContext(this.context,this),"Point"===t.type?(this.points.push(t),this.groupPoints.add(t)):"Angle"==t.type?(this.angles.push(t),this.groupPoints.add(t)):"Circle"===t.type?(this.circles.push(t),this.groupShapes.add(t)):"Triangle"===t.type?(this.triangles.push(t),this.groupShapes.add(t)):"Ruler"==t.type||"Pencil"==t.type?this.instruments.push(t):"Vector"==t.type?(this.vectors.push(t),this.groupLines.add(t)):"Line"==t.type&&(this.lines.push(t),this.groupLines.add(t))}},{key:"render",value:function(){var t=this;for(this.go=!0,this.n=1;this.go;){this.possibleSteps=this.steps.map((function(e){return e*Math.pow(10,t.widthCoor.toFixed(0).length-t.n)})),this.n++;for(var e=0;e<this.possibleSteps.length;e++)if(this.pixel_per_step=this.stage.canvasWidth/(this.widthCoor/this.possibleSteps[e]),this.pixel_per_step<170){this.left_to_start=Math.ceil(this.left/this.possibleSteps[e])*this.possibleSteps[e],this.bottom_to_start=Math.ceil(this.bottom/this.possibleSteps[e])*this.possibleSteps[e],this.step=this.possibleSteps[e],this.minorGridDivider=this.minorAxisDivders[e],this.stepPx=parseInt(this.step/this.coorPerPixel/this.minorGridDivider),this.go=!1;break}}if(this.context.beginPath(),this.context.strokeStyle=this.colorGrid,this.context.lineWidth=1,this.context.font=this.tickFontSizeText,this.context.textAlign="center",this.context.mozImageSmoothingEnabled=!1,this.yTickOffsetRight=4,this.no_of_ticks_x=(this.right-this.left_to_start)/this.step,this.no_of_ticks_y=(this.top-this.bottom_to_start)/this.step,this.drawMajorGuidLines){for(var i=0;i<this.no_of_ticks_x;i++)this.tick_value=parseFloat((this.left_to_start+i*this.step).toFixed(10)),this.getPixFromCoorFT(this.tick_value,0,this.tick_pos_px),0!=this.tick_value&&(this.context.moveTo(this.tick_pos_px.x,this.stage.canvasHeight),this.context.lineTo(this.tick_pos_px.x,0));for(var n=0;n<this.no_of_ticks_y;n++)this.pt_for_lb=(this.bottom_to_start+n*this.step).toFixed(10),this.tick_value=parseFloat(this.pt_for_lb),this.getPixFromCoorFT(0,this.tick_value,this.tick_pos_px),0!=this.tick_value&&(this.context.moveTo(0,this.tick_pos_px.y),this.context.lineTo(this.stage.canvasWidth,this.tick_pos_px.y))}if(this.context.stroke(),this.drawAxes){this.getPixFromCoorFT(0,0,this.ptOriginPx),this.context.beginPath(),this.context.strokeStyle="#000000",this.context.moveTo(0,this.ptOriginPx.y),this.context.lineTo(this.stage.canvasWidth,this.ptOriginPx.y),this.context.moveTo(this.ptOriginPx.x,0),this.context.lineTo(this.ptOriginPx.x,this.stage.canvasHeight),this.context.stroke(),this.context.lineWidth=2,this.context.strokeStyle="#999999";for(var s=-1;s<this.no_of_ticks_x;s++)if(this.tick_value=parseFloat((this.left_to_start+s*this.step).toFixed(10)),this.getPixFromCoorFT(this.tick_value,0,this.tick_pos_px),this.widthXLabel=this.context.measureText(this.tick_value).width,0==this.tick_value?(this.context.textAlign="right",this.context.fillStyle=this.colorText,this.context.fillText(this.tick_value,this.tick_pos_px.x-this.yTickOffsetRight,this.tick_pos_px.y+this.tickBackgroundHeight),this.context.textAlign="center"):-1!=s&&(this.context.fillStyle=this.stage.bgColor,this.context.fillRect(this.tick_pos_px.x-2-this.widthXLabel/2,this.tick_pos_px.y+3,this.widthXLabel+4,this.tickBackgroundHeight),this.context.fillStyle=this.colorText,this.context.fillText(this.tick_value,this.tick_pos_px.x,this.tick_pos_px.y+this.tickBackgroundHeight)),this.drawMinorGridLines)for(var r=1;r<this.minorGridDivider;r++)this.context.moveTo(this.tick_pos_px.x+this.stepPx*r,this.stage.canvasHeight),this.context.lineTo(this.tick_pos_px.x+this.stepPx*r,0);this.context.textAlign="right";for(var o=-1;o<this.no_of_ticks_y;o++)if(this.tick_value=parseFloat((this.bottom_to_start+o*this.step).toFixed(10)),this.getPixFromCoorFT(0,this.tick_value,this.tick_pos_px),0!=this.tick_value&&-1!=o&&(this.labelWidth=this.context.measureText(this.tick_value).width+2,this.context.fillStyle=this.stage.bgColor,this.context.fillRect(this.tick_pos_px.x-this.labelWidth-this.yTickOffsetRight,this.tick_pos_px.y-this.tickFontSize/2,this.labelWidth,this.tickFontSize),this.context.fillStyle=this.colorText,this.context.fillText(this.tick_value,this.tick_pos_px.x-this.yTickOffsetRight,this.tick_pos_px.y+this.tickFontSize/2)),this.drawMinorGridLines)for(var a=1;a<this.minorGridDivider;a++)this.context.moveTo(0,this.tick_pos_px.y-this.stepPx*a),this.context.lineTo(this.stage.canvasWidth,this.tick_pos_px.y-this.stepPx*a);this.context.stroke()}this.groupShapes.render(),this.groupLines.render(),this.groupPoints.render(),this.instruments.forEach((function(t){t.render()}))}},{key:"wheelHandler",value:function(t,e){this.updatingScaleOrRange=!0,this.mouseLocCoor=this.getCoorFromPixPt(t),this.updateBoundaryCoordinateLRTB(this.mouseLocCoor.x-(this.mouseLocCoor.x-this.left)*e,this.mouseLocCoor.x-(this.mouseLocCoor.x-this.right)*e,this.mouseLocCoor.y-(this.mouseLocCoor.y-this.top)*e,this.mouseLocCoor.y-(this.mouseLocCoor.y-this.bottom)*e),this.adjustMesurementScales(),this.updatingScaleOrRange=!1}},{key:"pinchStartHandler",value:function(t){this.pinchLastPointPx=t,this.last_scale=1,this.updatingScaleOrRange=!0}},{key:"pinchHandler",value:function(t,e){this.scale=this.last_scale/e,this.mouse_loc_coor=this.getCoorFromPixPt(t),this.last_mouse_loc_coor=this.getCoorFromPixPt(this.pinchLastPointPx),this.updateBoundaryCoordinateLRTB(this.mouse_loc_coor.x-(this.mouse_loc_coor.x-this.left)*this.scale-(this.mouse_loc_coor.x-this.last_mouse_loc_coor.x),this.mouse_loc_coor.x+(this.right-this.mouse_loc_coor.x)*this.scale-(this.mouse_loc_coor.x-this.last_mouse_loc_coor.x),this.mouse_loc_coor.y+(this.top-this.mouse_loc_coor.y)*this.scale-(this.mouse_loc_coor.y-this.last_mouse_loc_coor.y),this.mouse_loc_coor.y-(this.mouse_loc_coor.y-this.bottom)*this.scale-(this.mouse_loc_coor.y-this.last_mouse_loc_coor.y)),this.last_scale=e,this.pinchLastPointPx=t,this.adjustMesurementScales()}},{key:"pinchEndHandler",value:function(t){this.updatingScaleOrRange=!1}},{key:"pinchCancelHandler",value:function(t){this.updatingScaleOrRange=!1}},{key:"panStartHandler",value:function(t){this.panStartPointPx=t,this.updatingScaleOrRange=!0}},{key:"panMoveHandler",value:function(t){var e=(t.x-this.panStartPointPx.x)*this.coorPerPixel,i=(t.y-this.panStartPointPx.y)*this.coorPerPixel;this.updateBoundaryCoordinateDelta(e,i),this.panStartPointPx=t}},{key:"panEndHandler",value:function(t){this.updatingScaleOrRange=!1}},{key:"moveAndScale",value:function(t,e){var i,s=this;this.oldCenter={x:(this.right+this.left)/2,y:(this.top+this.bottom)/2,coorPerPixel:this.coorPerPixel},e||(i={x:t.x,y:t.y,coorPerPixel:this.defaultCoorPerPixel});var r=this.stage.canvasWidth/2,o=this.stage.canvasHeight/2,h=new n.Tween(this.oldCenter).to(i,500).easing(n.Easing.Quadratic.InOut).on("update",(function(t){s.updateBoundaryCoordinateLRTB(t.x-r*t.coorPerPixel,t.x+r*t.coorPerPixel,t.y+o*t.coorPerPixel,t.y-o*t.coorPerPixel),s.adjustMesurementScales(),s.updatingScaleOrRange&&a.remove(h)})).start()}},{key:"updateBoundaryCoordinateLRTB",value:function(t,e,i,n){this.left=t,this.right=e,this.widthCoor=e-t,this.top=i,this.bottom=n,this.heightCoor=i-n,this.coorPerPixel=this.widthCoor/this.stage.canvasWidth,this.updatePixelLocation()}},{key:"updateBoundaryCoordinate",value:function(t,e,i,n){this.left=t,this.right=t+e,this.widthCoor=e,this.top=i,this.bottom=i-n,this.heightCoor=n,this.coorPerPixel=e/this.stage.canvasWidth,this.updatePixelLocation()}},{key:"updateBoundaryCoordinateDelta",value:function(t,e){this.left-=t,this.right=this.left+this.widthCoor,this.top+=e,this.bottom=this.top-this.heightCoor,this.updatePixelLocation()}},{key:"getPixFromCoorPt",value:function(t){return{x:this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}}},{key:"getPixFromCoorPtFT",value:function(t,e){e.x=this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,e.y=this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}},{key:"getPixFromCoorPtFTwOF",value:function(t,e,i){e.x=i.x+this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,e.y=i.y+this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}},{key:"getPixFromCoorPtRounded",value:function(t){return{x:this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}}},{key:"getPixFromCoor",value:function(t,e){return{x:this.stage.canvasWidth*(t-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(e-this.bottom)/this.heightCoor}}},{key:"getPixFromCoorFT",value:function(t,e,i){i.x=this.stage.canvasWidth*(t-this.left)/this.widthCoor,i.y=this.stage.canvasHeight-this.stage.canvasHeight*(e-this.bottom)/this.heightCoor}},{key:"getPixFromCoorRounded",value:function(t,e){return{x:this.stage.canvasWidth*(t-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(e-this.bottom)/this.heightCoor}}},{key:"getCoorFromPixPt",value:function(t){return{x:this.left+this.widthCoor*(t.x/this.stage.canvasWidth),y:this.bottom+this.heightCoor*((this.stage.canvasHeight-t.y)/this.stage.canvasHeight)}}},{key:"getCoorFromPix",value:function(t,e){return{x:this.left+this.widthCoor*(t/this.stage.canvasWidth),y:this.bottom+this.heightCoor*((this.stage.canvasHeight-e)/this.stage.canvasHeight)}}},{key:"updatePixelLocation",value:function(){this.groupPoints.items.forEach((function(t){t.updatePixelLocation()})),this.groupShapes.items.forEach((function(t){t.updatePixelLocation()})),this.groupLines.items.forEach((function(t){t.updatePixelLocation()})),this.instruments.forEach((function(t){t.updatePixelLocation()}))}},{key:"adjustMesurementScales",value:function(){this.angles.forEach((function(t){t.adjustScale()})),this.instruments.forEach((function(t){t.adjustScale()}))}}]),t}(),c=function(){function t(){s(this,t),this.items=[]}return o(t,[{key:"add",value:function(t){this.items.push(t)}},{key:"render",value:function(){this.items.forEach((function(t){t.render()}))}}]),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(5);var u=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bgColor="#ffffff",this.containerElement=document.getElementById(e),this.positionInfo=this.containerElement.getBoundingClientRect(),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.width=this.positionInfo.width+"px",this.canvas.style.height=this.positionInfo.height+"px",this.canvas.style.background=this.bgColor,this.containerElement.appendChild(this.canvas),this.context=this.canvas.getContext("2d"),this.context.imageSmoothingEnabled=!0,this.makeHighResolution(),this.canvasWidth=this.positionInfo.width,this.canvasHeight=this.positionInfo.height,this.hammer=new Hammer(this.canvas,{domEvents:!0}),this.hammer.get("pan").set({direction:Hammer.DIRECTION_ALL,threshold:0}),this.hammer.get("pinch").set({enable:!0,threshold:0}),this.hammer.on("panstart",(function(t){return i.panStartHandler(t)})),this.hammer.on("panmove",(function(t){return i.panMoveHandler(t)})),this.hammer.on("panend",(function(t){return i.panEndHandler(t)})),this.hammer.on("pinchstart",(function(t){return i.pinchStartHandler(t)})),this.hammer.on("pinch",(function(t){return i.pinchHandler(t)})),this.hammer.on("pinchend",(function(t){return i.pinchEndHandler(t)})),this.hammer.on("pinchcancel",(function(t){return i.pinchCancelHandler(t)})),this.canvas.addEventListener("wheel",(function(t){return i.wheelHandler(t)})),this.layers=[],this.grid=void 0,this.console=document.getElementById("console")}var e,i,n;return e=t,(i=[{key:"getGrid",value:function(){return this.grid||(this.grid=new h(this.context,this)),this.grid}},{key:"pinchStartHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchStartHandler(this.currentPos)}},{key:"pinchHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchHandler(this.currentPos,t.scale)}},{key:"pinchEndHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchEndHandler(this.currentPos)}},{key:"pinchCancelHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchCancelHandler(this.currentPos)}},{key:"panStartHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.panStartHandler(this.currentPos)}},{key:"panMoveHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.panMoveHandler(this.currentPos)}},{key:"panEndHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.panEndHandler(this.currentPos)}},{key:"wheelHandler",value:function(t){this.grid&&this.grid.wheelHandler({x:t.layerX,y:t.layerY},Math.pow(this.grid.scaleBy,Math.sign(t.deltaY)))}},{key:"addLayer",value:function(t){this.layers.push(t),t.setContext(this.context,this)}},{key:"render",value:function(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.context.fillStyle=this.bgColor,this.context.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.grid&&this.grid.render()}},{key:"makeHighResolution",value:function(){this.devicePixelRatio=window.devicePixelRatio||1;var t=this.context.webkitBackingStorePixelRatio||this.context.mozBackingStorePixelRatio||this.context.msBackingStorePixelRatio||this.context.oBackingStorePixelRatio||this.context.backingStorePixelRatio||1;if(this.ratio=this.devicePixelRatio/t,this.devicePixelRatio!==t){var e=this.positionInfo.width,i=this.positionInfo.height;this.canvas.width=Math.round(e*this.ratio),this.canvas.height=Math.round(i*this.ratio),this.context.scale(this.ratio,this.ratio)}}},{key:"writeToConsole",value:function(t){this.console.innerHTML+="<p>"+t+"</p>",this.console.scrollTop=this.console.scrollHeight}}])&&l(e.prototype,i),n&&l(e,n),t}();function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var p=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.smallItems=[],this.largeItems=[],this.widthCoor=200,e)null==this[i]&&console.warn(t.name+": "+i+" parameter is undefined."),this[i]=e[i]}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context||(this.smallItems.forEach((function(e){e.setContext(t,container)})),this.largeItems.forEach((function(e){e.setContext(t,container)}))),this.context=t,this.stage=e,this.heightCoor=e.canvasHeight/e.canvasWidth*this.widthCoor,this.coorPerPixel=this.widthCoor/e.canvasWidth}},{key:"addItem",value:function(t){"Small"===t.itemSize?this.smallItems.push(t):"Large"===t.itemSize&&this.largeItems.push(t),t.setContext(this.context,this)}},{key:"removeItem",value:function(){}},{key:"render",value:function(){this.smallItems.forEach((function(t){t.render()})),this.largeItems.forEach((function(t){t.render()}))}},{key:"getPixFromCoorPt",value:function(t){return{x:Math.round(t.x/this.coorPerPixel)+.5,y:Math.round(this.stage.canvasHeight-t.y/this.coorPerPixel)+.5}}}])&&f(e.prototype,i),n&&f(e,n),t}();function d(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var v=i(1),g=i(0);Object(n.autoPlay)(!0);var x=function(){function t(e,i){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="Point",this.pos=e,this.pos_px={},this.color="#000000",this.borderColor=this.color+"55",this.size=4,this.selected=!0,i)null==this[n]&&console.warn(t.name+": "+n+" parameter is undefined."),this[n]=i[n];this.borderColor=this.color+"55",this.borderSize=3*this.size}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.context&&this.container.getPixFromCoorPtFT(this.pos,this.pos_px),this.tempSize=this.size,this.size=0,this.borderSize=0,new n.Tween({size:0}).to({size:this.tempSize},1e3).easing(g.Easing.Elastic.Out).on("update",(function(t){i.size=t.size,i.borderSize=3*t.size})).start()}},{key:"render",value:function(){this.context.beginPath(),this.context.arc(this.pos_px.x,this.pos_px.y,this.size,0,v.TWO_PI,!1),this.context.fillStyle=this.color,this.context.fill(),this.selected&&(this.context.lineWidth=this.borderSize,this.context.strokeStyle=this.borderColor,this.context.stroke())}},{key:"updatePosCoor",value:function(t){var e=this;new n.Tween(this.pos).to(t,1e3).easing(g.Easing.Linear.None).on("update",(function(t){e.container.getPixFromCoorPtFT(t,e.pos_px)})).start()}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.pos,this.pos_px)}},{key:"getBoundingBoxCoor",value:function(){return{startX:this.pos.x,startY:this.pos.y,endX:this.pos.x,endY:this.pos.y}}}])&&d(e.prototype,i),s&&d(e,s),t}();function y(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var m=i(1),P=i(0),T=i(2);Object(n.autoPlay)(!0);var b=function(){function t(e,i,n){for(var s in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.center=e,this.radius=i,this.color="#3daa4d",this.innerColorOpacity=.15,this.borderWidth=2.5,this.angle=m.TWO_PI,n)null==this[s]&&console.warn(t.name+": "+s+" parameter is undefined."),this[s]=n[s];this.innerColorRGB=T.hexToRgb(this.color),this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", "+this.innerColorOpacity+")",this.type="Circle"}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.context&&(this.centerPx=this.container.getPixFromCoorPt(this.center),this.radiusPx=this.radius/this.container.coorPerPixel),this.originalAngle=this.angle,this.angle=0,this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", 0)";var n=new P.Tween({angle:0}).to({angle:this.originalAngle},900).easing(P.Easing.Cubic.InOut).on("update",(function(t){i.angle=t.angle})).on("complete",(function(){s.start()})),s=new P.Tween({opacity:0}).to({opacity:this.innerColorOpacity},200).easing(P.Easing.Quadratic.InOut).on("update",(function(t){i.innerColorRGBa="rgba("+i.innerColorRGB[0]+", "+i.innerColorRGB[1]+", "+i.innerColorRGB[2]+", "+t.opacity+")"}));n.start()}},{key:"render",value:function(){this.context.beginPath(),this.context.arc(this.centerPx.x,this.centerPx.y,this.radiusPx,0,this.angle,!1),this.context.lineWidth=this.borderWidth,this.context.strokeStyle=this.color,this.context.stroke(),this.context.fillStyle=this.innerColorRGBa,this.context.fill(),this.context.beginPath(),this.context.arc(this.centerPx.x,this.centerPx.y,3,0,this.angle,!1),this.context.fillStyle=this.color,this.context.fill()}},{key:"updatePosCoor",value:function(t,e){var i,s=this,r={centerX:this.center.x,centerY:this.center.y,radius:this.radius};i=e?{centerX:t.x,centerY:t.y,radius:e}:{centerX:t.x,centerY:t.y,radius:this.radius},new n.Tween(r).to(i,800).easing(P.Easing.Quadratic.InOut).on("update",(function(t){s.center.x=t.centerX,s.center.y=t.centerY,s.radius=t.radius,s.updatePixelLocation()})).start()}},{key:"updatePixelLocation",value:function(){this.centerPx=this.container.getPixFromCoorPt(this.center),this.radiusPx=this.radius/this.container.coorPerPixel}},{key:"getBoundingBoxCoor",value:function(){return{startX:this.center.x-this.radius.x,startY:this.center.y+this.radius.y,endX:this.center.x+this.radius.x,endY:this.center.y-this.radius.y}}}])&&y(e.prototype,i),s&&y(e,s),t}();function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1);var _=i(0),w=i(2);Object(n.autoPlay)(!0);var C=function(){function t(e,i,n,s){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color="#ff0000",this.innerColorOpacity=.15,this.borderWidth=2.5,this.completeCallback=function(){},s)null==this[r]&&console.warn(t.name+": "+r+" parameter is undefined."),this[r]=s[r];this.innerColorRGB=w.hexToRgb(this.color),this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", "+this.innerColorOpacity+")",this.vertexArr=[e,i,n],this.type="Triangle",this.completeConstruction=!1,this.attachedItems=[]}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.vertexArrPx=[this.container.getPixFromCoorPt(this.vertexArr[0]),this.container.getPixFromCoorPt(this.vertexArr[1]),this.container.getPixFromCoorPt(this.vertexArr[2])],this.currentVtxIdx=0,this.currentSegmentsLength=0,this.vertexArrPx.length=0,this.totalSideLength=w.getLengthOfPath(this.vertexArr),this.vertexArrPx[0]=this.container.getPixFromCoorPt(this.vertexArr[0]),this.endPointPx=this.container.getPixFromCoorPt(this.vertexArr[0]);var s=new n.Tween({len:0}).to({len:this.totalSideLength},1800).easing(_.Easing.Sinusoidal.InOut).on("update",(function(t){i.getVerticesToDraw(t.len)})).on("complete",(function(t){i.container.getPixFromCoorPtFT(i.vertexArr[0],i.endPointPx),i.completeConstruction=!0,r.start()}));this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", 0)";var r=new _.Tween({opacity:0}).to({opacity:this.innerColorOpacity},200).easing(_.Easing.Quadratic.InOut).on("update",(function(t){i.innerColorRGBa="rgba("+i.innerColorRGB[0]+", "+i.innerColorRGB[1]+", "+i.innerColorRGB[2]+", "+t.opacity+")"})).on("complete",(function(){i.completeCallback&&i.completeCallback()}));s.start()}},{key:"render",value:function(){this.context.beginPath(),this.context.strokeStyle=this.color,this.context.lineWidth=this.borderWidth,this.context.lineJoin="round",this.context.fillStyle=this.innerColorRGBa,this.context.moveTo(this.vertexArrPx[0].x,this.vertexArrPx[0].y);for(var t=1;t<this.vertexArrPx.length;t++)this.context.lineTo(this.vertexArrPx[t].x,this.vertexArrPx[t].y);this.completeConstruction?this.context.closePath():this.context.lineTo(this.endPointPx.x,this.endPointPx.y),this.context.stroke(),this.context.fill()}},{key:"updatePixelLocation",value:function(){for(var t=0;t<this.vertexArrPx.length;t++)this.container.getPixFromCoorPtFT(this.vertexArr[t],this.vertexArrPx[t]);this.container.getPixFromCoorPtFT(this.vertexArr[0],this.endPointPx)}},{key:"geometryChanged",value:function(){for(var t=0;t<this.attachedItems.length;t++)this.attachedItems[t].parentGeometryChanged()}},{key:"getBoundingBoxCoor",value:function(){return{}}},{key:"getVerticesToDraw",value:function(t){for(var e=this.currentVtxIdx;e<this.vertexArr.length;e++){if(t<this.currentSegmentsLength+w.getDistance(this.vertexArr[e],this.vertexArr[(e+1)%this.vertexArr.length])){var i=t-this.currentSegmentsLength,n={x:this.vertexArr[(e+1)%this.vertexArr.length].x-this.vertexArr[e].x,y:this.vertexArr[(e+1)%this.vertexArr.length].y-this.vertexArr[e].y},s=w.getNorm(n);this.container.getPixFromCoorPtFT({x:this.vertexArr[e].x+n.x/s*i,y:this.vertexArr[e].y+n.y/s*i},this.endPointPx);break}e!=this.vertexArr.length-1&&(this.currentSegmentsLength+=w.getDistance(this.vertexArr[e],this.vertexArr[e+1]),this.vertexArrPx.push(this.container.getPixFromCoorPt(this.vertexArr[e+1])),this.currentVtxIdx++)}}}])&&k(e.prototype,i),s&&k(e,s),t}();function S(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1),i(0);var E=i(2),L=function(){function t(e,i,n){for(var s in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=e,this.direction=i,this.color="#ff3300",n)null==this[s]&&console.warn(t.name+": "+s+" parameter is undefined."),this[s]=n[s];this.posPx={},this.posTipPx={},this.headBaseLeftPx={},this.headBaseRightPx={},this.neckLocationPx={},this.type="Vector",this.calculatePoints()}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.updatePixelLocation()}},{key:"render",value:function(){this.context.beginPath(),this.context.lineWidth=2,this.context.strokeStyle=this.color,this.context.fillStyle=this.color,this.context.moveTo(this.posPx.x,this.posPx.y),this.context.lineTo(this.posTipPx.x,this.posTipPx.y),this.context.stroke(),this.context.lineJoin="miter",this.context.beginPath(),this.context.moveTo(this.posTipPx.x,this.posTipPx.y),this.context.lineTo(this.headBaseLeftPx.x,this.headBaseLeftPx.y),this.context.lineTo(this.headBaseRightPx.x,this.headBaseRightPx.y),this.context.closePath(),this.context.stroke(),this.context.fill()}},{key:"calculatePoints",value:function(){this.normalVector={x:-this.direction.y,y:this.direction.x},this.normalUnitVector=E.getUnitVector(this.normalVector),this.unitVector=E.getUnitVector(this.direction),this.neckLeftVector={x:5*this.normalUnitVector.x,y:-5*this.normalUnitVector.y},this.neckVectorPx={x:-14*this.unitVector.x,y:14*this.unitVector.y}}},{key:"update",value:function(t,e){this.pos=t,this.direction=e,this.calculatePoints(),this.updatePixelLocation()}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.pos,this.posPx),this.container.getPixFromCoorPtFT({x:this.pos.x+this.direction.x,y:this.pos.y+this.direction.y},this.posTipPx),this.neckLocationPx.x=this.posTipPx.x+this.neckVectorPx.x,this.neckLocationPx.y=this.posTipPx.y+this.neckVectorPx.y,this.headBaseLeftPx.x=this.neckLocationPx.x+this.neckLeftVector.x,this.headBaseLeftPx.y=this.neckLocationPx.y+this.neckLeftVector.y,this.headBaseRightPx.x=this.neckLocationPx.x-this.neckLeftVector.x,this.headBaseRightPx.y=this.neckLocationPx.y-this.neckLeftVector.y}},{key:"getBoundingBoxCoor",value:function(){}}])&&S(e.prototype,i),n&&S(e,n),t}();function A(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var R=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e,this.y=i}var e,i,n;return e=t,(i=[{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copyFrom",value:function(t){this.x=t.x,this.y=t.y}},{key:"copyTo",value:function(t){}}])&&A(e.prototype,i),n&&A(e,n),t}();function F(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1);var O=i(0),I=i(2);Object(n.autoPlay)(!0);var M=function(){function t(e,i,n){for(var s in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startPt=e,this.endPt=i,this.color="#000000",this.lineWidth=2,this.autoDraw=!0,n)null==this[s]&&console.warn(t.name+": "+s+" parameter is undefined."),this[s]=n[s];this.startPtPx=new R(0,0),this.endPtPx=new R(0,0),this.type="Line"}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.visible=this.autoDraw,this.autoDraw?this.animateDraw():this.visible=!1,this.updatePixelLocation()}},{key:"animateDraw",value:function(){var t=this,e=900*Math.pow(this.getLength(),1/4.2),i=this.endPt.clone();this.endPt.copyFrom(this.startPt),this.updatePixelLocation(),this.visible=!0,new n.Tween({x:this.startPt.x,y:this.startPt.y}).to({x:i.x,y:i.y},e).easing(O.Easing.Quadratic.InOut).on("update",(function(e){t.endPt.x=e.x,t.endPt.y=e.y,t.updatePixelLocation(),t.drawCallback&&t.drawCallback(t.endPt)})).on("complete",(function(){t.finishCallback&&t.finishCallback()})).start()}},{key:"draw",value:function(t,e){this.drawCallback=t,this.finishCallback=e,this.animateDraw()}},{key:"getLength",value:function(){return I.getDistance(this.startPt,this.endPt)}},{key:"render",value:function(){this.visible&&(this.context.beginPath(),this.context.strokeStyle=this.color,this.context.lineWidth=this.lineWidth,this.context.lineCap="round",this.context.moveTo(this.startPtPx.x,this.startPtPx.y),this.context.lineTo(this.endPtPx.x,this.endPtPx.y),this.context.stroke())}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.startPt,this.startPtPx),this.container.getPixFromCoorPtFT(this.endPt,this.endPtPx)}},{key:"getBoundingBoxCoor",value:function(){}}])&&F(e.prototype,i),s&&F(e,s),t}();function B(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var D=i(1),j=i(0),V=i(2);Object(n.autoPlay)(!0);var N=function(){function t(e,i,n,s,r){for(var o in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.line1Start=e,this.line1End=i,this.line2Start=n,this.line2End=s,this.defaultArcRadius=33,this.defaultFontSize=12,this.arcRadius=this.defaultArcRadius,this.fontSize="bold "+this.defaultFontSize+"pt Computer Modern",this.borderWidth=2,this.color="#444444",this.textColor="#333333",this.thresholdSide=this.arcRadius/D.TAN_PI_BY_12,this.slopeForFontSize=this.defaultFontSize/this.thresholdSide,this.locLabel={},this.commonPtPx={},this.completeCallback=function(){},r)null==this[o]&&console.warn(t.name+": "+o+" parameter is undefined."),this[o]=r[o];this.textColorArr=V.hexToRgb(this.textColor),this.textColor="rgba("+this.textColorArr[0]+", "+this.textColorArr[1]+", "+this.textColorArr[2]+", 1)",this.textStrokeColor="rgba("+this.textColorArr[0]+", "+this.textColorArr[1]+", "+this.textColorArr[2]+", 1)",this.type="Angle"}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.updateAngle(),this.updatePixelLocation(),this.adjustScale(),this.tempAngle2=this.angle2,this.angle2=this.angle1,this.textColor="rgba("+this.textColorArr[0]+", "+this.textColorArr[1]+", "+this.textColorArr[2]+", 0)",this.textStrokeColor="rgba(255, 255, 255, 0)";var s=new n.Tween({angle:this.angle1}).to({angle:this.tempAngle2,opacity:1},700).easing(j.Easing.Sinusoidal.InOut).delay(150).on("update",(function(t){i.angle2=t.angle})).on("complete",(function(){r.start()})),r=new n.Tween({opacity:0}).to({opacity:1},900).easing(j.Easing.Sinusoidal.InOut).on("update",(function(t){i.textColor="rgba("+i.textColorArr[0]+", "+i.textColorArr[1]+", "+i.textColorArr[2]+", "+t.opacity+")",i.textStrokeColor="rgba(255, 255, 255, "+.8*t.opacity+")"})).delay(100).on("complete",(function(){i.completeCallback&&i.completeCallback()}));s.start()}},{key:"render",value:function(){this.line1End.x==this.line2Start.x&&this.line1End.y==this.line2Start.y&&(this.context.beginPath(),this.context.lineWidth=this.borderWidth,this.context.strokeStyle=this.color,this.context.font=this.fontSize,this.context.arc(this.commonPtPx.x,this.commonPtPx.y,this.arcRadius,this.angle1,this.angle2,!1),this.context.stroke(),this.context.textAlign="center",this.context.lineWidth=4,this.context.strokeStyle=this.textStrokeColor,this.context.strokeText(this.angleText,this.commonPtPx.x+this.locLabel.x,this.commonPtPx.y+this.locLabel.y),this.context.fillStyle=this.textColor,this.context.fillText(this.angleText,this.commonPtPx.x+this.locLabel.x,this.commonPtPx.y+this.locLabel.y))}},{key:"updateAngle",value:function(){this.vector1={x:this.line1Start.x-this.line1End.x,y:this.line1Start.y-this.line1End.y},this.vector2={x:this.line2End.x-this.line2Start.x,y:this.line2End.y-this.line2Start.y},this.angle1=V.getAngle(this.vector1),this.angle2=V.getAngle(this.vector2),this.angle2<this.angle1&&(this.angle2+=D.TWO_PI),this.angle=this.angle2-this.angle1,this.angleText=(180*this.angle/Math.PI).toFixed(1)+"",this.labelAngle=(this.angle1+this.angle/2)%D.TWO_PI}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.line1End,this.commonPtPx)}},{key:"adjustScale",value:function(){var t=Math.min(V.getDistance(this.container.getPixFromCoorPt(this.line1Start),this.container.getPixFromCoorPt(this.line1End)),V.getDistance(this.container.getPixFromCoorPt(this.line2Start),this.container.getPixFromCoorPt(this.line2End)));t<this.thresholdSide?this.arcRadius=t*D.TAN_PI_BY_12:this.arcRadius=this.defaultArcRadius,this.locLabel=V.getXYFromTheta(this.labelAngle,this.arcRadius+27,this.arcRadius+14),this.locLabel.y+=this.defaultFontSize/3}}])&&B(e.prototype,i),s&&B(e,s),t}();i(1);function W(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var H=i(2),z=i(0);Object(n.autoPlay)(!0);var U=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rulerWidth=2.5,this.rulerLength=20,this.endOffset=.5,this.centiTickLength=.9,this.tickDistFromFront=this.centiTickLength+.13,this.halfCentiTickLength=.6,this.milliTickLength=.4,this.color="#ff0000",this.tickColor="#444444",e)null==this[i]&&console.warn(t.name+": "+i+" parameter is undefined."),this[i]=e[i];this.labelSizeInCoor=.3,this.boundaryColor="#222222",this.innerColorA=this.color+"cc",this.borderColor=this.color+"55",this.type="Ruler",this.globalAlpha=1,this.visible=!1,this.vectToMoveBack={x:0,y:0}}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.generatePoints(),this.adjustScale(),this.testVector=new L({x:0,y:0},{x:1,y:1},{color:"#000000"}),this.testNormalVector=new L({x:0,y:0},{x:1,y:1},{color:"#00ff00"})}},{key:"generatePoints",value:function(){this.fromPt={x:0,y:0},this.toPt={x:-2,y:0},this.vector={x:this.toPt.x-this.fromPt.x,y:this.toPt.y-this.fromPt.y},this.unitVector=H.getUnitVector(this.vector),this.faceLeft=this.getLeftFacing(this.vector),this.cmTickDirFactor=0,this.cmTickDirFactor1=1,this.faceLeft?(this.lbDirectionFactor=1,this.normalVector={x:-this.unitVector.y*this.rulerWidth,y:this.unitVector.x*this.rulerWidth},this.lbAngle=H.getAngle(this.vector)):(this.lbDirectionFactor=-1,this.normalVector={x:this.unitVector.y*this.rulerWidth,y:-this.unitVector.x*this.rulerWidth},this.lbAngle=H.getAngle(this.vector)+Math.PI),this.unitNormalVector=H.getUnitVector(this.normalVector),this.startPt=this.fromPt,this.endPt={x:this.startPt.x+this.unitVector.x*this.rulerLength,y:this.startPt.y+this.unitVector.y*this.rulerLength},this.offsettedStartTip={x:this.startPt.x-this.unitVector.x*this.endOffset,y:this.startPt.y-this.unitVector.y*this.endOffset},this.offsettedEndTip={x:this.endPt.x+this.unitVector.x*this.endOffset,y:this.endPt.y+this.unitVector.y*this.endOffset},this.backStartTip={x:this.offsettedStartTip.x+this.normalVector.x,y:this.offsettedStartTip.y+this.normalVector.y},this.backEndTip={x:this.offsettedEndTip.x+this.normalVector.x,y:this.offsettedEndTip.y+this.normalVector.y},this.tickStarts=[],this.tickEnds=[],this.tickStartsPx=[],this.tickEndsPx=[],this.tickLabelStartPos={},this.tickLabelPosStartPx={},this.offsettedEndTipPx={},this.offsettedStartTipPx={},this.backStartTipPx={},this.backEndTipPx={};for(var t=0;t<1+10*this.rulerLength;t++){var e={x:this.startPt.x+this.unitVector.x*(t/10),y:this.startPt.y+this.unitVector.y*(t/10)},i=void 0;t%10==0?(i={x:e.x+this.unitNormalVector.x*this.centiTickLength,y:e.y+this.unitNormalVector.y*this.centiTickLength},0==t&&(this.tickLabelStartPos={x:e.x+this.unitNormalVector.x*this.tickDistFromFront,y:e.y+this.unitNormalVector.y*this.tickDistFromFront})):i=t%5==0?{x:e.x+this.unitNormalVector.x*this.halfCentiTickLength,y:e.y+this.unitNormalVector.y*this.halfCentiTickLength}:{x:e.x+this.unitNormalVector.x*this.milliTickLength,y:e.y+this.unitNormalVector.y*this.milliTickLength},this.tickStarts.push(e),this.tickEnds.push(i),this.tickStartsPx.push({}),this.tickEndsPx.push({})}this.updatePixelLocation()}},{key:"render",value:function(){if(this.visible){this.context.save(),this.context.globalAlpha=this.globalAlpha,this.context.beginPath(),this.context.font=this.labelSize,this.context.lineWidth=1.5,this.context.lineJoin="round",this.context.strokeStyle=this.borderColor,this.context.moveTo(this.offsettedStartTipPx.x,this.offsettedStartTipPx.y),this.context.lineTo(this.offsettedEndTipPx.x,this.offsettedEndTipPx.y),this.context.lineTo(this.backEndTipPx.x,this.backEndTipPx.y),this.context.lineTo(this.backStartTipPx.x,this.backStartTipPx.y),this.context.fillStyle=this.innerColorA,this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.strokeStyle=this.tickColor;for(var t=0;t<this.tickStartsPx.length;t++)this.context.moveTo(this.tickStartsPx[t].x,this.tickStartsPx[t].y),this.context.lineTo(this.tickEndsPx[t].x,this.tickEndsPx[t].y);this.context.stroke(),this.context.save(),this.context.translate(this.tickLabelPosStartPx.x,this.tickLabelPosStartPx.y),this.context.rotate(this.lbAngle),this.context.textAlign="center",this.context.fillStyle=this.tickColor;for(var e=0;e<=20;e++)this.context.fillText(this.cmTickDirFactor+this.cmTickDirFactor1*e,this.lbDirectionFactor*e*this.distBetweenMjrTicks,0);this.context.restore(),this.context.restore()}}},{key:"updatePixelLocation",value:function(){this.vectToMoveBack.x=1.3*this.unitNormalVector.x,this.vectToMoveBack.y=-1.3*this.unitNormalVector.y,this.container.getPixFromCoorPtFTwOF(this.offsettedStartTip,this.offsettedStartTipPx,this.vectToMoveBack),this.container.getPixFromCoorPtFTwOF(this.offsettedEndTip,this.offsettedEndTipPx,this.vectToMoveBack),this.container.getPixFromCoorPtFTwOF(this.backStartTip,this.backStartTipPx,this.vectToMoveBack),this.container.getPixFromCoorPtFTwOF(this.backEndTip,this.backEndTipPx,this.vectToMoveBack);for(var t=0;t<this.tickStarts.length;t++)this.container.getPixFromCoorPtFTwOF(this.tickStarts[t],this.tickStartsPx[t],this.vectToMoveBack),this.container.getPixFromCoorPtFTwOF(this.tickEnds[t],this.tickEndsPx[t],this.vectToMoveBack);this.container.getPixFromCoorPtFTwOF(this.tickLabelStartPos,this.tickLabelPosStartPx,this.vectToMoveBack)}},{key:"moveTo",value:function(t,e,i){var n,s=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=this.getLeftFacing({x:e.x-t.x,y:e.y-t.y});n=this.faceLeft?o?this.fromPt:{x:this.fromPt.x-this.unitVector.x*this.rulerLength,y:this.fromPt.y-this.unitVector.y*this.rulerLength}:o?{x:this.fromPt.x+this.unitVector.x*this.rulerLength,y:this.fromPt.y+this.unitVector.y*this.rulerLength}:this.fromPt;var a=H.getAngleCC({x:n.x-this.toPt.x,y:n.y-this.toPt.y}),h=H.getAngleCC({x:t.x-e.x,y:t.y-e.y}),c=a-h,l=t.x-(Math.cos(c)*n.x+Math.sin(c)*n.y),u=t.y-(-Math.sin(c)*n.x+Math.cos(c)*n.y),f={x:this.offsettedStartTip.x,y:this.offsettedStartTip.y},p={x:this.offsettedEndTip.x,y:this.offsettedEndTip.y},d={x:this.backStartTip.x,y:this.backStartTip.y},v={x:this.backEndTip.x,y:this.backEndTip.y},g=[];this.tickStarts.forEach((function(t){g.push({x:t.x,y:t.y})}));var x=[];this.tickEnds.forEach((function(t){x.push({x:t.x,y:t.y})}));var y,m,P,T,b,k,_={x:this.tickLabelStartPos.x,y:this.tickLabelStartPos.y};this.visible?b=1200:(b=0,this.globalAlpha=0,k=new z.Tween({opacity:0}).to({opacity:1},600).easing(z.Easing.Sinusoidal.In).on("update",(function(t){s.globalAlpha=t.opacity})).on("complete",(function(){i&&i()})),this.visible=!0),new z.Tween({theta:0,dx:0,dy:0}).to({theta:c,dx:l,dy:u},b).easing(z.Easing.Sinusoidal.Out).delay(r).on("start",(function(){s.faceLeft=o,s.cmTickDirFactor=20*s.faceLeft,s.cmTickDirFactor1=-2*s.faceLeft+1})).on("update",(function(t){y=Math.cos(t.theta),m=Math.sin(t.theta),P=-Math.sin(t.theta),T=Math.cos(t.theta),s.offsettedStartTip.x=y*f.x+m*f.y+t.dx,s.offsettedStartTip.y=P*f.x+T*f.y+t.dy,s.offsettedEndTip.x=y*p.x+m*p.y+t.dx,s.offsettedEndTip.y=P*p.x+T*p.y+t.dy,s.backStartTip.x=y*d.x+m*d.y+t.dx,s.backStartTip.y=P*d.x+T*d.y+t.dy,s.backEndTip.x=y*v.x+m*v.y+t.dx,s.backEndTip.y=P*v.x+T*v.y+t.dy;for(var e=0;e<s.tickStarts.length;e++)s.tickStarts[e].x=y*g[e].x+m*g[e].y+t.dx,s.tickStarts[e].y=P*g[e].x+T*g[e].y+t.dy,s.tickEnds[e].x=y*x[e].x+m*x[e].y+t.dx,s.tickEnds[e].y=P*x[e].x+T*x[e].y+t.dy;s.tickLabelStartPos.x=y*_.x+m*_.y+t.dx,s.tickLabelStartPos.y=P*_.x+T*_.y+t.dy,s.unitVector=H.getUnitVector({x:s.offsettedEndTip.x-s.offsettedStartTip.x,y:s.offsettedEndTip.y-s.offsettedStartTip.y}),s.normalVector={x:s.unitVector.y*s.rulerWidth,y:-s.unitVector.x*s.rulerWidth},s.lbAngle=H.getAngle(s.unitVector)+Math.PI,s.unitNormalVector=H.getUnitVector(s.normalVector),s.updatePixelLocation()})).on("complete",(function(){s.fromPt=t,s.toPt=e,k?k.start():i&&i()})).start()}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.visible&&new z.Tween({alpha:this.globalAlpha}).to({alpha:0},500).easing(z.Easing.Sinusoidal.In).delay(e).on("update",(function(e){t.globalAlpha=e.alpha})).on("complete",(function(e){t.visible=!1})).start()}},{key:"adjustScale",value:function(){this.distBetweenMjrTicks=1/this.container.coorPerPixel,this.labelSize="bold "+(this.labelSizeInCoor/this.container.coorPerPixel).toFixed(1)+"pt Computer Modern"}},{key:"getBoundingBoxCoor",value:function(){}},{key:"getLeftFacing",value:function(t){var e=H.getAngleCC(t);return 0<=e&&e<Math.PI}}])&&W(e.prototype,i),n&&W(e,n),t}();function G(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var q=i(2),X=i(0);Object(n.autoPlay)(!0);var Y=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color="#5b79ff",this.halfWidth=.29,this.length=11,this.headLength=1.1,this.tipLength=.29,this.tipBaseHalfWidth=.07,this.eraserHeight=.4,e)null==this[i]&&console.warn(t.name+": "+i+" parameter is undefined."),this[i]=e[i];this.colorRGB=q.hexToRgb(this.color),this.colorRGBa="rgba("+this.colorRGB[0]+", "+this.colorRGB[1]+", "+this.colorRGB[2]+", 1)",this.pos={x:0,y:0},this.posPx={},this.globalAlpha=1,this.pencilInclinationAngle=Math.PI/3,this.type="Pencil",this.neckLeftPx={x:0,y:0},this.neckRightPx={x:0,y:0},this.endLeftPx={x:0,y:0},this.endRightPx={x:0,y:0},this.tipBaseLeftPx={x:0,y:0},this.tipBaseRightPx={x:0,y:0},this.eraserTopLeftPx={x:0,y:0},this.eraserTopRightPx={x:0,y:0},this.eraserNeckLeftPx={x:0,y:0},this.eraserNeckRightPx={x:0,y:0},this.defaultPoints=[],this.updatedPoints=[],this.visible=!1,this.generatePoints()}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.testVector=new L({x:0,y:0},{x:1,y:1},{color:"#ff9223"}),this.updatePixelLocation()}},{key:"generatePoints",value:function(){this.pencilVectorD=new R(Math.cos(0)*this.length,Math.sin(0)*this.length),this.pencilVector=this.pencilVectorD.clone(),this.pencilUVect=q.getUnitVector(this.pencilVector),this.normalUVect={x:-this.pencilUVect.y,y:this.pencilUVect.x},this.tipBase=new R(this.pencilUVect.x*this.tipLength,this.pencilUVect.y*this.tipLength),this.tipBaseLeftD=new R(this.tipBase.x+this.normalUVect.x*this.tipBaseHalfWidth,this.tipBase.y+this.normalUVect.y*this.tipBaseHalfWidth),this.defaultPoints.push(this.tipBaseLeftD),this.tipBaseLeft=this.tipBaseLeftD.clone(),this.updatedPoints.push(this.tipBaseLeft),this.tipBaseRightD=new R(this.tipBase.x-this.normalUVect.x*this.tipBaseHalfWidth,this.tipBase.y-this.normalUVect.y*this.tipBaseHalfWidth),this.defaultPoints.push(this.tipBaseRightD),this.tipBaseRight=this.tipBaseRightD.clone(),this.updatedPoints.push(this.tipBaseRight),this.pencilNeckD=new R(this.pencilUVect.x*this.headLength,this.pencilUVect.y*this.headLength),this.defaultPoints.push(this.pencilNeckD),this.pencilNeck=this.pencilNeckD.clone(),this.updatedPoints.push(this.pencilNeck),this.neckLeftD=new R(this.pencilNeck.x+this.normalUVect.x*this.halfWidth,this.pencilNeck.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.neckLeftD),this.neckLeft=this.neckLeftD.clone(),this.updatedPoints.push(this.neckLeft),this.neckRightD=new R(this.pencilNeck.x-this.normalUVect.x*this.halfWidth,this.pencilNeck.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.neckRightD),this.neckRight=this.neckRightD.clone(),this.updatedPoints.push(this.neckRight),this.endLeftD=new R(this.pencilVector.x+this.normalUVect.x*this.halfWidth,this.pencilVector.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.endLeftD),this.endLeft=this.endLeftD.clone(),this.updatedPoints.push(this.endLeft),this.endRightD=new R(this.pencilVector.x-this.normalUVect.x*this.halfWidth,this.pencilVector.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.endRightD),this.endRight=this.endRightD.clone(),this.updatedPoints.push(this.endRight),this.vectorEraserNeckD=new R(Math.cos(0)*(this.length+this.eraserHeight),Math.sin(0)*(this.length+this.eraserHeight)),this.defaultPoints.push(this.vectorEraserNeckD),this.vectorEraserNeck=this.vectorEraserNeckD.clone(),this.updatedPoints.push(this.vectorEraserNeck),this.eraserNeckLeftD=new R(this.vectorEraserNeck.x+this.normalUVect.x*this.halfWidth,this.vectorEraserNeck.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserNeckLeftD),this.eraserNeckLeft=this.eraserNeckLeftD.clone(),this.updatedPoints.push(this.eraserNeckLeft),this.eraserNeckRightD=new R(this.vectorEraserNeck.x-this.normalUVect.x*this.halfWidth,this.vectorEraserNeck.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserNeckRightD),this.eraserNeckRight=this.eraserNeckRightD.clone(),this.updatedPoints.push(this.eraserNeckRight),this.vectorEraserEndD=new R(Math.cos(0)*(this.length+this.eraserHeight+.22),Math.sin(0)*(this.length+this.eraserHeight+.22)),this.defaultPoints.push(this.vectorEraserEndD),this.vectorEraserEnd=this.vectorEraserEndD.clone(),this.updatedPoints.push(this.vectorEraserEnd),this.eraserTopLeftD=new R(this.vectorEraserEnd.x+this.normalUVect.x*this.halfWidth,this.vectorEraserEnd.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserTopLeftD),this.eraserTopLeft=this.eraserTopLeftD.clone(),this.updatedPoints.push(this.eraserTopLeft),this.eraserTopRightD=new R(this.vectorEraserEnd.x-this.normalUVect.x*this.halfWidth,this.vectorEraserEnd.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserTopRightD),this.eraserTopRight=this.eraserTopRightD.clone(),this.updatedPoints.push(this.eraserTopRight)}},{key:"move",value:function(t){this.pos=t;for(var e=0;e<this.defaultPoints.length;e++)this.updatedPoints[e].x=this.r1_c1*this.defaultPoints[e].x+this.r1_c2*this.defaultPoints[e].y+t.x,this.updatedPoints[e].y=this.r2_c1*this.defaultPoints[e].x+this.r2_c2*this.defaultPoints[e].y+t.y;this.updatePixelLocation()}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;new X.Tween({opacity:this.globalAlpha}).to({opacity:0},400).easing(X.Easing.Sinusoidal.In).delay(e).on("update",(function(e){t.globalAlpha=e.opacity})).on("complete",(function(){t.visible=!1})).start()}},{key:"prepareToDrawLine",value:function(t,e,i){var n,s=this;this.lineVector={x:e.x-t.x,y:e.y-t.y},this.unitLineVector=q.getUnitVector(this.lineVector),this.angle=q.getAngleCC(this.lineVector),n=0<=this.angle&&this.angle<Math.PI?this.angle-this.pencilInclinationAngle:this.angle+this.pencilInclinationAngle,this.r1_c1=Math.cos(n),this.r1_c2=-Math.sin(n),this.r2_c1=Math.sin(n),this.r2_c2=Math.cos(n),this.updatePixelLocation();var r=new X.Tween({opacity:0}).to({opacity:1},600).easing(X.Easing.Circular.In).on("update",(function(t){s.globalAlpha=t.opacity})).on("complete",(function(){i&&setTimeout(i,300)}));this.visible?new X.Tween({opacity:1}).to({opacity:0},400).easing(X.Easing.Sinusoidal.Out).on("update",(function(t){s.globalAlpha=t.opacity})).on("complete",(function(){s.move(t),s.updatePixelLocation(),r.start()})).start():(this.globalAlpha=0,this.move(t),this.visible=!0,r.start())}},{key:"prepareToDrawPoint",value:function(t,e){}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.pos,this.posPx),this.container.getPixFromCoorPtFT(this.tipBaseLeft,this.tipBaseLeftPx),this.container.getPixFromCoorPtFT(this.tipBaseRight,this.tipBaseRightPx),this.container.getPixFromCoorPtFT(this.neckLeft,this.neckLeftPx),this.container.getPixFromCoorPtFT(this.neckRight,this.neckRightPx),this.container.getPixFromCoorPtFT(this.endLeft,this.endLeftPx),this.container.getPixFromCoorPtFT(this.endRight,this.endRightPx),this.container.getPixFromCoorPtFT(this.eraserTopLeft,this.eraserTopLeftPx),this.container.getPixFromCoorPtFT(this.eraserTopRight,this.eraserTopRightPx),this.container.getPixFromCoorPtFT(this.eraserNeckLeft,this.eraserNeckLeftPx),this.container.getPixFromCoorPtFT(this.eraserNeckRight,this.eraserNeckRightPx)}},{key:"render",value:function(){this.visible&&(this.context.save(),this.context.globalAlpha=this.globalAlpha,this.context.lineJoin="round",this.context.lineWidth=1,this.context.strokeStyle="#000000",this.context.fillStyle="#000000",this.context.beginPath(),this.context.moveTo(this.posPx.x,this.posPx.y),this.context.lineTo(this.tipBaseLeftPx.x,this.tipBaseLeftPx.y),this.context.lineTo(this.tipBaseRightPx.x,this.tipBaseRightPx.y),this.context.stroke(),this.context.fill(),this.context.strokeStyle="#ceaf9a",this.context.fillStyle="#DEBFAA",this.context.beginPath(),this.context.moveTo(this.tipBaseLeftPx.x,this.tipBaseLeftPx.y),this.context.lineTo(this.neckLeftPx.x,this.neckLeftPx.y),this.context.lineTo(this.neckRightPx.x,this.neckRightPx.y),this.context.lineTo(this.tipBaseRightPx.x,this.tipBaseRightPx.y),this.context.fill(),this.context.stroke(),this.context.strokeStyle="#4d4072",this.context.fillStyle="#5c4b89",this.context.beginPath(),this.context.moveTo(this.neckLeftPx.x,this.neckLeftPx.y),this.context.lineTo(this.endLeftPx.x,this.endLeftPx.y),this.context.lineTo(this.endRightPx.x,this.endRightPx.y),this.context.lineTo(this.neckRightPx.x,this.neckRightPx.y),this.context.fill(),this.context.stroke(),this.context.strokeStyle="#91323c",this.context.fillStyle="#B03543",this.context.beginPath(),this.context.moveTo(this.endLeftPx.x,this.endLeftPx.y),this.context.lineTo(this.eraserNeckLeftPx.x,this.eraserNeckLeftPx.y),this.context.bezierCurveTo(this.eraserTopLeftPx.x,this.eraserTopLeftPx.y,this.eraserTopRightPx.x,this.eraserTopRightPx.y,this.eraserNeckRightPx.x,this.eraserNeckRightPx.y),this.context.lineTo(this.endRightPx.x,this.endRightPx.y),this.context.fill(),this.context.stroke(),this.context.restore())}},{key:"adjustScale",value:function(){}}])&&G(e.prototype,i),n&&G(e,n),t}();function Q(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1);var $=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos={x:100,y:30},this.itemSize="Large"}var e,i,n;return e=t,(i=[{key:"render",value:function(){var t=new Date;this.context.save(),this.context.translate(150,150),this.context.rotate(-Math.PI/2),this.context.strokeStyle="black",this.context.fillStyle="white",this.context.lineWidth=8,this.context.lineCap="round",this.context.save();for(var e=0;e<12;e++)this.context.beginPath(),this.context.rotate(Math.PI/6),this.context.moveTo(100,0),this.context.lineTo(120,0),this.context.stroke();for(this.context.restore(),this.context.save(),this.context.lineWidth=5,e=0;e<60;e++)e%5!=0&&(this.context.beginPath(),this.context.moveTo(117,0),this.context.lineTo(120,0),this.context.stroke()),this.context.rotate(Math.PI/30);this.context.restore();var i=t.getSeconds(),n=t.getMinutes(),s=t.getHours();s=s>=12?s-12:s,this.context.fillStyle="black",this.context.save(),this.context.rotate(s*(Math.PI/6)+Math.PI/360*n+Math.PI/21600*i),this.context.lineWidth=14,this.context.beginPath(),this.context.moveTo(-20,0),this.context.lineTo(80,0),this.context.stroke(),this.context.restore(),this.context.save(),this.context.rotate(Math.PI/30*n+Math.PI/1800*i),this.context.lineWidth=10,this.context.beginPath(),this.context.moveTo(-28,0),this.context.lineTo(112,0),this.context.stroke(),this.context.restore(),this.context.save(),this.context.rotate(i*Math.PI/30),this.context.strokeStyle="#D40000",this.context.fillStyle="#D40000",this.context.lineWidth=6,this.context.beginPath(),this.context.moveTo(-30,0),this.context.lineTo(83,0),this.context.stroke(),this.context.beginPath(),this.context.arc(0,0,10,0,2*Math.PI,!0),this.context.fill(),this.context.beginPath(),this.context.arc(95,0,10,0,2*Math.PI,!0),this.context.stroke(),this.context.fillStyle="rgba(0, 0, 0, 0)",this.context.arc(0,0,3,0,2*Math.PI,!0),this.context.fill(),this.context.restore(),this.context.beginPath(),this.context.lineWidth=14,this.context.strokeStyle="#325FA2",this.context.arc(0,0,142,0,2*Math.PI,!0),this.context.stroke(),this.context.restore()}},{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.context&&(this.pos_px=this.container.getPixFromCoorPt(this.pos))}}])&&Q(e.prototype,i),n&&Q(e,n),t}()},function(t,e,i){"use strict";i.r(e);var n=i(0),s=function(){var t=0,e=document.createElement("div");function i(t){return e.appendChild(t.dom),t}function n(i){for(var n=0;n<e.children.length;n++)e.children[n].style.display=n===i?"block":"none";t=i}e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",(function(i){i.preventDefault(),n(++t%e.children.length)}),!1);var r=(performance||Date).now(),o=r,a=0,h=i(new s.Panel("FPS","#0ff","#002")),c=i(new s.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=i(new s.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:i,showPanel:n,begin:function(){r=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(c.update(t-r,200),t>=o+1e3&&(h.update(1e3*a/(t-o),100),o=t,a=0,l)){var e=performance.memory;l.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){r=this.end()},domElement:e,setMode:n}};s.Panel=function(t,e,i){var n=1/0,s=0,r=Math.round,o=r(window.devicePixelRatio||1),a=80*o,h=48*o,c=3*o,l=2*o,u=3*o,f=15*o,p=74*o,d=30*o,v=document.createElement("canvas");v.width=a,v.height=h,v.style.cssText="width:80px;height:48px";var g=v.getContext("2d");return g.font="bold "+9*o+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=i,g.fillRect(0,0,a,h),g.fillStyle=e,g.fillText(t,c,l),g.fillRect(u,f,p,d),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(u,f,p,d),{dom:v,update:function(h,x){n=Math.min(n,h),s=Math.max(s,h),g.fillStyle=i,g.globalAlpha=1,g.fillRect(0,0,a,f),g.fillStyle=e,g.fillText(r(h)+" "+t+" ("+r(n)+"-"+r(s)+")",c,l),g.drawImage(v,u+o,f,p-o,d,u,f,p-o,d),g.fillRect(u+p-o,f,o,d),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(u+p-o,f,o,r((1-h/x)*d))}}};var r=s,o=i(7),a=i(6);Object(n.autoPlay)(!0);var h=i(2),c=new r;document.getElementById("toolbar_top").appendChild(c.dom);var l=new o.Stage("container_2d"),u=l.getGrid(),f=new o.Point({x:2,y:1});u.addItem(f);var p=new o.Layer;l.addLayer(p);var d=new o.Clock;p.addItem(d);var v=new o.Ruler({color:"#3b84dd"});u.addItem(v);var g=new o.Pencil;function x(){requestAnimationFrame(x),l.render()}u.addItem(g),document.getElementById("btnStop1").addEventListener("click",(function(t){Math.random(),Math.random(),Math.random(),Math.random(),Math.random(),Math.random();var e=new o.Vector2(-2.6,2),i=new o.Vector2(-1.8,-3.4),n=new o.Vector2(.1,2.5),s=new o.Line(e.clone(),i.clone(),{autoDraw:!1});u.addItem(s),v.moveTo(e,i,(function(){g.prepareToDrawLine(e,i,(function(){s.draw((function(t){g.move(t)}),(function(){r()}))}))}),500);var r=function(){var t=new o.Line(i.clone(),n.clone(),{autoDraw:!1});u.addItem(t),g.hide(),v.moveTo(i,n,(function(){g.prepareToDrawLine(i,n,(function(){t.draw((function(t){g.move(t)}),(function(){a()}))}))}),500)},a=function(){var t=new o.Line(n.clone(),e.clone(),{autoDraw:!1});u.addItem(t),g.hide(),v.moveTo(n,e,(function(){g.prepareToDrawLine(n,e,(function(){t.draw((function(t){g.move(t)}),(function(){v.hide(),g.hide()}))}))}),500)}})),document.getElementById("btn2").addEventListener("click",(function(t){var e=new o.Triangle({x:-1.3,y:-3.5},{x:2,y:-1.1},{x:.6,y:2.5},{color:"#e811fd",completeCallback:function(){var t,i=h.getAngleFrom3Points(e.vertexArr[0],e.vertexArr[1],e.vertexArr[2]),n=[];if(i>Math.PI){t=1;for(var s=0;s<3;s++){var r=new o.Angle(e.vertexArr[t],e.vertexArr[(t+2)%3],e.vertexArr[(t+2)%3],e.vertexArr[(t+1)%3]);t=(t+2)%3,n.push(r)}}else{t=2;for(var a=0;a<3;a++){var c=new o.Angle(e.vertexArr[t],e.vertexArr[(t+1)%3],e.vertexArr[(t+1)%3],e.vertexArr[(t+2)%3]);t=(t+1)%3,n.push(c)}}for(var l=function(t){n[t-1].completeCallback=function(){u.addItem(n[t])}},f=1;f<n.length;f++)l(f);u.addItem(n[0])}});u.addItem(e)})),document.getElementById("btnStop").addEventListener("click",(function(t){l.grid.moveAndScale({x:0,y:0})})),a.WebFontConfig={},a.load({custom:{families:["Computer Modern"],urls:["styles/font.css"]},timeout:5e3,active:function(){x()}})}]);