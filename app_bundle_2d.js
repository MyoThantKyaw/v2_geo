var threeD=function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=9)}([function(t,e,i){(function(t,i){!function(e){"use strict";function n(t){var e=f.indexOf(t);-1<e&&f.splice(e,1),f.push(t),y=0,p&&!d&&(a=g(b),d=!0)}function s(t){for(var e=0;e<f.length;e++)if(t===f[e])return f[e];return null}function o(){return d}function r(){return m}var a,h="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:this||(void 0!==e?e:{}),c=h.requestAnimationFrame||function(t){return h.setTimeout(t,50/3)},l=h.cancelAnimationFrame||function(t){return h.clearTimeout(t)},u=function(){if(void 0===i||void 0===i.hrtime||i.versions&&void 0!==i.versions.electron){if(void 0!==h.performance&&void 0!==h.performance.now)return h.performance.now.bind(h.performance);var t=h.performance&&h.performance.timing&&h.performance.timing.navigationStart?h.performance.timing.navigationStart:Date.now();return function(){return Date.now()-t}}return function(){var t=i.hrtime();return 1e3*t[0]+t[1]/1e6}}(),f=[],d=!1,p=!1,x=[],g=c,y=0,v=120,m=!0,P=function(t){var e=f.indexOf(t);-1!==e&&f.splice(e,1),0===f.length&&(l(a),d=!1)},b=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u(),i=1<arguments.length?arguments[1]:void 0;if(v<=y&&m)return d=!1,y=0,l(a),!1;p&&d?a=g(t):function(){for(var t=0;t<x.length;t++)x[t]()}(),f.length||y++;for(var n=0,s=f.length;n<s;)f[n++].update(e,i),s>f.length&&n--,s=f.length;return!0},k={},T={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return Math.pow(t,2)},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,2):-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return Math.pow(t,3)},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,3):.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return Math.pow(t,4)},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,4):-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return Math.pow(t,5)},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*Math.pow(t,5):.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){return t*t*(2.70158*t-1.70158)},Out:function(t){return--t*t*(2.70158*t+1.70158)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)}},Bounce:{In:function(t){return 1-T.Bounce.Out(1-t)},Out:function(t){var e=2.75,i=7.5625;return t<1/e?i*t*t:t<2/e?i*(t-=1.5/e)*t+.75:t<2.5/e?i*(t-=2.25/e)*t+.9375:i*(t-=2.625/e)*t+.984375},InOut:function(t){return t<.5?.5*T.Bounce.In(2*t):.5*T.Bounce.Out(2*t-1)+.5}},Stepped:{steps:function(t){return function(e){return(e*t|0)/t}}}};function C(t){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function R(t,e,i){return e&&w(t.prototype,e),i&&w(t,i),t}function A(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?A(Object(i),!0).forEach((function(e){var n,s,o;n=t,o=i[s=e],s in n?Object.defineProperty(n,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[s]=o})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?B(t):e}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var i=[],n=!0,s=!1,o=void 0;try{for(var r,a=t[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!e||i.length!==e);n=!0);}catch(t){s=!0,o=t}finally{try{n||null==a.return||a.return()}finally{if(s)throw o}}return i}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var O=50/3,F="_chainedTweens",G="Callback",j="update",V="complete",D="start",W="repeat",N="reverse",H="restart",z="STRING_PROP",U=/\s+|([A-Za-z?().,{}:""[\]#%]+)|([-+]=+)?([-+]+)?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]=?\d+)?/g;function q(t){if(t&&t.nodeType||void 0===t||"object"!==C(t))return t;if(Array.isArray(t))return[].concat(t);if("object"!==C(t))return t;var e={};for(var i in t)e[i]=q(t[i]);return e}var Y=/^#([0-9a-f]{6}|[0-9a-f]{3})$/gi,X=function(t,e){var i,n,s;3===e.length&&(e=(i=e[0])+i+(n=e[1])+n+(s=e[2])+s);var o=parseInt(e,16);return"rgb("+(i=o>>16&255)+", "+(n=o>>8&255)+", "+(s=255&o)+")"};function Q(t){if(t&&t.splice&&t.isString)return t;if("string"!=typeof t)return t;if("="===t.charAt(1))return t;var e=t.replace(Y,X).match(U).map((function(t){return function(t){return isNaN(+t)||("+"===t[0]||"-"===t[0])&&"="===t[1]||""===t||" "===t}(t)?t:+t}));return e.isString=!0,e}function $(t,e,i,n){var s=i[t],o=n[t];if(s===o)return!0;if(Array.isArray(s)&&Array.isArray(o)&&s.length===o.length)for(var r=0,a=o.length;r<a;r++){var h=s[r],c=o[r];h===c||"number"==typeof h&&"number"==typeof c||$(r,e[t],s,o)}if(!("number"==typeof s&&"number"==typeof o||s&&s.splice&&s.isString&&o&&o.splice&&o.isString)){if("string"==typeof s&&Array.isArray(o)){var l=Q(s),u=o.map(Q);return i[t]=l,n[t]=u,!0}if("string"==typeof s||"string"==typeof o){var f=Array.isArray(s)&&s[0]===z?s:Q(s),d=Array.isArray(o)&&o[0]===z?o:Q(o);if(void 0===f)return;for(var p=1;p<f.length;)f[p]===d[p]&&"string"==typeof f[p-1]?(f.splice(p-1,2,f[p-1]+f[p]),d.splice(p-1,2,d[p-1]+d[p])):p++;return f[p=0]===z&&f.shift(),d[0]===z&&d.shift(),i[t]=f,n[t]=d,!0}if("object"===C(s)&&"object"===C(o)){if(Array.isArray(s)&&!s.isString)return s.map((function(i,n){return $(n,e[t],s,o)}));for(var x in o)$(x,e[t],s,o);return!0}}return!1}var J="rgba(",Z=function(t,e,i){var n=2<arguments.length&&void 0!==i?i:"rgb(";return"number"==typeof t[e]&&(t[e-1]===n||t[e-3]===n||t[e-5]===n)};function K(t,e,i,n,s,o,r){var a=r?i:i[t],h=r?n:n[t];if(void 0===h)return a;if(void 0===a||"string"==typeof a||a===h)return h;if("object"===C(a)&&"object"===C(h)){if(!a||!h)return e[t];if("object"===C(a)&&a&&a.isString&&h&&h.splice&&h.isString){for(var c="",l=0,u=a.length;l<u;l++)if(a[l]!==h[l]||"number"!=typeof a[l]||"number"==typeof h[l]){var f="number"==typeof a[l]&&"string"==typeof h[l]&&"="===h[l][1],d="number"!=typeof a[l]?a[l]:f?a[l]+parseFloat(h[l][0]+h[l].substr(2))*s:a[l]+(h[l]-a[l])*s;(Z(a,l)||Z(a,l,J))&&(d|=0),c+=d,f&&1===o&&(a[l]=a[l]+parseFloat(h[l][0]+h[l].substr(2)))}else c+=a[l];return r||(e[t]=c),c}if(Array.isArray(a)&&a[0]!==z)for(var p=0,x=a.length;p<x;p++)a[p]!==h[p]&&"string"!=typeof e[t]&&K(p,e[t],a,h,s,o);else if("object"===C(a)&&a&&!a.isString)for(var g in a)a[g]!==h[g]&&K(g,e[t],a,h,s,o)}else if("number"==typeof a){var y="string"==typeof h;e[t]=y?a+parseFloat(h[0]+h.substr(2))*s:a+(h-a)*s,y&&1===o&&(i[t]=e[t])}else"function"==typeof h&&(e[t]=h(s));return e[t]}function tt(t,e){var i=t[e],n=e.replace(st,"").split(nt),s=n.length-1,o=Array.isArray(t),r="object"===C(t)&&!o;return r?(t[e]=null,delete t[e]):o&&t.splice(e,1),n.reduce((function(t,e,a){o&&"."!==e&&"["!==e&&(e*=1);var h="["===n[a+1];if("."===e||"["===e)return"."===e?o=!(r=!0):"["===e&&(o=!(r=!1)),t;if(void 0===t[e]){if(o||r)return t[e]=a===s?i:o||h?[]:r?{}:null,r=o=!1,t[e]}else if(void 0!==t[e])return a===s&&(t[e]=i),t[e];return t}),t)}function et(t){if("object"===C(t)&&t)for(var e in t)if(-1!==e.indexOf(".")||-1!==e.indexOf("["))tt(t,e);else if("object"===C(t[e])&&t[e]){var i=t[e];for(var n in i)if(-1!==n.indexOf(".")||-1!==n.indexOf("["))tt(i,n);else if("object"===C(i[n])&&i[n]){var s=i[n];for(var o in s)-1===o.indexOf(".")&&-1===o.indexOf("[")||tt(s,o)}}return t}var it,nt=/([.[])/g,st=/\]/g,ot=Object.freeze({__proto__:null,FRAME_MS:O,TOO_LONG_FRAME_MS:250,CHAINED_TWEENS:F,EVENT_CALLBACK:G,EVENT_UPDATE:j,EVENT_COMPLETE:V,EVENT_START:D,EVENT_REPEAT:W,EVENT_REVERSE:N,EVENT_PAUSE:"pause",EVENT_PLAY:"play",EVENT_RESTART:H,EVENT_STOP:"stop",EVENT_SEEK:"seek",STRING_PROP:z,NUM_REGEX:U,deepCopy:q,decomposeString:Q,decompose:$,RGB:"rgb(",RGBA:J,isRGBColor:Z,recompose:K,SET_NESTED:et}),rt={Linear:function(t,e,i){var n=t.length-1,s=n*e,o=Math.floor(s),r=rt.Utils.Linear;return e<0?r(t[0],t[1],s,i):1<e?r(t[n],t[n-1],n-s,i):r(t[o],t[n<o+1?n:o+1],s-o,i)},Bezier:function(t,e,i){for(var n=rt.Utils.Reset(i),s=t.length-1,o=Math.pow,r=rt.Utils.Bernstein,a=Array.isArray(n),h=0;h<=s;h++)if("number"==typeof n)n+=o(1-e,s-h)*o(e,h)*t[h]*r(s,h);else if(a)for(var c=0,l=n.length;c<l;c++)"number"==typeof n[c]?n[c]+=o(1-e,s-h)*o(e,h)*t[h][c]*r(s,h):n[c]=t[h][c];else if("object"===C(n))for(var u in n)"number"==typeof n[u]?n[u]+=o(1-e,s-h)*o(e,h)*t[h][u]*r(s,h):n[u]=t[h][u];else if("string"==typeof n){for(var f="",d=t[Math.round(s*e)],p=1,x=d.length;p<x;p++)f+=d[p];return f}return n},CatmullRom:function(t,e,i){var n=t.length-1,s=n*e,o=Math.floor(s),r=rt.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(o=Math.floor(s=n*(1+e))),r(t[(o-1+n)%n],t[o],t[(o+1)%n],t[(o+2)%n],s-o,i)):e<0?r(t[1],t[1],t[0],t[0],-e,i):1<e?r(t[n-1],t[n-1],t[n],t[n],(0|e)-e,i):r(t[o?o-1:0],t[o],t[n<o+1?n:o+1],t[n<o+2?n:o+2],s-o,i)},Utils:{Linear:function(t,e,i,n){if(t===e||"string"==typeof t){if(e.length&&e.splice&&e.isString){e="";for(var s=0,o=t.length;s<o;s++)e+=t[s]}return e}if("number"==typeof t)return"function"==typeof t?t(i):t+(e-t)*i;if("object"===C(t)){if(void 0!==t.length){var r="string"==typeof t[0]||t.isString;if(r||t[0]===z){for(var a="",h=r?0:1,c=t.length;h<c;h++){var l=0===i?t[h]:1!==i&&"number"==typeof t[h]?t[h]+(e[h]-t[h])*i:e[h];(0<i&&i<1&&Z(t,h)||Z(t,h,J))&&(l|=0),a+=l}return a}if(n&&n.length&&n.splice)for(var u=0,f=n.length;u<f;u++)n[u]=rt.Utils.Linear(t[u],e[u],i,n[u])}else for(var d in n)n[d]=rt.Utils.Linear(t[d],e[d],i,n[d]);return n}},Reset:function(t){if(Array.isArray(t)){for(var e=0,i=t.length;e<i;e++)t[e]=rt.Utils.Reset(t[e]);return t}if("object"!==C(t))return"number"==typeof t?0:t;for(var n in t)t[n]=rt.Utils.Reset(t[n]);return t},Bernstein:function(t,e){var i=rt.Utils.Factorial;return i(t)/i(e)/i(t-e)},Factorial:(it=[1],function(t){var e=1;if(it[t])return it[t];for(var i=t;1<i;i--)e*=i;return it[t]=e}),CatmullRom:function(t,e,i,n,s,o){if("string"==typeof t)return e;if("number"==typeof t){var r=.5*(i-t),a=.5*(n-e),h=s*s;return(2*e-2*i+r+a)*(s*h)+(-3*e+3*i-2*r-a)*h+r*s+e}if("object"===C(t)){if(void 0!==t.length){if(t[0]===z){for(var c="",l=1,u=t.length;l<u;l++){var f="number"==typeof t[l]?rt.Utils.CatmullRom(t[l],e[l],i[l],n[l],s):n[l];(Z(t,l)||Z(t,l,J))&&(f|=0),c+=f}return c}for(var d=0,p=o.length;d<p;d++)o[d]=rt.Utils.CatmullRom(t[d],e[d],i[d],n[d],s,o[d])}else for(var x in o)o[x]=rt.Utils.CatmullRom(t[x],e[x],i[x],n[x],s,o[x]);return o}}}},at={};function ht(t,e,i){if(!t||!t.nodeType)return e;var n=t.queueID||"q_"+Date.now();t.queueID||(t.queueID=n);var s=at[n];if(s){if(s.object===e&&t===s.tween.node&&i._startTime===s.tween._startTime)P(s.tween);else if("object"===C(e)&&e&&s.object){for(var o in e)o in s.object&&(i._startTime===s.tween._startTime?delete s.object[o]:s.propNormaliseRequired=!0);Object.assign(s.object,e)}return s.object}return"object"===C(e)&&e?(at[n]={tween:i,object:e,propNormaliseRequired:!1},at[n].object):e}function ct(t,e,i){return e?t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?[t]:"string"==typeof t?!!document.querySelectorAll&&document.querySelectorAll(t):Array.isArray(t)?t:t.nodeType?[t]:i?t:[]:null:t?"undefined"!=typeof window&&t===window||"undefined"!=typeof document&&t===document?t:"string"==typeof t?!!document.querySelector&&document.querySelector(t):Array.isArray(t)?t[0]:t.nodeType||i?t:null:null}var lt=0,ut=T.Linear.None,ft=function(){function t(e,i){return _(this,t),this.id=lt++,!e||"object"!==C(e)||i||e.nodeType?e&&(e.nodeType||e.length||"string"==typeof e)&&(e=this.node=ct(e),i=this.object=ht(e,i,this)):(i=this.object=e,e=null),this._valuesEnd=null,this._valuesStart=Array.isArray(i)?[]:{},this._duration=1e3,this._easingFunction=ut,this._easingReverse=ut,this._interpolationFunction=rt.Linear,this._startTime=0,this._initTime=0,this._delayTime=0,this._repeat=0,this._r=0,this._isPlaying=!1,this._yoyo=!1,this._reversed=!1,this._onStartCallbackFired=!1,this._pausedTime=null,this._isFinite=!0,this._maxListener=15,this._chainedTweensCount=0,this._prevTime=null,this}return R(t,null,[{key:"fromTo",value:function(e,i,n,s){var o=3<arguments.length&&void 0!==s?s:{};o.quickRender=o.quickRender?o.quickRender:!n;var r=new t(e,i).to(n,o);return o.quickRender&&(r.render().update(r._startTime),r._rendered=!1,r._onStartCallbackFired=!1),r}},{key:"to",value:function(e,i,n){return t.fromTo(e,null,i,n)}},{key:"from",value:function(e,i,n){return t.fromTo(e,i,null,n)}}]),R(t,[{key:"setMaxListener",value:function(t){var e=0<arguments.length&&void 0!==t?t:15;return this._maxListener=e,this}},{key:"on",value:function(t,e){for(var i=this._maxListener,n=t+G,s=0;s<i;s++){var o=n+s;if(!this[o]){this[o]=e;break}}return this}},{key:"once",value:function(t,e){for(var i=this,n=this._maxListener,s=t+G,o=function(t){var n=s+t;if(!i[n])return i[n]=function(){for(var t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];e.apply(i,s),i[n]=null},"break"},r=0;r<n&&"break"!==o(r);r++);return this}},{key:"off",value:function(t,e){for(var i=this._maxListener,n=t+G,s=0;s<i;s++){var o=n+s;this[o]===e&&(this[o]=null)}return this}},{key:"emit",value:function(t,e,i,n){var s=this._maxListener,o=t+G;if(!this[o+0])return this;for(var r=0;r<s;r++){var a=o+r;this[a]&&this[a](e,i,n)}return this}},{key:"isPlaying",value:function(){return this._isPlaying}},{key:"isStarted",value:function(){return this._onStartCallbackFired}},{key:"reverse",value:function(t){var e=this._reversed;return this._reversed=void 0!==t?t:!e,this}},{key:"reversed",value:function(){return this._reversed}},{key:"pause",value:function(){return this._isPlaying?(this._isPlaying=!1,P(this),this._pausedTime=u(),this.emit("pause",this.object)):this}},{key:"play",value:function(){return this._isPlaying?this:(this._isPlaying=!0,this._startTime+=u()-this._pausedTime,this._initTime=this._startTime,n(this),this._pausedTime=u(),this.emit("play",this.object))}},{key:"restart",value:function(){return this._repeat=this._r,this.reassignValues(),n(this),this.emit(H,this.object)}},{key:"seek",value:function(t,e){var i=this._duration,n=this._initTime,s=this._startTime,o=this._reversed,r=n+t;return this._isPlaying=!0,r<s&&n<=s&&(this._startTime-=i,this._reversed=!o),this.update(t,!1),this.emit("seek",t,this.object),e?this:this.pause()}},{key:"duration",value:function(t){return this._duration="function"==typeof t?t(this._duration):t,this}},{key:"to",value:function(t,e){var i=1<arguments.length&&void 0!==e?e:1e3;if(this._valuesEnd=t,"number"==typeof i||"function"==typeof i)this._duration="function"==typeof i?i(this._duration):i;else if("object"===C(i))for(var n in i)if("function"==typeof this[n]){var s=I(Array.isArray(i[n])?i[n]:[i[n]],4),o=s[0],r=void 0===o?null:o,a=s[1],h=void 0===a?null:a,c=s[2],l=void 0===c?null:c,u=s[3],f=void 0===u?null:u;this[n](r,h,l,f)}return this}},{key:"render",value:function(){if(this._rendered)return this;var e=this._valuesStart,i=this._valuesEnd,n=this.object,s=this.node,o=this.InitialValues;if(et(n),et(i),s&&s.queueID&&at[s.queueID]){var r=at[s.queueID];if(r.propNormaliseRequired&&r.tween!==this){for(var a in i)r.tween._valuesEnd[a];r.normalisedProp=!0,r.propNormaliseRequired=!1}}if(s&&o&&(n&&0!==Object.keys(n).length?i&&0!==Object.keys(i).length||(i=this._valuesEnd=o(s,n)):n=this.object=ht(s,o(s,i),this)),!e.processed){for(var h in i){var c=n&&n[h]&&q(n[h]),l=i[h];if(!(k[h]&&k[h].init&&(k[h].init.call(this,c,l,h,n),void 0===c&&e[h]&&(c=e[h]),k[h].skipProcess)||"number"==typeof c&&isNaN(c)||null===c||null===l||!1===c||!1===l||void 0===c||void 0===l||c===l)){if(e[h]=c,Array.isArray(l))if(Array.isArray(c))l.isString&&n[h].isString&&!c.isString?c.isString=!0:$(h,n,e,i);else{l.unshift(c);for(var u=0,f=l.length;u<f;u++)"string"==typeof l[u]&&(l[u]=Q(l[u]))}else $(h,n,e,i);"number"!=typeof c||"string"!=typeof l||l[1]}}e.processed=!0}return t.Renderer&&this.node&&t.Renderer.init&&(t.Renderer.init.call(this,n,e,i),this.__render=!0),this._rendered=!0,this}},{key:"start",value:function(t){return this._startTime=void 0!==t?"string"==typeof t?u()+parseFloat(t):t:u(),this._startTime+=this._delayTime,this._initTime=this._prevTime=this._startTime,this._onStartCallbackFired=!1,this._rendered=!1,this._isPlaying=!0,n(this),this}},{key:"stop",value:function(){var t=this._isPlaying,e=this._isFinite,i=this.object,n=this._startTime,s=this._duration,o=this._r,r=this._yoyo,a=this._reversed;if(!t)return this;var h=e?(o+1)%2==1:!a;return this._reversed=!1,r&&h?this.update(n):this.update(n+s),P(this),this.emit("stop",i)}},{key:"delay",value:function(t){return this._delayTime="function"==typeof t?t(this._delayTime):t,this}},{key:"chainedTweens",value:function(){if(this._chainedTweensCount=arguments.length,!this._chainedTweensCount)return this;for(var t=0,e=this._chainedTweensCount;t<e;t++)this[F+t]=arguments[t];return this}},{key:"repeat",value:function(t){return this._repeat=this._duration?"function"==typeof t?t(this._repeat):t:0,this._r=this._repeat,this._isFinite=isFinite(t),this}},{key:"reverseDelay",value:function(t){return this._reverseDelayTime="function"==typeof t?t(this._reverseDelayTime):t,this}},{key:"yoyo",value:function(t,e){return this._yoyo="function"==typeof t?t(this._yoyo):null===t?this._yoyo:t,t||(this._reversed=!1),this._easingReverse=e||null,this}},{key:"easing",value:function(t){return this._easingFunction=t,this}},{key:"interpolation",value:function(t){return"function"==typeof t&&(this._interpolationFunction=t),this}},{key:"reassignValues",value:function(t){var e=this._valuesStart,i=this.object,s=this._delayTime;for(var o in this._isPlaying=!0,this._startTime=void 0!==t?t:u(),this._startTime+=s,this._reversed=!1,n(this),e){var r=e[o];i[o]=r}return this}},{key:"update",value:function(e,i,n){var s,a,h,c=this._onStartCallbackFired,l=this._easingFunction,f=this._interpolationFunction,d=this._easingReverse,p=this._repeat,x=this._delayTime,g=this._reverseDelayTime,y=this._yoyo,v=this._reversed,m=this._startTime,b=this._prevTime,T=this._duration,C=this._valuesStart,_=this._valuesEnd,w=this.object,R=this._isFinite,A=this._isPlaying,S=this.__render,E=this._chainedTweensCount,L=0;if(T){var B=(e=void 0!==e?e:u())-b;if(this._prevTime=e,250<B&&o()&&r()&&(e-=B-O),!A||e<m&&!n)return!0;s=1<(s=(e-m)/T)?1:s,s=v?1-s:s}else s=1,p=0;if(c||(this._rendered||(this.render(),this._rendered=!0),this.emit(D,w),this._onStartCallbackFired=!0),a=v&&d||l,!w)return!0;for(h in _){var M=C[h];if(null!=M||k[h]&&k[h].update){var I=_[h],G=a[h]?a[h](s):("function"==typeof a?a:ut)(s),H=f[h]?f[h]:"function"==typeof f?f:rt.Linear;"number"==typeof I?w[h]=M+(I-M)*G:!Array.isArray(I)||I.isString||Array.isArray(M)?I&&I.update?I.update(G):"function"==typeof I?w[h]=I(G):"string"==typeof I&&"number"==typeof M?w[h]=M+parseFloat(I[0]+I.substr(2))*G:K(h,w,C,_,G,s):w[h]=H(I,G,w[h]),k[h]&&k[h].update&&k[h].update.call(this,w[h],M,I,G,s,h),L++}}if(!L)return P(this),!1;if(S&&t.Renderer&&t.Renderer.update&&t.Renderer.update.call(this,w,s),this.emit(j,w,s,e),1===s||v&&0===s){if(0<p&&0<T){if(R&&this._repeat--,y)this._reversed=!v;else for(h in _){var z=_[h];"string"==typeof z&&"number"==typeof C[h]&&(C[h]+=parseFloat(z[0]+z.substr(2)))}return this.emit(y&&!v?N:W,w),this._startTime=v&&g?e-g:e+x,!0}if(i||(this._isPlaying=!1,P(this),lt--),this.emit(V,w),this._repeat=this._r,E)for(var U=0;U<E;U++)this[F+U].start(e+T);return!1}return!0}}]),t}(),dt=function(){function t(){_(this,t),this.totalTime=0,this.labels=[],this.offsets=[]}return R(t,[{key:"parseLabel",value:function(t,e){var i=this.offsets,n=this.labels,s=n.indexOf(t);if("string"==typeof t&&-1!==t.indexOf("=")&&!e&&-1===s){var o=t.substr(t.indexOf("=")-1,2),r=t.split(o);e=2===r.length?o+r[1]:null,t=r[0],s=n.indexOf(t)}if(-1!==s&&t){var a=i[s]||0;if("number"==typeof e)a=e;else if("string"==typeof e&&-1!==e.indexOf("=")){var h=e.charAt(0);e=Number(e.substr(2)),"+"===h||"-"===h?a+=parseFloat(h+e):"*"===h?a*=e:"/"===h?a/=e:"%"===h&&(a*=e/100)}return a}return"number"==typeof e?e:0}},{key:"addLabel",value:function(t,e){return this.labels.push(t),this.offsets.push(this.parseLabel(t,e)),this}},{key:"setLabel",value:function(t,e){var i=this.labels.indexOf(t);return-1!==i&&this.offsets.splice(i,1,this.parseLabel(t,e)),this}},{key:"eraseLabel",value:function(t){var e=this.labels.indexOf(t);return-1!==e&&(this.labels.splice(e,1),this.offsets.splice(e,1)),this}}]),t}(),pt=0,xt=function(){function t(e){var i;return _(this,t),(i=M(this,E(t).call(this)))._duration=0,i._startTime=e&&void 0!==e.startTime?e.startTime:u(),i._tweens=[],i.elapsed=0,i._id=pt++,i._defaultParams=e,i.position=new dt,i.position.addLabel("afterLast",i._duration),i.position.addLabel("afterInit",i._startTime),i._onStartCallbackFired=!1,M(i,B(i))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(t,ft),R(t,[{key:"mapTotal",value:function(t){return t.call(this,this._tweens),this}},{key:"timingOrder",value:function(t){var e=t(this._tweens.map((function(t){return t._startTime})));return this._tweens.map((function(t,i){t._startTime=e[i]})),this}},{key:"getTiming",value:function(t,e,i,n){var s=3<arguments.length&&void 0!==n?n:0;if("reverse"===t){var o=i.stagger,r=(o||0)*(e.length-1);return e.map((function(t,e){return r-(o||0)*e+s}))}if("async"===t)return e.map((function(t){return s}));if("sequence"===t||"delayed"===t){var a=i.stagger;return a=a||(i.duration||1e3)/(e.length-1),e.map((function(t,e){return a*e+s}))}if("oneByOne"===t)return e.map((function(t){return i.duration}));if("shuffle"===t){var h=i.stagger;return function(t){var e,i,n;for(n=t.length;n;--n)e=Math.floor(Math.random()*n),i=t[n-1],t[n-1]=t[e],t[e]=i;return t}(e.map((function(t,e){return(h||0)*e+s})))}var c=i.stagger;return e.map((function(t,e){return(c||0)*e+s}))}},{key:"fromTo",value:function(t,e,i,n){if((t=ct(t,!0,!0))&&t.length){this._defaultParams&&(n=n?S({},this._defaultParams,{},n):this._defaultParams);for(var s,o=n.label,r="number"==typeof o?o:this.position.parseLabel(void 0!==o?o:"afterLast",null),a=this.getTiming(n.mode,t,n,r),h=0,c=t.length;h<c;h++)s=t[h],this.add(ft.fromTo(s,"function"==typeof e?e(h,t.length):"object"===C(e)&&e?S({},e):null,"function"==typeof i?i(h,t.length):i,"function"==typeof n?n(h,t.length):n),a[h])}return this.start()}},{key:"from",value:function(t,e,i){return this.fromTo(t,e,null,i)}},{key:"to",value:function(t,e,i){return this.fromTo(t,null,e,i)}},{key:"addLabel",value:function(t,e){return this.position.addLabel(t,e),this}},{key:"map",value:function(t){for(var e=0,i=this._tweens.length;e<i;e++){var n=this._tweens[e];t(n,e),this._duration=Math.max(this._duration,n._duration+n._startTime)}return this}},{key:"add",value:function(t,e){var i=this;if(Array.isArray(t))return t.map((function(t){i.add(t,e)})),this;"object"!==C(t)||t instanceof ft||(t=new ft(t.from).to(t.to,t));var n=this._defaultParams,s=this._duration;if(n)for(var o in n)"function"==typeof t[o]&&t[o](n[o]);var r="number"==typeof e?e:this.position.parseLabel(void 0!==e?e:"afterLast",null);return t._startTime=Math.max(this._startTime,t._delayTime,r),t._delayTime=r,t._isPlaying=!0,this._duration=Math.max(s,Math.max(t._startTime+t._delayTime,t._duration)),this._tweens.push(t),this.position.setLabel("afterLast",this._duration),this}},{key:"restart",value:function(){return this._startTime+=u(),n(this),this.emit(H)}},{key:"easing",value:function(t){return this.map((function(e){return e.easing(t)}))}},{key:"interpolation",value:function(t){return this.map((function(e){return e.interpolation(t)}))}},{key:"update",value:function(t){var e,i=this._tweens,n=this._duration,s=this._reverseDelayTime,a=this._startTime,h=this._reversed,c=this._yoyo,l=this._repeat,f=this._isFinite,d=this._isPlaying,p=this._prevTime,x=this._onStartCallbackFired,g=(t=void 0!==t?t:u())-p;if(this._prevTime=t,250<g&&o()&&r()&&(t-=g-O),!d||t<a)return!0;e=1<(e=(t-a)/n)?1:e,e=h?1-e:e,this.elapsed=e,x||(this.emit(D),this._onStartCallbackFired=!0);for(var y=t-a,v=h?n-y:y,m=0;m<i.length;)i[m].update(v),m++;if(this.emit(j,e,y),1===e||h&&0===e){if(l){for(f&&this._repeat--,this.emit(h?N:W),c&&(this._reversed=!h,this.timingOrder((function(t){return t.reverse()}))),this._startTime=h&&s?t+s:t,m=0;m<i.length;)i[m].reassignValues(t),m++;return!0}return this.emit(V),this._repeat=this._r,P(this),this._isPlaying=!1}return!0}},{key:"progress",value:function(t){return void 0!==t?this.update(t*this._duration):this.elapsed}}]),t}();e.Easing=T,e.FrameThrottle=function(t){v=1.05*(0<arguments.length&&void 0!==t?t:120)},e.Interpolation=rt,e.Interpolator=function(t,e){var i=Array.isArray(t)&&!t.isString,n="string"==typeof t?t:i?t.slice():S({},t);if(i)for(var s=0,o=t.length;s<o;s++)t[s]===e[s]&&"number"==typeof t[s]&&"number"!=typeof e[s]||$(s,n,t,e);else if("object"===C(t))for(var r in t)t[r]===e[r]&&"number"==typeof t[r]&&"number"!=typeof e[r]||$(r,n,t,e);else if("string"==typeof t){t=Q(t),e=Q(e);for(var a=1;a<t.length;)t[a]===e[a]&&"string"==typeof t[a-1]?(t.splice(a-1,2,t[a-1]+t[a]),e.splice(a-1,2,e[a-1]+e[a])):a++}return function(s){if(i)for(var o=0,r=t.length;o<r;o++)K(o,n,t,e,s);else if("object"===C(n))for(var a in t)K(a,n,t,e,s);else"string"==typeof n&&(n=K(0,0,t,e,s,s,!0));return n}},e.Plugins=k,e.Selector=ct,e.Timeline=xt,e.ToggleLagSmoothing=function(t){m=!(0<arguments.length&&void 0!==t)||t},e.Tween=ft,e.add=n,e.autoPlay=function(t){p=t},e.get=s,e.getAll=function(){return f},e.has=function(t){return null!==s(t)},e.isRunning=o,e.now=u,e.onRequestTick=function(t){x.push(t)},e.onTick=function(t){return f.push({update:t})},e.remove=P,e.removeAll=function(){f.length=0,l(a),d=!1},e.update=b,e.utils=ot,Object.defineProperty(e,"__esModule",{value:!0})}(e)}).call(this,i(3),i(4))},function(t,e){var i=2*Math.PI,n=Math.PI/2,s=3*Math.PI/2,o=Math.tan(Math.PI/12);t.exports={TWO_PI:i,TAN_PI_BY_12:o,PI_BY_2:n,THREE_PI_BY_2:s}},function(t,e,i){"use strict";i.r(e),i.d(e,"hexToRgb",(function(){return s})),i.d(e,"getLengthOfPath",(function(){return o})),i.d(e,"getDistance",(function(){return r})),i.d(e,"getNorm",(function(){return a})),i.d(e,"getUnitVector",(function(){return h})),i.d(e,"getUnitVectorInplace",(function(){return c})),i.d(e,"getAngleCC",(function(){return l})),i.d(e,"getAngle",(function(){return u})),i.d(e,"getXYFromTheta",(function(){return f})),i.d(e,"getAngleFrom3Points",(function(){return d}));var n=i(1),s=function(t){return t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,i,n){return"#"+e+e+i+i+n+n})).substring(1).match(/.{2}/g).map((function(t){return parseInt(t,16)}))};function o(t){for(var e=0,i=0;i<t.length;i++)e+=Math.sqrt(Math.pow(t[i].x-t[(i+1)%t.length].x,2)+Math.pow(t[i].y-t[(i+1)%t.length].y,2));return e}function r(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function a(t){return Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2))}function h(t){var e=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2));return{x:t.x/e,y:t.y/e}}function c(t,e){var i=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2));e.x=t.x/i,e.y=t.y/i}function l(t){var e=Math.atan2(t.y,t.x);return e<0?n.TWO_PI+e:e}function u(t){var e=Math.atan2(t.y,t.x);return e<0?-e:n.TWO_PI-e}function f(t,e,i){return{x:e*Math.cos(t),y:i*Math.sin(t)}}function d(t,e,i){return this.angle1=u({x:t.x-e.x,y:t.y-e.y}),this.angle2=u({x:i.x-e.x,y:i.y-e.y}),this.angle2<this.angle1?this.angle=n.TWO_PI+this.angle2-this.angle1:this.angle=this.angle2-this.angle1,this.angle}},function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"==typeof window&&(i=window)}t.exports=i},function(t,e){var i,n,s=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(t){i=o}try{n="function"==typeof clearTimeout?clearTimeout:r}catch(t){n=r}}();var h,c=[],l=!1,u=-1;function f(){l&&h&&(l=!1,h.length?c=h.concat(c):u=-1,c.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=c.length;e;){for(h=c,c=[];++u<e;)h&&h[u].run();u=-1,e=c.length}h=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===r||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function x(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];c.push(new p(t,e)),1!==c.length||l||a(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=x,s.addListener=x,s.once=x,s.off=x,s.removeListener=x,s.removeAllListeners=x,s.emit=x,s.prependListener=x,s.prependOnceListener=x,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){var n;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(s,o,r,a){"use strict";var h,c=["","webkit","Moz","MS","ms","o"],l=o.createElement("div"),u=Math.round,f=Math.abs,d=Date.now;function p(t,e,i){return setTimeout(b(t,i),e)}function x(t,e,i){return!!Array.isArray(t)&&(g(t,i[e],i),!0)}function g(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(void 0!==t.length)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function y(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=s.console&&(s.console.warn||s.console.log);return o&&o.call(s.console,n,i),t.apply(this,arguments)}}h="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(null!=n)for(var s in n)n.hasOwnProperty(s)&&(e[s]=n[s])}return e}:Object.assign;var v=y((function(t,e,i){for(var n=Object.keys(e),s=0;s<n.length;)(!i||i&&void 0===t[n[s]])&&(t[n[s]]=e[n[s]]),s++;return t}),"extend","Use `assign`."),m=y((function(t,e){return v(t,e,!0)}),"merge","Use `assign`.");function P(t,e,i){var n,s=e.prototype;(n=t.prototype=Object.create(s)).constructor=t,n._super=s,i&&h(n,i)}function b(t,e){return function(){return t.apply(e,arguments)}}function k(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function T(t,e){return void 0===t?e:t}function C(t,e,i){g(A(e),(function(e){t.addEventListener(e,i,!1)}))}function _(t,e,i){g(A(e),(function(e){t.removeEventListener(e,i,!1)}))}function w(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function R(t,e){return t.indexOf(e)>-1}function A(t){return t.trim().split(/\s+/g)}function S(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function E(t){return Array.prototype.slice.call(t,0)}function L(t,e,i){for(var n=[],s=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];S(s,r)<0&&n.push(t[o]),s[o]=r,o++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}function B(t,e){for(var i,n,s=e[0].toUpperCase()+e.slice(1),o=0;o<c.length;){if((n=(i=c[o])?i+s:e)in t)return n;o++}}var M=1;function I(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||s}var O="ontouchstart"in s,F=void 0!==B(s,"PointerEvent"),G=O&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=["x","y"],V=["clientX","clientY"];function D(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){k(t.options.enable,[t])&&i.handler(e)},this.init()}function W(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=1&e&&n-s==0,r=12&e&&n-s==0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,function(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=N(e));s>1&&!i.firstMultiple?i.firstMultiple=N(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,a=r?r.center:o.center,h=e.center=H(n);e.timeStamp=d(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Y(a,h),e.distance=q(a,h),function(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};1!==e.eventType&&4!==o.eventType||(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y});e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}(i,e),e.offsetDirection=U(e.deltaX,e.deltaY);var c=z(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=f(c.x)>f(c.y)?c.x:c.y,e.scale=r?(l=r.pointers,u=n,q(u[0],u[1],V)/q(l[0],l[1],V)):1,e.rotation=r?function(t,e){return Y(e[1],e[0],V)+Y(t[1],t[0],V)}(r.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,function(t,e){var i,n,s,o,r=t.lastInterval||e,a=e.timeStamp-r.timeStamp;if(8!=e.eventType&&(a>25||void 0===r.velocity)){var h=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,l=z(a,h,c);n=l.x,s=l.y,i=f(l.x)>f(l.y)?l.x:l.y,o=U(h,c),t.lastInterval=e}else i=r.velocity,n=r.velocityX,s=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=n,e.velocityY=s,e.direction=o}(i,e);var l,u;var p=t.element;w(e.srcEvent.target,p)&&(p=e.srcEvent.target);e.target=p}(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function N(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:u(t.pointers[i].clientX),clientY:u(t.pointers[i].clientY)},i++;return{timeStamp:d(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:u(t[0].clientX),y:u(t[0].clientY)};for(var i=0,n=0,s=0;s<e;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:u(i/e),y:u(n/e)}}function z(t,e,i){return{x:e/t||0,y:i/t||0}}function U(t,e){return t===e?1:f(t)>=f(e)?t<0?2:4:e<0?8:16}function q(t,e,i){i||(i=j);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function Y(t,e,i){i||(i=j);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}D.prototype={handler:function(){},init:function(){this.evEl&&C(this.element,this.evEl,this.domHandler),this.evTarget&&C(this.target,this.evTarget,this.domHandler),this.evWin&&C(I(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(I(this.element),this.evWin,this.domHandler)}};var X={mousedown:1,mousemove:2,mouseup:4};function Q(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,D.apply(this,arguments)}P(Q,D,{handler:function(t){var e=X[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var $={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},J={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",K="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=K,D.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}s.MSPointerEvent&&!s.PointerEvent&&(Z="MSPointerDown",K="MSPointerMove MSPointerUp MSPointerCancel"),P(tt,D,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=$[n],o=J[t.pointerType]||t.pointerType,r="touch"==o,a=S(e,t.pointerId,"pointerId");1&s&&(0===t.button||r)?a<0&&(e.push(t),a=e.length-1):12&s&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,D.apply(this,arguments)}function nt(t,e){var i=E(t.touches),n=E(t.changedTouches);return 12&e&&(i=L(i.concat(n),"identifier",!0)),[i,n]}P(it,D,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var i=nt.call(this,t,e);12&e&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}}});var st={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function ot(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},D.apply(this,arguments)}function rt(t,e){var i=E(t.touches),n=this.targetIds;if(3&e&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o,r=E(t.changedTouches),a=[],h=this.target;if(o=i.filter((function(t){return w(t.target,h)})),1===e)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<r.length;)n[r[s].identifier]&&a.push(r[s]),12&e&&delete n[r[s].identifier],s++;return a.length?[L(o.concat(a),"identifier",!0),a]:void 0}P(ot,D,{handler:function(t){var e=st[t.type],i=rt.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:"touch",srcEvent:t})}});function at(){D.apply(this,arguments);var t=b(this.handler,this);this.touch=new ot(this.manager,t),this.mouse=new Q(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function ht(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout((function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)}),2500)}}function lt(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],o=Math.abs(e-s.x),r=Math.abs(i-s.y);if(o<=25&&r<=25)return!0}return!1}P(at,D,{handler:function(t,e,i){var n="touch"==i.pointerType,s="mouse"==i.pointerType;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)ht.call(this,e,i);else if(s&&lt.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ut=B(l.style,"touchAction"),ft=void 0!==ut,dt=function(){if(!ft)return!1;var t={},e=s.CSS&&s.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||s.CSS.supports("touch-action",i)})),t}();function pt(t,e){this.manager=t,this.set(e)}pt.prototype={set:function(t){"compute"==t&&(t=this.compute()),ft&&this.manager.element.style&&dt[t]&&(this.manager.element.style[ut]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){k(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(R(t,"none"))return"none";var e=R(t,"pan-x"),i=R(t,"pan-y");if(e&&i)return"none";if(e||i)return e?"pan-x":"pan-y";if(R(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,s=R(n,"none")&&!dt.none,o=R(n,"pan-y")&&!dt["pan-y"],r=R(n,"pan-x")&&!dt["pan-x"];if(s){var a=1===t.pointers.length,h=t.distance<2,c=t.deltaTime<250;if(a&&h&&c)return}if(!r||!o)return s||o&&6&i||r&&24&i?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function xt(t){this.options=h({},this.defaults,t||{}),this.id=M++,this.manager=null,this.options.enable=T(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function yt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function vt(t,e){var i=e.manager;return i?i.get(t):t}function mt(){xt.apply(this,arguments)}function Pt(){mt.apply(this,arguments),this.pX=null,this.pY=null}function bt(){mt.apply(this,arguments)}function kt(){xt.apply(this,arguments),this._timer=null,this._input=null}function Tt(){mt.apply(this,arguments)}function Ct(){mt.apply(this,arguments)}function _t(){xt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function wt(t,e){return(e=e||{}).recognizers=T(e.recognizers,wt.defaults.preset),new Rt(t,e)}xt.prototype={defaults:{},set:function(t){return h(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(x(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=vt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return x(t,"dropRecognizeWith",this)||(t=vt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(x(t,"requireFailure",this))return this;var e=this.requireFail;return-1===S(e,t=vt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(x(t,"dropRequireFailure",this))return this;t=vt(t,this);var e=S(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<8&&n(e.options.event+gt(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=8&&n(e.options.event+gt(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=h({},t);if(!k(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},P(mt,xt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=6&e,s=this.attrTest(t);return n&&(8&i||!s)?16|e:n||s?4&i?8|e:2&e?4|e:2:32}}),P(Pt,mt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&e.direction||(6&e.direction?(s=0===o?1:o<0?2:4,i=o!=this.pX,n=Math.abs(t.deltaX)):(s=0===r?1:r<0?8:16,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return mt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=yt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),P(bt,mt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),P(kt,xt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime>e.time;if(this._input=t,!n||!i||12&t.eventType&&!s)this.reset();else if(1&t.eventType)this.reset(),this._timer=p((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=d(),this.manager.emit(this.options.event,this._input)))}}),P(Tt,mt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),P(Ct,mt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return Pt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return 30&i?e=t.overallVelocity:6&i?e=t.overallVelocityX:24&i&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=yt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),P(_t,xt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,s=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(n&&s&&i){if(4!=t.eventType)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,r=!this.pCenter||q(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,r&&o?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=p((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=p((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),wt.VERSION="2.0.7",wt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Tt,{enable:!1}],[bt,{enable:!1},["rotate"]],[Ct,{direction:6}],[Pt,{direction:6},["swipe"]],[_t],[_t,{event:"doubletap",taps:2},["tap"]],[kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Rt(t,e){var i;this.options=h({},wt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((i=this).options.inputClass||(F?tt:G?ot:O?at:Q))(i,W),this.touchAction=new pt(this,this.options.touchAction),At(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function At(t,e){var i,n=t.element;n.style&&(g(t.options.cssProps,(function(s,o){i=B(n.style,o),e?(t.oldCssProps[i]=n.style[i],n.style[i]=s):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}Rt.prototype={set:function(t){return h(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,s=e.curRecognizer;(!s||s&&8&s.state)&&(s=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],2===e.stopped||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&14&i.state&&(s=e.curRecognizer=i),o++}},get:function(t){if(t instanceof xt)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(x(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(x(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,i=S(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var i=this.handlers;return g(A(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var i=this.handlers;return g(A(t),(function(t){e?i[t]&&i[t].splice(S(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var i=o.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},h(wt,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Rt,Input:D,TouchAction:pt,TouchInput:ot,MouseInput:Q,PointerEventInput:tt,TouchMouseInput:at,SingleTouchInput:it,Recognizer:xt,AttrRecognizer:mt,Tap:_t,Pan:Pt,Swipe:Ct,Pinch:bt,Rotate:Tt,Press:kt,on:C,off:_,each:g,merge:m,extend:v,assign:h,inherit:P,bindFn:b,prefixed:B}),(void 0!==s?s:"undefined"!=typeof self?self:{}).Hammer=wt,void 0===(n=function(){return wt}.call(e,i,e,t))||(t.exports=n)}(window,document)},function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=(t/=n)*t,o=s*t;return e+i*(5.95*o*s+8.045*s*s+-31.99*o+18.995*s)}i.r(e),i.d(e,"selectionEasing",(function(){return n}))},function(t,e,i){var n;!function(){function s(t,e,i){return t.call.apply(t.bind,arguments)}function o(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function r(t,e,i){return(r=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:o).apply(null,arguments)}var a=Date.now||function(){return+new Date};function h(t,e){this.a=t,this.o=e||t,this.c=this.o.document}var c=!!window.FontFace;function l(t,e,i,n){if(e=t.c.createElement(e),i)for(var s in i)i.hasOwnProperty(s)&&("style"==s?e.style.cssText=i[s]:e.setAttribute(s,i[s]));return n&&e.appendChild(t.c.createTextNode(n)),e}function u(t,e,i){(t=t.c.getElementsByTagName(e)[0])||(t=document.documentElement),t.insertBefore(i,t.lastChild)}function f(t){t.parentNode&&t.parentNode.removeChild(t)}function d(t,e,i){e=e||[],i=i||[];for(var n=t.className.split(/\s+/),s=0;s<e.length;s+=1){for(var o=!1,r=0;r<n.length;r+=1)if(e[s]===n[r]){o=!0;break}o||n.push(e[s])}for(e=[],s=0;s<n.length;s+=1){for(o=!1,r=0;r<i.length;r+=1)if(n[s]===i[r]){o=!0;break}o||e.push(n[s])}t.className=e.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function p(t,e){for(var i=t.className.split(/\s+/),n=0,s=i.length;n<s;n++)if(i[n]==e)return!0;return!1}function x(t,e,i){function n(){a&&s&&o&&(a(r),a=null)}e=l(t,"link",{rel:"stylesheet",href:e,media:"all"});var s=!1,o=!0,r=null,a=i||null;c?(e.onload=function(){s=!0,n()},e.onerror=function(){s=!0,r=Error("Stylesheet failed to load"),n()}):setTimeout((function(){s=!0,n()}),0),u(t,"head",e)}function g(t,e,i,n){var s=t.c.getElementsByTagName("head")[0];if(s){var o=l(t,"script",{src:e}),r=!1;return o.onload=o.onreadystatechange=function(){r||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(r=!0,i&&i(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&s.removeChild(o))},s.appendChild(o),setTimeout((function(){r||(r=!0,i&&i(Error("Script load timeout")))}),n||5e3),o}return null}function y(){this.a=0,this.c=null}function v(t){return t.a++,function(){t.a--,P(t)}}function m(t,e){t.c=e,P(t)}function P(t){0==t.a&&t.c&&(t.c(),t.c=null)}function b(t){this.a=t||"-"}function k(t,e){this.c=t,this.f=4,this.a="n";var i=(e||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function T(t){var e=[];t=t.split(/,\s*/);for(var i=0;i<t.length;i++){var n=t[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?e.push("'"+n+"'"):e.push(n)}return e.join(",")}function C(t){return t.a+t.f}function _(t){var e="normal";return"o"===t.a?e="oblique":"i"===t.a&&(e="italic"),e}function w(t){var e=4,i="n",n=null;return t&&((n=t.match(/(normal|oblique|italic)/i))&&n[1]&&(i=n[1].substr(0,1).toLowerCase()),(n=t.match(/([1-9]00|normal|bold)/i))&&n[1]&&(/bold/i.test(n[1])?e=7:/[1-9]00/.test(n[1])&&(e=parseInt(n[1].substr(0,1),10)))),i+e}function R(t,e){this.c=t,this.f=t.o.document.documentElement,this.h=e,this.a=new b("-"),this.j=!1!==e.events,this.g=!1!==e.classes}function A(t){if(t.g){var e=p(t.f,t.a.c("wf","active")),i=[],n=[t.a.c("wf","loading")];e||i.push(t.a.c("wf","inactive")),d(t.f,i,n)}S(t,"inactive")}function S(t,e,i){t.j&&t.h[e]&&(i?t.h[e](i.c,C(i)):t.h[e]())}function E(){this.c={}}function L(t,e){this.c=t,this.f=e,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function B(t){u(t.c,"body",t.a)}function M(t){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+T(t.c)+";font-style:"+_(t)+";font-weight:"+t.f+"00;"}function I(t,e,i,n,s,o){this.g=t,this.j=e,this.a=n,this.c=i,this.f=s||3e3,this.h=o||void 0}function O(t,e,i,n,s,o,r){this.v=t,this.B=e,this.c=i,this.a=n,this.s=r||"BESbswy",this.f={},this.w=s||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new L(this.c,this.s),this.h=new L(this.c,this.s),this.j=new L(this.c,this.s),this.m=new L(this.c,this.s),t=M(t=new k(this.a.c+",serif",C(this.a))),this.g.a.style.cssText=t,t=M(t=new k(this.a.c+",sans-serif",C(this.a))),this.h.a.style.cssText=t,t=M(t=new k("serif",C(this.a))),this.j.a.style.cssText=t,t=M(t=new k("sans-serif",C(this.a))),this.m.a.style.cssText=t,B(this.g),B(this.h),B(this.j),B(this.m)}b.prototype.c=function(t){for(var e=[],i=0;i<arguments.length;i++)e.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.a)},I.prototype.start=function(){var t=this.c.o.document,e=this,i=a(),n=new Promise((function(n,s){!function o(){a()-i>=e.f?s():t.fonts.load(function(t){return _(t)+" "+t.f+"00 300px "+T(t.c)}(e.a),e.h).then((function(t){1<=t.length?n():setTimeout(o,25)}),(function(){s()}))}()})),s=null,o=new Promise((function(t,i){s=setTimeout(i,e.f)}));Promise.race([o,n]).then((function(){s&&(clearTimeout(s),s=null),e.g(e.a)}),(function(){e.j(e.a)}))};var F={D:"serif",C:"sans-serif"},G=null;function j(){if(null===G){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);G=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))}return G}function V(t,e,i){for(var n in F)if(F.hasOwnProperty(n)&&e===t.f[F[n]]&&i===t.f[F[n]])return!0;return!1}function D(t){var e,i=t.g.a.offsetWidth,n=t.h.a.offsetWidth;(e=i===t.f.serif&&n===t.f["sans-serif"])||(e=j()&&V(t,i,n)),e?a()-t.A>=t.w?j()&&V(t,i,n)&&(null===t.u||t.u.hasOwnProperty(t.a.c))?W(t,t.v):W(t,t.B):function(t){setTimeout(r((function(){D(this)}),t),50)}(t):W(t,t.v)}function W(t,e){setTimeout(r((function(){f(this.g.a),f(this.h.a),f(this.j.a),f(this.m.a),e(this.a)}),t),0)}function N(t,e,i){this.c=t,this.a=e,this.f=0,this.m=this.j=!1,this.s=i}O.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),D(this)};var H=null;function z(t){0==--t.f&&t.j&&(t.m?((t=t.a).g&&d(t.f,[t.a.c("wf","active")],[t.a.c("wf","loading"),t.a.c("wf","inactive")]),S(t,"active")):A(t.a))}function U(t){this.j=t,this.a=new E,this.h=0,this.f=this.g=!0}function q(t,e,i,n,s){var o=0==--t.h;(t.f||t.g)&&setTimeout((function(){var t=s||null,a=n||{};if(0===i.length&&o)A(e.a);else{e.f+=i.length,o&&(e.j=o);var h,c=[];for(h=0;h<i.length;h++){var l=i[h],u=a[l.c],f=e.a,p=l;if(f.g&&d(f.f,[f.a.c("wf",p.c,C(p).toString(),"loading")]),S(f,"fontloading",p),f=null,null===H)if(window.FontFace){p=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var x=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);H=p?42<parseInt(p[1],10):!x}else H=!1;f=H?new I(r(e.g,e),r(e.h,e),e.c,l,e.s,u):new O(r(e.g,e),r(e.h,e),e.c,l,e.s,t,u),c.push(f)}for(h=0;h<c.length;h++)c[h].start()}}),0)}function Y(t,e){this.c=t,this.a=e}function X(t,e){this.c=t,this.a=e}function Q(t,e){this.c=t||$,this.a=[],this.f=[],this.g=e||""}N.prototype.g=function(t){var e=this.a;e.g&&d(e.f,[e.a.c("wf",t.c,C(t).toString(),"active")],[e.a.c("wf",t.c,C(t).toString(),"loading"),e.a.c("wf",t.c,C(t).toString(),"inactive")]),S(e,"fontactive",t),this.m=!0,z(this)},N.prototype.h=function(t){var e=this.a;if(e.g){var i=p(e.f,e.a.c("wf",t.c,C(t).toString(),"active")),n=[],s=[e.a.c("wf",t.c,C(t).toString(),"loading")];i||n.push(e.a.c("wf",t.c,C(t).toString(),"inactive")),d(e.f,n,s)}S(e,"fontinactive",t),z(this)},U.prototype.load=function(t){this.c=new h(this.j,t.context||this.j),this.g=!1!==t.events,this.f=!1!==t.classes,function(t,e,i){var n=[],s=i.timeout;!function(t){t.g&&d(t.f,[t.a.c("wf","loading")]),S(t,"loading")}(e);n=function(t,e,i){var n,s=[];for(n in e)if(e.hasOwnProperty(n)){var o=t.c[n];o&&s.push(o(e[n],i))}return s}(t.a,i,t.c);var o=new N(t.c,e,s);for(t.h=n.length,e=0,i=n.length;e<i;e++)n[e].load((function(e,i,n){q(t,o,e,i,n)}))}(this,new R(this.c,t),t)},Y.prototype.load=function(t){var e=this,i=e.a.projectId,n=e.a.version;if(i){var s=e.c.o;g(this.c,(e.a.api||"https://fast.fonts.net/jsapi")+"/"+i+".js"+(n?"?v="+n:""),(function(n){n?t([]):(s["__MonotypeConfiguration__"+i]=function(){return e.a},function e(){if(s["__mti_fntLst"+i]){var n,o=s["__mti_fntLst"+i](),r=[];if(o)for(var a=0;a<o.length;a++){var h=o[a].fontfamily;null!=o[a].fontStyle&&null!=o[a].fontWeight?(n=o[a].fontStyle+o[a].fontWeight,r.push(new k(h,n))):r.push(new k(h))}t(r)}else setTimeout((function(){e()}),50)}())})).id="__MonotypeAPIScript__"+i}else t([])},X.prototype.load=function(t){var e,i,n=this.a.urls||[],s=this.a.families||[],o=this.a.testStrings||{},r=new y;for(e=0,i=n.length;e<i;e++)x(this.c,n[e],v(r));var a=[];for(e=0,i=s.length;e<i;e++)if((n=s[e].split(":"))[1])for(var h=n[1].split(","),c=0;c<h.length;c+=1)a.push(new k(n[0],h[c]));else a.push(new k(n[0]));m(r,(function(){t(a,o)}))};var $="https://fonts.googleapis.com/css";function J(t){this.f=t,this.a=[],this.c={}}var Z={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},K={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},tt={i:"i",italic:"i",n:"n",normal:"n"},et=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function it(t,e){this.c=t,this.a=e}var nt={Arimo:!0,Cousine:!0,Tinos:!0};function st(t,e){this.c=t,this.a=e}function ot(t,e){this.c=t,this.f=e,this.a=[]}it.prototype.load=function(t){var e=new y,i=this.c,n=new Q(this.a.api,this.a.text),s=this.a.families;!function(t,e){for(var i=e.length,n=0;n<i;n++){var s=e[n].split(":");3==s.length&&t.f.push(s.pop());var o="";2==s.length&&""!=s[1]&&(o=":"),t.a.push(s.join(o))}}(n,s);var o=new J(s);!function(t){for(var e=t.f.length,i=0;i<e;i++){var n=t.f[i].split(":"),s=n[0].replace(/\+/g," "),o=["n4"];if(2<=n.length){var r;if(r=[],a=n[1])for(var a,h=(a=a.split(",")).length,c=0;c<h;c++){var l;if((l=a[c]).match(/^[\w-]+$/))if(null==(f=et.exec(l.toLowerCase())))l="";else{if(l=null==(l=f[2])||""==l?"n":tt[l],null==(f=f[1])||""==f)f="4";else var u=K[f],f=u||(isNaN(f)?"4":f.substr(0,1));l=[l,f].join("")}else l="";l&&r.push(l)}0<r.length&&(o=r),3==n.length&&(r=[],0<(n=(n=n[2])?n.split(","):r).length&&(n=Z[n[0]])&&(t.c[s]=n))}for(t.c[s]||(n=Z[s])&&(t.c[s]=n),n=0;n<o.length;n+=1)t.a.push(new k(s,o[n]))}}(o),x(i,function(t){if(0==t.a.length)throw Error("No fonts to load!");if(-1!=t.c.indexOf("kit="))return t.c;for(var e=t.a.length,i=[],n=0;n<e;n++)i.push(t.a[n].replace(/ /g,"+"));return e=t.c+"?family="+i.join("%7C"),0<t.f.length&&(e+="&subset="+t.f.join(",")),0<t.g.length&&(e+="&text="+encodeURIComponent(t.g)),e}(n),v(e)),m(e,(function(){t(o.a,o.c,nt)}))},st.prototype.load=function(t){var e=this.a.id,i=this.c.o;e?g(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",(function(e){if(e)t([]);else if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=[],s=0;s<e.length;s+=2)for(var o=e[s],r=e[s+1],a=0;a<r.length;a++)n.push(new k(o,r[a]));try{i.Typekit.load({events:!1,classes:!1,async:!0})}catch(t){}t(n)}}),2e3):t([])},ot.prototype.load=function(t){var e=this.f.id,i=this.c.o,n=this;e?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[e]=function(e,i){for(var s=0,o=i.fonts.length;s<o;++s){var r=i.fonts[s];n.a.push(new k(r.name,w("font-weight:"+r.weight+";font-style:"+r.style)))}t(n.a)},g(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(t){return t.o.location.hostname||t.a.location.hostname}(this.c)+"/"+e+".js",(function(e){e&&t([])}))):t([])};var rt=new U(window);rt.a.c.custom=function(t,e){return new X(e,t)},rt.a.c.fontdeck=function(t,e){return new ot(e,t)},rt.a.c.monotype=function(t,e){return new Y(e,t)},rt.a.c.typekit=function(t,e){return new st(e,t)},rt.a.c.google=function(t,e){return new it(e,t)};var at={load:r(rt.load,rt)};void 0===(n=function(){return at}.call(e,i,e,t))||(t.exports=n)}()},function(t,e,i){"use strict";i.r(e),i.d(e,"Stage",(function(){return u})),i.d(e,"Layer",(function(){return d})),i.d(e,"Point",(function(){return v})),i.d(e,"Circle",(function(){return R})),i.d(e,"Triangle",(function(){return L})),i.d(e,"Vector",(function(){return I})),i.d(e,"Line",(function(){return j})),i.d(e,"Angle",(function(){return H})),i.d(e,"Ruler",(function(){return Q})),i.d(e,"Pencil",(function(){return K})),i.d(e,"Protractor",(function(){return nt})),i.d(e,"Clock",(function(){return ot})),i.d(e,"Vector2",(function(){return b}));var n=i(0);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function r(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}var a=i(0);Object(n.autoPlay)(!0);var h=function(){function t(e,i){s(this,t),this.stage=i,this.context=e,this.steps=[5,2,1],this.minorAxisDivders=[5,4,5],this.scaleBy=1.06,this.defaultCoorPerPixel=.025*i.ratio,this.devicePixelRatio=i.ratio,this.drawMinorGridLines=!1,this.drawMajorGuidLines=!1,this.drawAxes=!1,this.colorGrid="#7c7c7c",this.colorText="#32003f",this.tickFontSize=12,this.tickFontSizeText=this.tickFontSize+"pt Calibri",this.tickLabelBackground=this.stage.canvas.style.background,this.tickBackgroundHeight=this.tickFontSize+4,this.stage.canvas.width>1e3?this.initialScale=.01:this.initialScale=.02;var n=this.stage.canvasWidth*this.defaultCoorPerPixel/2,o=this.stage.canvasHeight*this.defaultCoorPerPixel/2;this.updatingScaleOrRange=!1,this.tick_pos_px={},this.ptOriginPx={},this.points=[],this.lines=[],this.segments=[],this.circles=[],this.rectangles=[],this.triangles=[],this.angles=[],this.vectors=[],this.lines=[],this.instruments=[],this.groupPoints=new c,this.groupLines=new c,this.groupShapes=new c,this.updateBoundaryCoordinateLRTB(-n,n,o,-o)}return r(t,[{key:"addItem",value:function(t){t.setContext(this.context,this),"Point"===t.type?(this.points.push(t),this.groupPoints.add(t)):"Angle"==t.type?(this.angles.push(t),this.groupPoints.add(t)):"Circle"===t.type?(this.circles.push(t),this.groupShapes.add(t)):"Triangle"===t.type?(this.triangles.push(t),this.groupShapes.add(t)):"Ruler"==t.type||"Pencil"==t.type||"Protractor"==t.type?this.instruments.push(t):"Vector"==t.type?(this.vectors.push(t),this.groupLines.add(t)):"Line"==t.type&&(this.lines.push(t),this.groupLines.add(t))}},{key:"render",value:function(){var t=this;for(this.go=!0,this.n=1;this.go;){this.possibleSteps=this.steps.map((function(e){return e*Math.pow(10,t.widthCoor.toFixed(0).length-t.n)})),this.n++;for(var e=0;e<this.possibleSteps.length;e++)if(this.pixel_per_step=this.stage.canvasWidth/(this.widthCoor/this.possibleSteps[e]),this.pixel_per_step<170){this.left_to_start=Math.ceil(this.left/this.possibleSteps[e])*this.possibleSteps[e],this.bottom_to_start=Math.ceil(this.bottom/this.possibleSteps[e])*this.possibleSteps[e],this.step=this.possibleSteps[e],this.minorGridDivider=this.minorAxisDivders[e],this.stepPx=parseInt(this.step/this.coorPerPixel/this.minorGridDivider),this.go=!1;break}}if(this.context.beginPath(),this.context.strokeStyle=this.colorGrid,this.context.lineWidth=1,this.context.font=this.tickFontSizeText,this.context.textAlign="center",this.context.textBaseline="bottom",this.context.mozImageSmoothingEnabled=!1,this.yTickOffsetRight=4,this.no_of_ticks_x=(this.right-this.left_to_start)/this.step,this.no_of_ticks_y=(this.top-this.bottom_to_start)/this.step,this.drawMajorGuidLines){for(var i=0;i<this.no_of_ticks_x;i++)this.tick_value=parseFloat((this.left_to_start+i*this.step).toFixed(10)),this.getPixFromCoorFT(this.tick_value,0,this.tick_pos_px),0!=this.tick_value&&(this.context.moveTo(this.tick_pos_px.x,this.stage.canvasHeight),this.context.lineTo(this.tick_pos_px.x,0));for(var n=0;n<this.no_of_ticks_y;n++)this.pt_for_lb=(this.bottom_to_start+n*this.step).toFixed(10),this.tick_value=parseFloat(this.pt_for_lb),this.getPixFromCoorFT(0,this.tick_value,this.tick_pos_px),0!=this.tick_value&&(this.context.moveTo(0,this.tick_pos_px.y),this.context.lineTo(this.stage.canvasWidth,this.tick_pos_px.y))}if(this.context.stroke(),this.drawAxes){this.getPixFromCoorFT(0,0,this.ptOriginPx),this.context.beginPath(),this.context.strokeStyle="#000000",this.context.moveTo(0,this.ptOriginPx.y),this.context.lineTo(this.stage.canvasWidth,this.ptOriginPx.y),this.context.moveTo(this.ptOriginPx.x,0),this.context.lineTo(this.ptOriginPx.x,this.stage.canvasHeight),this.context.stroke(),this.context.lineWidth=2,this.context.strokeStyle="#999999";for(var s=-1;s<this.no_of_ticks_x;s++)if(this.tick_value=parseFloat((this.left_to_start+s*this.step).toFixed(10)),this.getPixFromCoorFT(this.tick_value,0,this.tick_pos_px),this.widthXLabel=this.context.measureText(this.tick_value).width,0==this.tick_value?(this.context.textAlign="right",this.context.fillStyle=this.colorText,this.context.fillText(this.tick_value,this.tick_pos_px.x-this.yTickOffsetRight,this.tick_pos_px.y+this.tickBackgroundHeight),this.context.textAlign="center"):-1!=s&&(this.context.fillStyle=this.stage.bgColor,this.context.fillRect(this.tick_pos_px.x-2-this.widthXLabel/2,this.tick_pos_px.y+3,this.widthXLabel+4,this.tickBackgroundHeight),this.context.fillStyle=this.colorText,this.context.fillText(this.tick_value,this.tick_pos_px.x,this.tick_pos_px.y+this.tickBackgroundHeight)),this.drawMinorGridLines)for(var o=1;o<this.minorGridDivider;o++)this.context.moveTo(this.tick_pos_px.x+this.stepPx*o,this.stage.canvasHeight),this.context.lineTo(this.tick_pos_px.x+this.stepPx*o,0);this.context.textAlign="right";for(var r=-1;r<this.no_of_ticks_y;r++)if(this.tick_value=parseFloat((this.bottom_to_start+r*this.step).toFixed(10)),this.getPixFromCoorFT(0,this.tick_value,this.tick_pos_px),0!=this.tick_value&&-1!=r&&(this.labelWidth=this.context.measureText(this.tick_value).width+2,this.context.fillStyle=this.stage.bgColor,this.context.fillRect(this.tick_pos_px.x-this.labelWidth-this.yTickOffsetRight,this.tick_pos_px.y-this.tickFontSize/2,this.labelWidth,this.tickFontSize),this.context.fillStyle=this.colorText,this.context.fillText(this.tick_value,this.tick_pos_px.x-this.yTickOffsetRight,this.tick_pos_px.y+this.tickFontSize/2)),this.drawMinorGridLines)for(var a=1;a<this.minorGridDivider;a++)this.context.moveTo(0,this.tick_pos_px.y-this.stepPx*a),this.context.lineTo(this.stage.canvasWidth,this.tick_pos_px.y-this.stepPx*a);this.context.stroke()}this.groupShapes.render(),this.groupLines.render(),this.groupPoints.render(),this.instruments.forEach((function(t){t.render()}))}},{key:"tapHanlder",value:function(t){var e;for(this.itemTapped=!1,e=0;e<this.groupPoints.items.length;e++)this.groupPoints.items[e].checkSelection(t)&&!this.itemTapped?(this.groupPoints.items[e].handleTap(!0),this.itemTapped=!0):this.groupPoints.items[e].handleTap(!1);for(e=0;e<this.groupShapes.items.length;e++)this.groupShapes.items[e].checkSelection(t)&&!this.itemTapped?(this.groupShapes.items[e].handleTap(!0),this.itemTapped=!0):this.groupShapes.items[e].handleTap(!1)}},{key:"wheelHandler",value:function(t,e){this.updatingScaleOrRange=!0,this.mouseLocCoor=this.getCoorFromPixPt(t),this.updateBoundaryCoordinateLRTB(this.mouseLocCoor.x-(this.mouseLocCoor.x-this.left)*e,this.mouseLocCoor.x-(this.mouseLocCoor.x-this.right)*e,this.mouseLocCoor.y-(this.mouseLocCoor.y-this.top)*e,this.mouseLocCoor.y-(this.mouseLocCoor.y-this.bottom)*e),this.updatingScaleOrRange=!1}},{key:"pinchStartHandler",value:function(t){this.pinchLastPointPx=t,this.last_scale=1,this.updatingScaleOrRange=!0}},{key:"pinchHandler",value:function(t,e){this.scale=this.last_scale/e,this.mouse_loc_coor=this.getCoorFromPixPt(t),this.last_mouse_loc_coor=this.getCoorFromPixPt(this.pinchLastPointPx),this.updateBoundaryCoordinateLRTB(this.mouse_loc_coor.x-(this.mouse_loc_coor.x-this.left)*this.scale-(this.mouse_loc_coor.x-this.last_mouse_loc_coor.x),this.mouse_loc_coor.x+(this.right-this.mouse_loc_coor.x)*this.scale-(this.mouse_loc_coor.x-this.last_mouse_loc_coor.x),this.mouse_loc_coor.y+(this.top-this.mouse_loc_coor.y)*this.scale-(this.mouse_loc_coor.y-this.last_mouse_loc_coor.y),this.mouse_loc_coor.y-(this.mouse_loc_coor.y-this.bottom)*this.scale-(this.mouse_loc_coor.y-this.last_mouse_loc_coor.y)),this.last_scale=e,this.pinchLastPointPx=t}},{key:"pinchEndHandler",value:function(t){this.updatingScaleOrRange=!1}},{key:"pinchCancelHandler",value:function(t){this.updatingScaleOrRange=!1}},{key:"panStartHandler",value:function(t){var e,i;for(e=0;e<this.groupShapes.items.length;e++)if((i=this.groupPoints.items[e]).pannable&&i.checkSelection(t))return i.handlePanStart(t),this.pannedItem=i,!0;for(e=0;e<this.instruments.length;e++)if((i=this.instruments[e]).pannable&&i.checkSelection(t))return i.handlePanStart(t),this.pannedItem=i,!0;this.panStartPointPx=t,this.updatingScaleOrRange=!0}},{key:"panMoveHandler",value:function(t){if(this.pannedItem)this.pannedItem.handlePanMove(t);else{var e=(t.x-this.panStartPointPx.x)*this.coorPerPixel,i=(t.y-this.panStartPointPx.y)*this.coorPerPixel;this.updateBoundaryCoordinateDelta(e,i),this.panStartPointPx=t}}},{key:"panEndHandler",value:function(t){this.pannedItem?(this.pannedItem.handlePanEnd(t),this.pannedItem=void 0):(this.updatingScaleOrRange=!1,this.pannedItem=void 0)}},{key:"moveAndScale",value:function(t,e){var i,s=this;this.oldCenter={x:(this.right+this.left)/2,y:(this.top+this.bottom)/2,coorPerPixel:this.coorPerPixel},e||(i={x:t.x,y:t.y,coorPerPixel:this.defaultCoorPerPixel});var o=this.stage.canvasWidth/2,r=this.stage.canvasHeight/2,h=new n.Tween(this.oldCenter).to(i,500).easing(n.Easing.Quadratic.InOut).on("update",(function(t){s.updateBoundaryCoordinateLRTB(t.x-o*t.coorPerPixel,t.x+o*t.coorPerPixel,t.y+r*t.coorPerPixel,t.y-r*t.coorPerPixel),s.adjustMesurementScales(),s.updatingScaleOrRange&&a.remove(h)})).start()}},{key:"updateBoundaryCoordinateLRTB",value:function(t,e,i,n){this.left=t,this.right=e,this.widthCoor=e-t,this.top=i,this.bottom=n,this.heightCoor=i-n,this.coorPerPixel=this.widthCoor/this.stage.canvasWidth,this.adjustMesurementScales(),this.updatePixelLocation()}},{key:"updateBoundaryCoordinate",value:function(t,e,i,n){this.left=t,this.right=t+e,this.widthCoor=e,this.top=i,this.bottom=i-n,this.heightCoor=n,this.coorPerPixel=e/this.stage.canvasWidth,this.updatePixelLocation()}},{key:"updateBoundaryCoordinateDelta",value:function(t,e){this.left-=t,this.right=this.left+this.widthCoor,this.top+=e,this.bottom=this.top-this.heightCoor,this.updatePixelLocation()}},{key:"getPixFromCoorPt",value:function(t){return{x:this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}}},{key:"getPixFromCoorPtFT",value:function(t,e){e.x=this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,e.y=this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}},{key:"getPixFromCoorPtFTwOF",value:function(t,e,i){e.x=i.x+this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,e.y=i.y+this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}},{key:"getPixFromCoorPtRounded",value:function(t){return{x:this.stage.canvasWidth*(t.x-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(t.y-this.bottom)/this.heightCoor}}},{key:"getPixFromCoor",value:function(t,e){return{x:this.stage.canvasWidth*(t-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(e-this.bottom)/this.heightCoor}}},{key:"getPixFromCoorFT",value:function(t,e,i){i.x=this.stage.canvasWidth*(t-this.left)/this.widthCoor,i.y=this.stage.canvasHeight-this.stage.canvasHeight*(e-this.bottom)/this.heightCoor}},{key:"getPixFromCoorRounded",value:function(t,e){return{x:this.stage.canvasWidth*(t-this.left)/this.widthCoor,y:this.stage.canvasHeight-this.stage.canvasHeight*(e-this.bottom)/this.heightCoor}}},{key:"getCoorFromPixPt",value:function(t){return{x:this.left+this.widthCoor*(t.x/this.stage.canvasWidth),y:this.bottom+this.heightCoor*((this.stage.canvasHeight-t.y)/this.stage.canvasHeight)}}},{key:"getCoorFromPixFT",value:function(t,e,i){i.x=this.left+this.widthCoor*(t/this.stage.canvasWidth),i.y=this.bottom+this.heightCoor*((this.stage.canvasHeight-e)/this.stage.canvasHeight)}},{key:"getCoorFromPix",value:function(t,e){return{x:this.left+this.widthCoor*(t/this.stage.canvasWidth),y:this.bottom+this.heightCoor*((this.stage.canvasHeight-e)/this.stage.canvasHeight)}}},{key:"updatePixelLocation",value:function(){this.groupPoints.items.forEach((function(t){t.updatePixelLocation()})),this.groupShapes.items.forEach((function(t){t.updatePixelLocation()})),this.groupLines.items.forEach((function(t){t.updatePixelLocation()})),this.instruments.forEach((function(t){t.updatePixelLocation()}))}},{key:"adjustMesurementScales",value:function(){this.angles.forEach((function(t){t.adjustScale()})),this.instruments.forEach((function(t){t.adjustScale()}))}}]),t}(),c=function(){function t(){s(this,t),this.items=[]}return r(t,[{key:"add",value:function(t){this.items.push(t)}},{key:"render",value:function(){this.items.forEach((function(t){t.render()}))}}]),t}();function l(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(5);var u=function(){function t(e){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.bgColor="#ffffff",this.containerElement=document.getElementById(e),this.positionInfo=this.containerElement.getBoundingClientRect(),this.canvas=document.createElement("canvas"),this.canvas.style.position="absolute",this.canvas.style.width=this.positionInfo.width+"px",this.canvas.style.height=this.positionInfo.height+"px",this.canvas.style.background=this.bgColor,this.containerElement.appendChild(this.canvas),this.context=this.canvas.getContext("2d",{alpha:!1}),this.context.imageSmoothingEnabled=!1,this.makeHighResolution(),this.canvasWidth=this.positionInfo.width,this.canvasHeight=this.positionInfo.height,this.hammer=new Hammer(this.canvas,{domEvents:!0}),this.hammer.get("pan").set({direction:Hammer.DIRECTION_ALL,threshold:0}),this.hammer.get("pinch").set({enable:!0,threshold:0}),this.hammer.on("panstart",(function(t){return i.panStartHandler(t)})),this.hammer.on("panmove",(function(t){return i.panMoveHandler(t)})),this.hammer.on("panend",(function(t){return i.panEndHandler(t)})),this.hammer.on("pinchstart",(function(t){return i.pinchStartHandler(t)})),this.hammer.on("pinch",(function(t){return i.pinchHandler(t)})),this.hammer.on("pinchend",(function(t){return i.pinchEndHandler(t)})),this.hammer.on("pinchcancel",(function(t){return i.pinchCancelHandler(t)})),this.hammer.on("tap",(function(t){return i.tapHandler(t)})),this.canvas.addEventListener("wheel",(function(t){return i.wheelHandler(t)})),this.layers=[],this.grid=void 0,this.console=document.getElementById("console")}var e,i,n;return e=t,(i=[{key:"getGrid",value:function(){return this.grid||(this.grid=new h(this.context,this),this.grid.devicePixelRatio=this.ratio),this.grid}},{key:"tapHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid.tapHanlder(this.currentPos)}},{key:"pinchStartHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchStartHandler(this.currentPos)}},{key:"pinchHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchHandler(this.currentPos,t.scale)}},{key:"pinchEndHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchEndHandler(this.currentPos)}},{key:"pinchCancelHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.pinchCancelHandler(this.currentPos)}},{key:"panStartHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.panStartHandler(this.currentPos)}},{key:"panMoveHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.panMoveHandler(this.currentPos)}},{key:"panEndHandler",value:function(t){this.currentCanvasPos=this.canvas.getBoundingClientRect(),this.currentPos={x:t.center.x-this.currentCanvasPos.left,y:t.center.y-this.currentCanvasPos.top},this.grid&&this.grid.panEndHandler(this.currentPos)}},{key:"wheelHandler",value:function(t){this.grid&&this.grid.wheelHandler({x:t.layerX,y:t.layerY},Math.pow(this.grid.scaleBy,Math.sign(t.deltaY)))}},{key:"addLayer",value:function(t){this.layers.push(t),t.setContext(this.context,this)}},{key:"render",value:function(){this.context.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.context.fillStyle=this.bgColor,this.context.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.grid&&this.grid.render()}},{key:"makeHighResolution",value:function(){this.devicePixelRatio=window.devicePixelRatio||1;var t=this.context.webkitBackingStorePixelRatio||this.context.mozBackingStorePixelRatio||this.context.msBackingStorePixelRatio||this.context.oBackingStorePixelRatio||this.context.backingStorePixelRatio||1;if(this.ratio=this.devicePixelRatio/t,this.devicePixelRatio!==t){var e=this.positionInfo.width,i=this.positionInfo.height;this.canvas.width=Math.round(e*this.ratio),this.canvas.height=Math.round(i*this.ratio),this.context.scale(this.ratio,this.ratio)}}},{key:"writeToConsole",value:function(t){this.console.innerHTML+="<p>"+t+"</p>",this.console.scrollTop=this.console.scrollHeight}}])&&l(e.prototype,i),n&&l(e,n),t}();function f(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var d=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.smallItems=[],this.largeItems=[],this.widthCoor=200,e)null==this[i]&&console.warn(t.name+": "+i+" parameter is undefined."),this[i]=e[i]}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context||(this.smallItems.forEach((function(e){e.setContext(t,container)})),this.largeItems.forEach((function(e){e.setContext(t,container)}))),this.context=t,this.stage=e,this.heightCoor=e.canvasHeight/e.canvasWidth*this.widthCoor,this.coorPerPixel=this.widthCoor/e.canvasWidth}},{key:"addItem",value:function(t){"Small"===t.itemSize?this.smallItems.push(t):"Large"===t.itemSize&&this.largeItems.push(t),t.setContext(this.context,this)}},{key:"removeItem",value:function(){}},{key:"render",value:function(){this.smallItems.forEach((function(t){t.render()})),this.largeItems.forEach((function(t){t.render()}))}},{key:"getPixFromCoorPt",value:function(t){return{x:Math.round(t.x/this.coorPerPixel)+.5,y:Math.round(this.stage.canvasHeight-t.y/this.coorPerPixel)+.5}}}])&&f(e.prototype,i),n&&f(e,n),t}();function p(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var x=i(1),g=i(0),y=i(2);Object(n.autoPlay)(!0);var v=function(){function t(e,i){for(var n in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.type="Point",this.pos=e,this.posPx={},this.color="#000000",this.borderColor=this.color+"55",this.size=4,this.selected=!0,i)null==this[n]&&console.warn(t.name+": "+n+" parameter is undefined."),this[n]=i[n];this.borderColor=this.color+"55",this.borderSize=3*this.size,this.defaultSize=this.size}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.context&&this.container.getPixFromCoorPtFT(this.pos,this.posPx),this.borderSize=0,new n.Tween({size:0}).to({size:this.defaultSize},1e3).easing(g.Easing.Elastic.Out).on("update",(function(t){i.size=t.size,i.borderSize=3*t.size})).start()}},{key:"render",value:function(){this.context.beginPath(),this.context.arc(this.posPx.x,this.posPx.y,this.size,0,x.TWO_PI,!1),this.context.fillStyle=this.color,this.context.fill(),this.selected&&(this.context.lineWidth=this.borderSize,this.context.strokeStyle=this.borderColor,this.context.stroke())}},{key:"handleTap",value:function(t){var e=this;t&&new n.Tween({size:0}).to({size:this.defaultSize},1e3).easing(g.Easing.Elastic.Out).on("update",(function(t){e.size=t.size,e.borderSize=3*t.size})).start()}},{key:"updatePosCoor",value:function(t){var e=this;new n.Tween(this.pos).to(t,1e3).easing(g.Easing.Linear.None).on("update",(function(t){e.container.getPixFromCoorPtFT(t,e.posPx)})).start()}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.pos,this.posPx)}},{key:"checkSelection",value:function(t){return y.getDistance(this.posPx,t)<this.borderSize+5}},{key:"getBoundingBoxCoor",value:function(){return{startX:this.pos.x,startY:this.pos.y,endX:this.pos.x,endY:this.pos.y}}}])&&p(e.prototype,i),s&&p(e,s),t}();function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var b=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m(this,t),this.x=e,this.y=i}var e,i,n;return e=t,(i=[{key:"set",value:function(t,e){this.x=t,this.y=e}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copyFrom",value:function(t){this.x=t.x,this.y=t.y}},{key:"subtractFrom",value:function(e){return new t(e.x-this.x,e.y-this.y)}},{key:"copyTo",value:function(t){}}])&&P(e.prototype,i),n&&P(e,n),t}();function k(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var T=i(1),C=i(0),_=i(2),w=i(6);Object(n.autoPlay)(!0);var R=function(){function t(e,i,n){for(var s in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.center=e,this.radius=i,this.color="#3daa4d",this.innerColorOpacity=.1,this.borderWidth=2,this.angle=T.TWO_PI,n)null==this[s]&&console.warn(t.name+": "+s+" parameter is undefined."),this[s]=n[s];this.innerColorRGB=_.hexToRgb(this.color),this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", "+this.innerColorOpacity+")",this.glowColorRGB=_.hexToRgb(this.color),this.glowColorRGBa="rgba("+this.glowColorRGB[0]+", "+this.glowColorRGB[1]+", "+this.glowColorRGB[2]+", 0.25)",this.type="Circle",this.shadowBlur=0,this.defaultShadowBlur=8,this.centerPx=new b,this.pannable=!0}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.context&&(this.container.getPixFromCoorPtFT(this.center,this.centerPx),this.radiusPx=this.radius/this.container.coorPerPixel),this.originalAngle=this.angle,this.angle=0,this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", 0)";var n=new C.Tween({opacity:0}).to({opacity:this.innerColorOpacity},200).easing(C.Easing.Quadratic.InOut).on("update",(function(t){i.innerColorRGBa="rgba("+i.innerColorRGB[0]+", "+i.innerColorRGB[1]+", "+i.innerColorRGB[2]+", "+t.opacity+")"}));new C.Tween({angle:0}).to({angle:this.originalAngle},900).easing(C.Easing.Cubic.InOut).on("update",(function(t){i.angle=t.angle})).on("complete",(function(){n.start()})).start()}},{key:"render",value:function(){this.context.beginPath(),this.context.arc(this.centerPx.x,this.centerPx.y,this.radiusPx,0,this.angle,!1),this.context.lineWidth=this.borderWidth,this.context.strokeStyle=this.color,this.context.stroke(),this.context.lineWidth=this.shadowBlur,this.context.strokeStyle=this.glowColorRGBa,this.context.stroke(),this.context.shadowBlur=0,this.context.fillStyle=this.innerColorRGBa,this.context.fill(),this.context.beginPath(),this.context.arc(this.centerPx.x,this.centerPx.y,3,0,this.angle,!1),this.context.fillStyle=this.color,this.context.fill()}},{key:"updatePosCoor",value:function(t,e){var i,s=this,o={centerX:this.center.x,centerY:this.center.y,radius:this.radius};i=e?{centerX:t.x,centerY:t.y,radius:e}:{centerX:t.x,centerY:t.y,radius:this.radius},new n.Tween(o).to(i,800).easing(C.Easing.Quadratic.InOut).on("update",(function(t){s.center.x=t.centerX,s.center.y=t.centerY,s.radius=t.radius,s.updatePixelLocation()})).start()}},{key:"handleTap",value:function(t){t?this.select():this.unselect()}},{key:"handlePanStart",value:function(t){console.log("pan start... ")}},{key:"handlePanMove",value:function(t){console.log("pan move..... ")}},{key:"select",value:function(){var t=this;this.selected?this.unselect():new n.Tween({val:0}).to({val:this.defaultShadowBlur},300).easing(w.selectionEasing).on("start",(function(){t.selected=!0})).on("update",(function(e){t.shadowBlur=e.val})).start()}},{key:"unselect",value:function(){var t=this;new n.Tween({val:this.shadowBlur}).to({val:0},500).easing(C.Easing.Quartic.Out).on("start",(function(){t.selected=!1})).on("update",(function(e){t.shadowBlur=e.val})).start()}},{key:"animateSelectionEffect",value:function(){var t=this;this.shadowBlur=(Math.sin(10*this.selectionClock.getElapsedTime())+1)*this.defaultShadowBlur,this.selectionAniId=requestAnimationFrame((function(){return t.animateSelectionEffect()}))}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.center,this.centerPx),this.radiusPx=this.radius/this.container.coorPerPixel}},{key:"checkSelection",value:function(t){return _.getDistance(this.centerPx,t)<this.radiusPx}},{key:"getBoundingBoxCoor",value:function(){return{startX:this.center.x-this.radius.x,startY:this.center.y+this.radius.y,endX:this.center.x+this.radius.x,endY:this.center.y-this.radius.y}}}])&&k(e.prototype,i),s&&k(e,s),t}();function A(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1);var S=i(0),E=i(2);Object(n.autoPlay)(!0);var L=function(){function t(e,i,n,s){for(var o in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color="#ff0000",this.innerColorOpacity=.15,this.borderWidth=2.5,this.completeCallback=function(){},s)null==this[o]&&console.warn(t.name+": "+o+" parameter is undefined."),this[o]=s[o];this.innerColorRGB=E.hexToRgb(this.color),this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", "+this.innerColorOpacity+")",this.vertexArr=[e,i,n],this.type="Triangle",this.completeConstruction=!1,this.attachedItems=[]}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.vertexArrPx=[this.container.getPixFromCoorPt(this.vertexArr[0]),this.container.getPixFromCoorPt(this.vertexArr[1]),this.container.getPixFromCoorPt(this.vertexArr[2])],this.currentVtxIdx=0,this.currentSegmentsLength=0,this.vertexArrPx.length=0,this.totalSideLength=E.getLengthOfPath(this.vertexArr),this.vertexArrPx[0]=this.container.getPixFromCoorPt(this.vertexArr[0]),this.endPointPx=this.container.getPixFromCoorPt(this.vertexArr[0]);var s=new n.Tween({len:0}).to({len:this.totalSideLength},1800).easing(S.Easing.Sinusoidal.InOut).on("update",(function(t){i.getVerticesToDraw(t.len)})).on("complete",(function(t){i.container.getPixFromCoorPtFT(i.vertexArr[0],i.endPointPx),i.completeConstruction=!0,o.start()}));this.innerColorRGBa="rgba("+this.innerColorRGB[0]+", "+this.innerColorRGB[1]+", "+this.innerColorRGB[2]+", 0)";var o=new S.Tween({opacity:0}).to({opacity:this.innerColorOpacity},200).easing(S.Easing.Quadratic.InOut).on("update",(function(t){i.innerColorRGBa="rgba("+i.innerColorRGB[0]+", "+i.innerColorRGB[1]+", "+i.innerColorRGB[2]+", "+t.opacity+")"})).on("complete",(function(){i.completeCallback&&i.completeCallback()}));s.start()}},{key:"render",value:function(){this.context.beginPath(),this.context.strokeStyle=this.color,this.context.lineWidth=this.borderWidth,this.context.lineJoin="round",this.context.fillStyle=this.innerColorRGBa,this.context.moveTo(this.vertexArrPx[0].x,this.vertexArrPx[0].y);for(var t=1;t<this.vertexArrPx.length;t++)this.context.lineTo(this.vertexArrPx[t].x,this.vertexArrPx[t].y);this.completeConstruction?this.context.closePath():this.context.lineTo(this.endPointPx.x,this.endPointPx.y),this.context.stroke(),this.context.fill()}},{key:"updatePixelLocation",value:function(){for(var t=0;t<this.vertexArrPx.length;t++)this.container.getPixFromCoorPtFT(this.vertexArr[t],this.vertexArrPx[t]);this.container.getPixFromCoorPtFT(this.vertexArr[0],this.endPointPx)}},{key:"geometryChanged",value:function(){for(var t=0;t<this.attachedItems.length;t++)this.attachedItems[t].parentGeometryChanged()}},{key:"getBoundingBoxCoor",value:function(){return{}}},{key:"getVerticesToDraw",value:function(t){for(var e=this.currentVtxIdx;e<this.vertexArr.length;e++){if(t<this.currentSegmentsLength+E.getDistance(this.vertexArr[e],this.vertexArr[(e+1)%this.vertexArr.length])){var i=t-this.currentSegmentsLength,n={x:this.vertexArr[(e+1)%this.vertexArr.length].x-this.vertexArr[e].x,y:this.vertexArr[(e+1)%this.vertexArr.length].y-this.vertexArr[e].y},s=E.getNorm(n);this.container.getPixFromCoorPtFT({x:this.vertexArr[e].x+n.x/s*i,y:this.vertexArr[e].y+n.y/s*i},this.endPointPx);break}e!=this.vertexArr.length-1&&(this.currentSegmentsLength+=E.getDistance(this.vertexArr[e],this.vertexArr[e+1]),this.vertexArrPx.push(this.container.getPixFromCoorPt(this.vertexArr[e+1])),this.currentVtxIdx++)}}}])&&A(e.prototype,i),s&&A(e,s),t}();function B(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1),i(0);var M=i(2),I=function(){function t(e,i,n){for(var s in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=e,this.direction=i,this.color="#ff3300",this.lineWidth=2,n)null==this[s]&&console.warn(t.name+": "+s+" parameter is undefined."),this[s]=n[s];this.posPx={},this.posTipPx={},this.headBaseLeftPx={},this.headBaseRightPx={},this.neckLocationPx={},this.type="Vector",this.calculatePoints()}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.updatePixelLocation()}},{key:"render",value:function(){this.context.beginPath(),this.context.lineWidth=this.lineWidth,this.context.strokeStyle=this.color,this.context.fillStyle=this.color,this.context.moveTo(this.posPx.x,this.posPx.y),this.context.lineTo(this.posTipPx.x,this.posTipPx.y),this.context.stroke(),this.context.lineJoin="miter",this.context.beginPath(),this.context.moveTo(this.posTipPx.x,this.posTipPx.y),this.context.lineTo(this.headBaseLeftPx.x,this.headBaseLeftPx.y),this.context.lineTo(this.headBaseRightPx.x,this.headBaseRightPx.y),this.context.closePath(),this.context.stroke(),this.context.fill()}},{key:"calculatePoints",value:function(){this.normalVector={x:-this.direction.y,y:this.direction.x},this.normalUnitVector=M.getUnitVector(this.normalVector),this.unitVector=M.getUnitVector(this.direction),this.neckLeftVector={x:5*this.normalUnitVector.x,y:-5*this.normalUnitVector.y},this.neckVectorPx={x:-14*this.unitVector.x,y:14*this.unitVector.y}}},{key:"update",value:function(t,e){this.pos=t,this.direction=e,this.calculatePoints(),this.updatePixelLocation()}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.pos,this.posPx),this.container.getPixFromCoorPtFT({x:this.pos.x+this.direction.x,y:this.pos.y+this.direction.y},this.posTipPx),this.neckLocationPx.x=this.posTipPx.x+this.neckVectorPx.x,this.neckLocationPx.y=this.posTipPx.y+this.neckVectorPx.y,this.headBaseLeftPx.x=this.neckLocationPx.x+this.neckLeftVector.x,this.headBaseLeftPx.y=this.neckLocationPx.y+this.neckLeftVector.y,this.headBaseRightPx.x=this.neckLocationPx.x-this.neckLeftVector.x,this.headBaseRightPx.y=this.neckLocationPx.y-this.neckLeftVector.y}},{key:"getBoundingBoxCoor",value:function(){}}])&&B(e.prototype,i),n&&B(e,n),t}();function O(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1);var F=i(0),G=i(2);Object(n.autoPlay)(!0);var j=function(){function t(e,i,n){for(var s in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.startPt=e,this.endPt=i,this.color="#000000",this.lineWidth=2,this.autoDraw=!0,n)null==this[s]&&console.warn(t.name+": "+s+" parameter is undefined."),this[s]=n[s];this.startPtPx=new b(0,0),this.endPtPx=new b(0,0),this.type="Line"}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.visible=this.autoDraw,this.autoDraw?this.animateDraw():this.visible=!1,this.updatePixelLocation()}},{key:"animateDraw",value:function(){var t=this,e=900*Math.pow(this.getLength(),1/4.2),i=this.endPt.clone();this.endPt.copyFrom(this.startPt),this.updatePixelLocation(),this.visible=!0,new n.Tween({x:this.startPt.x,y:this.startPt.y}).to({x:i.x,y:i.y},e).easing(F.Easing.Quadratic.InOut).on("update",(function(e){t.endPt.x=e.x,t.endPt.y=e.y,t.updatePixelLocation(),t.drawCallback&&t.drawCallback(t.endPt)})).on("complete",(function(){t.finishCallback&&t.finishCallback()})).start()}},{key:"draw",value:function(t,e){this.drawCallback=t,this.finishCallback=e,this.animateDraw()}},{key:"getLength",value:function(){return G.getDistance(this.startPt,this.endPt)}},{key:"render",value:function(){this.visible&&(this.context.beginPath(),this.context.strokeStyle=this.color,this.context.lineWidth=this.lineWidth,this.context.lineCap="round",this.context.moveTo(this.startPtPx.x,this.startPtPx.y),this.context.lineTo(this.endPtPx.x,this.endPtPx.y),this.context.stroke())}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.startPt,this.startPtPx),this.container.getPixFromCoorPtFT(this.endPt,this.endPtPx)}},{key:"getBoundingBoxCoor",value:function(){}}])&&O(e.prototype,i),s&&O(e,s),t}();function V(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var D=i(1),W=i(0),N=i(2);Object(n.autoPlay)(!0);var H=function(){function t(e,i,n,s,o){for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.line1Start=e,this.line1End=i,this.line2Start=n,this.line2End=s,this.defaultArcRadius=33,this.defaultFontSize=12,this.arcRadius=this.defaultArcRadius,this.fontSize="bold "+this.defaultFontSize+"pt Computer Modern",this.borderWidth=2,this.color="#444444",this.textColor="#333333",this.thresholdSide=this.arcRadius/D.TAN_PI_BY_12,this.slopeForFontSize=this.defaultFontSize/this.thresholdSide,this.locLabel={},this.commonPtPx={},this.completeCallback=function(){},o)null==this[r]&&console.warn(t.name+": "+r+" parameter is undefined."),this[r]=o[r];this.textColorArr=N.hexToRgb(this.textColor),this.textColor="rgba("+this.textColorArr[0]+", "+this.textColorArr[1]+", "+this.textColorArr[2]+", 1)",this.textStrokeColor="rgba("+this.textColorArr[0]+", "+this.textColorArr[1]+", "+this.textColorArr[2]+", 1)",this.type="Angle"}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){var i=this;this.context=t,this.container=e,this.updateAngle(),this.updatePixelLocation(),this.adjustScale(),this.tempAngle2=this.angle2,this.angle2=this.angle1,this.textColor="rgba("+this.textColorArr[0]+", "+this.textColorArr[1]+", "+this.textColorArr[2]+", 0)",this.textStrokeColor="rgba(255, 255, 255, 0)";var s=new n.Tween({angle:this.angle1}).to({angle:this.tempAngle2,opacity:1},700).easing(W.Easing.Sinusoidal.InOut).delay(150).on("update",(function(t){i.angle2=t.angle})).on("complete",(function(){o.start()})),o=new n.Tween({opacity:0}).to({opacity:1},900).easing(W.Easing.Sinusoidal.InOut).on("update",(function(t){i.textColor="rgba("+i.textColorArr[0]+", "+i.textColorArr[1]+", "+i.textColorArr[2]+", "+t.opacity+")",i.textStrokeColor="rgba(255, 255, 255, "+.8*t.opacity+")"})).delay(100).on("complete",(function(){i.completeCallback&&i.completeCallback()}));s.start()}},{key:"render",value:function(){this.line1End.x==this.line2Start.x&&this.line1End.y==this.line2Start.y&&(this.context.beginPath(),this.context.lineWidth=this.borderWidth,this.context.strokeStyle=this.color,this.context.font=this.fontSize,this.context.arc(this.commonPtPx.x,this.commonPtPx.y,this.arcRadius,this.angle1,this.angle2,!1),this.context.stroke(),this.context.textAlign="center",this.context.lineWidth=4,this.context.strokeStyle=this.textStrokeColor,this.context.strokeText(this.angleText,this.commonPtPx.x+this.locLabel.x,this.commonPtPx.y+this.locLabel.y),this.context.fillStyle=this.textColor,this.context.fillText(this.angleText,this.commonPtPx.x+this.locLabel.x,this.commonPtPx.y+this.locLabel.y))}},{key:"updateAngle",value:function(){this.vector1={x:this.line1Start.x-this.line1End.x,y:this.line1Start.y-this.line1End.y},this.vector2={x:this.line2End.x-this.line2Start.x,y:this.line2End.y-this.line2Start.y},this.angle1=N.getAngle(this.vector1),this.angle2=N.getAngle(this.vector2),this.angle2<this.angle1&&(this.angle2+=D.TWO_PI),this.angle=this.angle2-this.angle1,this.angleText=(180*this.angle/Math.PI).toFixed(1)+"°",this.labelAngle=(this.angle1+this.angle/2)%D.TWO_PI}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.line1End,this.commonPtPx)}},{key:"adjustScale",value:function(){var t=Math.min(N.getDistance(this.container.getPixFromCoorPt(this.line1Start),this.container.getPixFromCoorPt(this.line1End)),N.getDistance(this.container.getPixFromCoorPt(this.line2Start),this.container.getPixFromCoorPt(this.line2End)));t<this.thresholdSide?this.arcRadius=t*D.TAN_PI_BY_12:this.arcRadius=this.defaultArcRadius,this.locLabel=N.getXYFromTheta(this.labelAngle,this.arcRadius+27,this.arcRadius+14),this.locLabel.y+=this.defaultFontSize/3}}])&&V(e.prototype,i),s&&V(e,s),t}(),z=i(1),U=i.n(z);function q(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var Y=i(2),X=i(0);Object(n.autoPlay)(!0);var Q=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.rulerWidth=2.5,this.rulerLength=20,this.endOffset=.5,this.centiTickLength=.85,this.tickDistFromFront=this.centiTickLength+.2,this.halfCentiTickLength=.6,this.milliTickLength=.4,this.color="#ff0000",this.tickColor="#444444",this.textColor="#000000",e)null==this[i]&&console.warn(t.name+": "+i+" parameter is undefined."),this[i]=e[i];this.labelSizeInCoor=.3,this.borderColor=this.color+"88",this.type="Ruler",this.visible=!1,this.defaultBorderOpacity=.45,this.defaultInnerOpacity=.4,this.defaultTextOpacity=1,this.defaultTickOpacity=1,this.colorRGB=Y.hexToRgb(this.color),this.tickColorRGB=Y.hexToRgb(this.tickColor),this.textColorRGB=Y.hexToRgb(this.textColor),this.borderColorA="rgba("+this.colorRGB[0]+", "+this.colorRGB[1]+", "+this.colorRGB[2]+", 0)",this.innerColorA="rgba("+this.colorRGB[0]+", "+this.colorRGB[1]+", "+this.colorRGB[2]+", 0)",this.tickColorA="rgba("+this.tickColorRGB[0]+", "+this.tickColorRGB[1]+", "+this.tickColorRGB[2]+", 0)",this.textColorA="rgba("+this.textColorRGB[0]+", "+this.textColorRGB[1]+", "+this.textColorRGB[2]+", 0)",this.cmTickDirFactor=0,this.cmTickDirFactor1=1,this.vectToMoveBackPx={x:0,y:0},this.startPtPx=new b,this.totalLength=2*this.endOffset+this.rulerLength,this.fromPtPx=new b,this.vector=new b,this.unitVector=new b,this.unitNormalVector=new b,this.startPtPx=new b,this.endPtPx=new b,this.endPtBackPx=new b,this.startPtBackPx=new b,this.normalVector=new b;var n=10*this.rulerLength;this.tickStartsPx=[],this.tickEndsPx=[];for(var s=0;s<=n;s++)this.tickStartsPx.push(new b),this.tickEndsPx.push(new b);this.labelsPos=[];for(var o=0;o<=20;o++)this.labelsPos.push(new b)}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.fromPt=new b(-13.915577381639636,-10.939421080115627),this.toPt=new b(-8.271002421318794,-7.024922997496031),this.testVector=new I(this.fromPt,this.fromPt.subtractFrom(this.toPt),{color:"#000000"}),e.addItem(this.testVector),this.testVectorNormal=new I(this.fromPt,this.fromPt.subtractFrom(this.toPt),{color:"#00ff00"}),this.faceLeft=this.getLeftFacing({x:this.toPt.x-this.fromPt.x,y:this.toPt.y-this.fromPt.y}),this.adjustScale(),this.updatePixelLocation()}},{key:"generatePoints",value:function(){this.vector.x=this.toPt.x-this.fromPt.x,this.vector.y=this.toPt.y-this.fromPt.y,Y.getUnitVectorInplace(this.vector,this.unitVector),this.getLeftFacing(this.vector)?(this.normalVector.x=-this.unitVector.y*this.rulerWidth,this.normalVector.y=this.unitVector.x*this.rulerWidth):(this.normalVector.x=this.unitVector.y*this.rulerWidth,this.normalVector.y=-this.unitVector.x*this.rulerWidth),Y.getUnitVectorInplace(this.normalVector,this.unitNormalVector),this.vectToMoveBackPx.x=1.6*this.unitNormalVector.x,this.vectToMoveBackPx.y=-1.6*this.unitNormalVector.y,this.fromPtPx.x+=this.vectToMoveBackPx.x,this.fromPtPx.y+=this.vectToMoveBackPx.y,this.startPtPx.x=this.fromPtPx.x-this.unitVector.x*this.endOffsetPx,this.startPtPx.y=+this.fromPtPx.y+this.unitVector.y*this.endOffsetPx,this.endPtPx.x=this.startPtPx.x+this.unitVector.x*this.totalLengthPx,this.endPtPx.y=this.startPtPx.y-this.unitVector.y*this.totalLengthPx,this.endPtBackPx.x=this.endPtPx.x+this.unitNormalVector.x*this.rulerWidthPx,this.endPtBackPx.y=this.endPtPx.y-this.unitNormalVector.y*this.rulerWidthPx,this.startPtBackPx.x=this.startPtPx.x+this.unitNormalVector.x*this.rulerWidthPx,this.startPtBackPx.y=this.startPtPx.y-this.unitNormalVector.y*this.rulerWidthPx;for(var t=0;t<this.tickStartsPx.length;t++)this.tickStartsPx[t].x=this.fromPtPx.x+this.unitVector.x*this.distBetweenMinorTicks*t,this.tickStartsPx[t].y=this.fromPtPx.y-this.unitVector.y*this.distBetweenMinorTicks*t,t%10==0?(this.labelsPos[t/10].x=this.tickStartsPx[t].x+this.unitNormalVector.x*this.tickDistFromFrontPx,this.labelsPos[t/10].y=this.tickStartsPx[t].y-this.unitNormalVector.y*this.tickDistFromFrontPx,this.tickEndsPx[t].x=this.tickStartsPx[t].x+this.unitNormalVector.x*this.centiTickLengthPx,this.tickEndsPx[t].y=this.tickStartsPx[t].y-this.unitNormalVector.y*this.centiTickLengthPx):t%5==0?(this.tickEndsPx[t].x=this.tickStartsPx[t].x+this.unitNormalVector.x*this.halfCentiTickLenPx,this.tickEndsPx[t].y=this.tickStartsPx[t].y-this.unitNormalVector.y*this.halfCentiTickLenPx):(this.tickEndsPx[t].x=this.tickStartsPx[t].x+this.unitNormalVector.x*this.milliTickLengthPx,this.tickEndsPx[t].y=this.tickStartsPx[t].y-this.unitNormalVector.y*this.milliTickLengthPx)}},{key:"render",value:function(){if(this.visible){this.context.beginPath(),this.context.font=this.labelSize,this.context.lineWidth=1,this.context.lineJoin="round",this.context.strokeStyle=this.borderColorA,this.context.moveTo(this.startPtPx.x,this.startPtPx.y),this.context.lineTo(this.endPtPx.x,this.endPtPx.y),this.context.lineTo(this.endPtBackPx.x,this.endPtBackPx.y),this.context.lineTo(this.startPtBackPx.x,this.startPtBackPx.y),this.context.closePath(),this.context.fillStyle=this.innerColorA,this.context.stroke(),this.context.fill(),this.context.beginPath(),this.context.strokeStyle=this.tickColorA;for(var t=0;t<this.tickStartsPx.length;t++)this.context.moveTo(this.tickStartsPx[t].x,this.tickStartsPx[t].y),this.context.lineTo(this.tickEndsPx[t].x,this.tickEndsPx[t].y);this.context.stroke(),this.context.fillStyle=this.textColorA,this.context.textAlign="center",this.context.textBaseline="Alphabetic";for(var e=0;e<this.labelsPos.length;e++)this.context.translate(this.labelsPos[e].x,this.labelsPos[e].y),this.context.rotate(this.lbAngle),this.context.fillText(e,0,0),this.context.rotate(-this.lbAngle),this.context.translate(-this.labelsPos[e].x,-this.labelsPos[e].y)}}},{key:"updatePixelLocation",value:function(){this.endOffsetPx=this.endOffset/this.container.coorPerPixel,this.totalLengthPx=this.totalLength/this.container.coorPerPixel,this.rulerWidthPx=this.rulerWidth/this.container.coorPerPixel,this.container.getPixFromCoorPtFT(this.fromPt,this.fromPtPx),this.generatePoints()}},{key:"moveTo",value:function(t,e,i){var n,s=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.testVector.update(t,{x:e.x-t.x,y:e.y-t.y});var r=this.getLeftFacing({x:e.x-t.x,y:e.y-t.y});this.unitVector=Y.getUnitVector(this.vector),this.faceLeft=this.getLeftFacing(this.vector),n=this.faceLeft?r?this.fromPt:{x:this.fromPt.x+this.unitVector.x*this.rulerLength,y:this.fromPt.y+this.unitVector.y*this.rulerLength}:r?{x:this.fromPt.x+this.unitVector.x*this.rulerLength,y:this.fromPt.y+this.unitVector.y*this.rulerLength}:this.fromPt;var a,h,c,l,u=Y.getUnitVector({x:this.toPt.x-n.x,y:this.toPt.y-n.y}),f=Y.getDistance(e,t),d={x:u.x*f,y:u.y*f},p=Y.getAngleCC({x:n.x-this.toPt.x,y:n.y-this.toPt.y})-Y.getAngleCC({x:t.x-e.x,y:t.y-e.y}),x=t.x-(Math.cos(p)*n.x+Math.sin(p)*n.y),g=t.y-(-Math.sin(p)*n.x+Math.cos(p)*n.y),y={x:n.x,y:n.y};this.visible?new X.Tween({dx:0,dy:0,angle:0,textAngTimer:0}).to({dx:x,dy:g,angle:p,textAngTimer:1},1200).easing(X.Easing.Sinusoidal.Out).delay(o).on("start",(function(){})).on("update",(function(i){a=Math.cos(i.angle),h=Math.sin(i.angle),c=-Math.sin(i.angle),l=Math.cos(i.angle),s.fromPt.x=a*y.x+h*y.y+i.dx,s.fromPt.y=c*y.x+l*y.y+i.dy,s.toPt.x=s.fromPt.x+a*d.x+h*d.y,s.toPt.y=s.fromPt.y+c*d.x+l*d.y,i.textAngTimer<=.6?s.textColorA="rgba("+s.textColorRGB[0]+", "+s.textColorRGB[1]+", "+s.textColorRGB[2]+", "+(1-i.textAngTimer/.6)+")":i.textAngTimer>.8?s.textColorA="rgba("+s.textColorRGB[0]+", "+s.textColorRGB[1]+", "+s.textColorRGB[2]+", "+(1-(1-i.textAngTimer)/.2)+")":i.textAngTimer>.6&&!s.textAngChanged&&(s.lbAngle=r?Y.getAngle({x:e.x-t.x,y:e.y-t.y}):Y.getAngle({x:e.x-t.x,y:e.y-t.y})+Math.PI,s.textAngChanged=!0),s.updatePixelLocation()})).on("complete",(function(){i&&i(),s.textAngChanged=!1})).start():(a=Math.cos(p),h=Math.sin(p),c=-Math.sin(p),l=Math.cos(p),this.fromPt.x=a*y.x+h*y.y+x,this.fromPt.y=c*y.x+l*y.y+g,this.toPt.x=this.fromPt.x+a*d.x+h*d.y,this.toPt.y=this.fromPt.y+c*d.x+l*d.y,this.lbAngle=r?Y.getAngle({x:e.x-t.x,y:e.y-t.y}):Y.getAngle({x:e.x-t.x,y:e.y-t.y})+Math.PI,this.updatePixelLocation(),new X.Tween({opacity:0}).to({opacity:1},600).easing(X.Easing.Sinusoidal.In).on("start",(function(){s.visible=!0})).on("update",(function(t){s.borderColorA="rgba("+s.colorRGB[0]+", "+s.colorRGB[1]+", "+s.colorRGB[2]+", "+t.opacity*s.defaultBorderOpacity+")",s.innerColorA="rgba("+s.colorRGB[0]+", "+s.colorRGB[1]+", "+s.colorRGB[2]+", "+t.opacity*s.defaultInnerOpacity+")",s.tickColorA="rgba("+s.tickColorRGB[0]+", "+s.tickColorRGB[1]+", "+s.tickColorRGB[2]+", "+t.opacity*s.defaultTickOpacity+")",s.textColorA="rgba("+s.textColorRGB[0]+", "+s.textColorRGB[1]+", "+s.textColorRGB[2]+", "+t.opacity*s.defaultTextOpacity+")"})).on("complete",(function(){i&&i()})).start())}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.visible&&new X.Tween({opacity:1}).to({opacity:0},500).easing(X.Easing.Sinusoidal.In).delay(e).on("update",(function(e){t.borderColorA="rgba("+t.colorRGB[0]+", "+t.colorRGB[1]+", "+t.colorRGB[2]+", "+e.opacity*t.defaultBorderOpacity+")",t.innerColorA="rgba("+t.colorRGB[0]+", "+t.colorRGB[1]+", "+t.colorRGB[2]+", "+e.opacity*t.defaultInnerOpacity+")",t.tickColorA="rgba("+t.tickColorRGB[0]+", "+t.tickColorRGB[1]+", "+t.tickColorRGB[2]+", "+e.opacity*t.defaultTickOpacity+")",t.textColorA="rgba("+t.textColorRGB[0]+", "+t.textColorRGB[1]+", "+t.textColorRGB[2]+", "+e.opacity*t.defaultTextOpacity+")"})).on("complete",(function(e){t.visible=!1})).start()}},{key:"adjustScale",value:function(){this.milliTickLengthPx=this.milliTickLength/this.container.coorPerPixel,this.halfCentiTickLenPx=this.halfCentiTickLength/this.container.coorPerPixel,this.centiTickLengthPx=this.centiTickLength/this.container.coorPerPixel,this.tickDistFromFrontPx=this.tickDistFromFront/this.container.coorPerPixel,this.distBetweenMjrTicks=1/this.container.coorPerPixel,this.distBetweenMinorTicks=.1/this.container.coorPerPixel,this.labelSize="bold "+(this.labelSizeInCoor/this.container.coorPerPixel).toFixed(1)+"pt Computer Modern"}},{key:"getBoundingBoxCoor",value:function(){}},{key:"getLeftFacing",value:function(t){var e=Y.getAngleCC(t);return 0<=e&&e<=Math.PI}}])&&q(e.prototype,i),n&&q(e,n),t}();function $(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var J=i(2),Z=i(0);Object(n.autoPlay)(!0);var K=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.color="#5b79ff",this.halfWidth=.29,this.length=11,this.headLength=1.1,this.tipLength=.29,this.tipBaseHalfWidth=.07,this.eraserHeight=.4,e)null==this[i]&&console.warn(t.name+": "+i+" parameter is undefined."),this[i]=e[i];this.colorRGB=J.hexToRgb(this.color),this.colorRGBa="rgba("+this.colorRGB[0]+", "+this.colorRGB[1]+", "+this.colorRGB[2]+", 1)",this.pos={x:0,y:0},this.posPx={},this.globalAlpha=1,this.pencilInclinationAngle=Math.PI/3,this.type="Pencil",this.neckLeftPx={x:0,y:0},this.neckRightPx={x:0,y:0},this.endLeftPx={x:0,y:0},this.endRightPx={x:0,y:0},this.tipBaseLeftPx={x:0,y:0},this.tipBaseRightPx={x:0,y:0},this.eraserTopLeftPx={x:0,y:0},this.eraserTopRightPx={x:0,y:0},this.eraserNeckLeftPx={x:0,y:0},this.eraserNeckRightPx={x:0,y:0},this.defaultPoints=[],this.updatedPoints=[],this.visible=!1,this.generatePoints()}var e,i,n;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.testVector=new I({x:0,y:0},{x:1,y:1},{color:"#ff9223"}),this.updatePixelLocation()}},{key:"generatePoints",value:function(){this.pencilVectorD=new b(Math.cos(0)*this.length,Math.sin(0)*this.length),this.pencilVector=this.pencilVectorD.clone(),this.pencilUVect=J.getUnitVector(this.pencilVector),this.normalUVect={x:-this.pencilUVect.y,y:this.pencilUVect.x},this.tipBase=new b(this.pencilUVect.x*this.tipLength,this.pencilUVect.y*this.tipLength),this.tipBaseLeftD=new b(this.tipBase.x+this.normalUVect.x*this.tipBaseHalfWidth,this.tipBase.y+this.normalUVect.y*this.tipBaseHalfWidth),this.defaultPoints.push(this.tipBaseLeftD),this.tipBaseLeft=this.tipBaseLeftD.clone(),this.updatedPoints.push(this.tipBaseLeft),this.tipBaseRightD=new b(this.tipBase.x-this.normalUVect.x*this.tipBaseHalfWidth,this.tipBase.y-this.normalUVect.y*this.tipBaseHalfWidth),this.defaultPoints.push(this.tipBaseRightD),this.tipBaseRight=this.tipBaseRightD.clone(),this.updatedPoints.push(this.tipBaseRight),this.pencilNeckD=new b(this.pencilUVect.x*this.headLength,this.pencilUVect.y*this.headLength),this.defaultPoints.push(this.pencilNeckD),this.pencilNeck=this.pencilNeckD.clone(),this.updatedPoints.push(this.pencilNeck),this.neckLeftD=new b(this.pencilNeck.x+this.normalUVect.x*this.halfWidth,this.pencilNeck.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.neckLeftD),this.neckLeft=this.neckLeftD.clone(),this.updatedPoints.push(this.neckLeft),this.neckRightD=new b(this.pencilNeck.x-this.normalUVect.x*this.halfWidth,this.pencilNeck.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.neckRightD),this.neckRight=this.neckRightD.clone(),this.updatedPoints.push(this.neckRight),this.endLeftD=new b(this.pencilVector.x+this.normalUVect.x*this.halfWidth,this.pencilVector.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.endLeftD),this.endLeft=this.endLeftD.clone(),this.updatedPoints.push(this.endLeft),this.endRightD=new b(this.pencilVector.x-this.normalUVect.x*this.halfWidth,this.pencilVector.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.endRightD),this.endRight=this.endRightD.clone(),this.updatedPoints.push(this.endRight),this.vectorEraserNeckD=new b(Math.cos(0)*(this.length+this.eraserHeight),Math.sin(0)*(this.length+this.eraserHeight)),this.defaultPoints.push(this.vectorEraserNeckD),this.vectorEraserNeck=this.vectorEraserNeckD.clone(),this.updatedPoints.push(this.vectorEraserNeck),this.eraserNeckLeftD=new b(this.vectorEraserNeck.x+this.normalUVect.x*this.halfWidth,this.vectorEraserNeck.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserNeckLeftD),this.eraserNeckLeft=this.eraserNeckLeftD.clone(),this.updatedPoints.push(this.eraserNeckLeft),this.eraserNeckRightD=new b(this.vectorEraserNeck.x-this.normalUVect.x*this.halfWidth,this.vectorEraserNeck.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserNeckRightD),this.eraserNeckRight=this.eraserNeckRightD.clone(),this.updatedPoints.push(this.eraserNeckRight),this.vectorEraserEndD=new b(Math.cos(0)*(this.length+this.eraserHeight+.22),Math.sin(0)*(this.length+this.eraserHeight+.22)),this.defaultPoints.push(this.vectorEraserEndD),this.vectorEraserEnd=this.vectorEraserEndD.clone(),this.updatedPoints.push(this.vectorEraserEnd),this.eraserTopLeftD=new b(this.vectorEraserEnd.x+this.normalUVect.x*this.halfWidth,this.vectorEraserEnd.y+this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserTopLeftD),this.eraserTopLeft=this.eraserTopLeftD.clone(),this.updatedPoints.push(this.eraserTopLeft),this.eraserTopRightD=new b(this.vectorEraserEnd.x-this.normalUVect.x*this.halfWidth,this.vectorEraserEnd.y-this.normalUVect.y*this.halfWidth),this.defaultPoints.push(this.eraserTopRightD),this.eraserTopRight=this.eraserTopRightD.clone(),this.updatedPoints.push(this.eraserTopRight)}},{key:"move",value:function(t){this.pos=t;for(var e=0;e<this.defaultPoints.length;e++)this.updatedPoints[e].x=this.r1_c1*this.defaultPoints[e].x+this.r1_c2*this.defaultPoints[e].y+t.x,this.updatedPoints[e].y=this.r2_c1*this.defaultPoints[e].x+this.r2_c2*this.defaultPoints[e].y+t.y;this.updatePixelLocation()}},{key:"hide",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;new Z.Tween({opacity:this.globalAlpha}).to({opacity:0},400).easing(Z.Easing.Sinusoidal.In).delay(e).on("update",(function(t){})).on("complete",(function(){t.visible=!1})).start()}},{key:"prepareToDrawLine",value:function(t,e,i){var n,s=this;this.lineVector={x:e.x-t.x,y:e.y-t.y},this.unitLineVector=J.getUnitVector(this.lineVector),this.angle=J.getAngleCC(this.lineVector),n=0<=this.angle&&this.angle<Math.PI?this.angle-this.pencilInclinationAngle:this.angle+this.pencilInclinationAngle,this.r1_c1=Math.cos(n),this.r1_c2=-Math.sin(n),this.r2_c1=Math.sin(n),this.r2_c2=Math.cos(n),this.updatePixelLocation();var o=new Z.Tween({opacity:0}).to({opacity:1},600).easing(Z.Easing.Circular.In).on("update",(function(t){})).on("complete",(function(){i&&setTimeout(i,300)}));this.visible?new Z.Tween({opacity:1}).to({opacity:0},400).easing(Z.Easing.Sinusoidal.Out).on("update",(function(t){})).on("complete",(function(){s.move(t),s.updatePixelLocation(),o.start()})).start():(this.move(t),this.visible=!0,o.start())}},{key:"prepareToDrawPoint",value:function(t,e){}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.pos,this.posPx),this.container.getPixFromCoorPtFT(this.tipBaseLeft,this.tipBaseLeftPx),this.container.getPixFromCoorPtFT(this.tipBaseRight,this.tipBaseRightPx),this.container.getPixFromCoorPtFT(this.neckLeft,this.neckLeftPx),this.container.getPixFromCoorPtFT(this.neckRight,this.neckRightPx),this.container.getPixFromCoorPtFT(this.endLeft,this.endLeftPx),this.container.getPixFromCoorPtFT(this.endRight,this.endRightPx),this.container.getPixFromCoorPtFT(this.eraserTopLeft,this.eraserTopLeftPx),this.container.getPixFromCoorPtFT(this.eraserTopRight,this.eraserTopRightPx),this.container.getPixFromCoorPtFT(this.eraserNeckLeft,this.eraserNeckLeftPx),this.container.getPixFromCoorPtFT(this.eraserNeckRight,this.eraserNeckRightPx)}},{key:"render",value:function(){this.visible&&(this.context.globalAlpha=this.globalAlpha,this.context.lineJoin="round",this.context.lineWidth=1,this.context.strokeStyle="#000000",this.context.fillStyle="#000000",this.context.beginPath(),this.context.moveTo(this.posPx.x,this.posPx.y),this.context.lineTo(this.tipBaseLeftPx.x,this.tipBaseLeftPx.y),this.context.lineTo(this.tipBaseRightPx.x,this.tipBaseRightPx.y),this.context.stroke(),this.context.fill(),this.context.strokeStyle="#ceaf9a",this.context.fillStyle="#DEBFAA",this.context.beginPath(),this.context.moveTo(this.tipBaseLeftPx.x,this.tipBaseLeftPx.y),this.context.lineTo(this.neckLeftPx.x,this.neckLeftPx.y),this.context.lineTo(this.neckRightPx.x,this.neckRightPx.y),this.context.lineTo(this.tipBaseRightPx.x,this.tipBaseRightPx.y),this.context.fill(),this.context.stroke(),this.context.strokeStyle="#4d4072",this.context.fillStyle="#5c4b89",this.context.beginPath(),this.context.moveTo(this.neckLeftPx.x,this.neckLeftPx.y),this.context.lineTo(this.endLeftPx.x,this.endLeftPx.y),this.context.lineTo(this.endRightPx.x,this.endRightPx.y),this.context.lineTo(this.neckRightPx.x,this.neckRightPx.y),this.context.fill(),this.context.stroke(),this.context.strokeStyle="#91323c",this.context.fillStyle="#B03543",this.context.beginPath(),this.context.moveTo(this.endLeftPx.x,this.endLeftPx.y),this.context.lineTo(this.eraserNeckLeftPx.x,this.eraserNeckLeftPx.y),this.context.bezierCurveTo(this.eraserTopLeftPx.x,this.eraserTopLeftPx.y,this.eraserTopRightPx.x,this.eraserTopRightPx.y,this.eraserNeckRightPx.x,this.eraserNeckRightPx.y),this.context.lineTo(this.endRightPx.x,this.endRightPx.y),this.context.fill(),this.context.stroke())}},{key:"adjustScale",value:function(){}}])&&$(e.prototype,i),n&&$(e,n),t}();function tt(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var et=i(2),it=i(0);Object(n.autoPlay)(!0);var nt=function(){function t(e){for(var i in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=new b(1,0),this.posPx=new b,this.radius=6,this.type="Protractor",this.visible=!1,this.color="#000000",this.tickColor="#000000",this.textColor="#000000",this.tickLineWidth=1,this.labelSizeInCoor=.25,this.labelSize90Coor=.48,e)null==this[i]&&console.warn(t.name+": "+i+" parameter is undefined."),this[i]=e[i];this.minorTickLen=.4,this.midTickLen=.65,this.majorTickLen=.7,this.outerLbPosRadius=4.86,this.middleArcRadius=4.76,this.innerLbPosRadius=4,this.innerArcRadius=4,this.rightAngLineLen=4.3,this.innerMostArcR=1.2,this.distLbsCoor=.6,this.PIBy180=Math.PI/180,this.PIBy18=Math.PI/18,this.tickPtStarts=[],this.tickPtEnds=[],this.outerLabelPos=[],this.innerLabelPos=[],this.raysPosStart=[],this.raysPosEnd=[];for(var n=0;n<=180;n++)this.tickPtStarts[n]=new b,this.tickPtEnds[n]=new b;for(var s=0;s<=18;s++)this.outerLabelPos.push(new b),this.innerLabelPos.push(new b),this.raysPosStart.push(new b),this.raysPosEnd.push(new b);this.tempAngle=0,this.startAngle=0,this.numberCanvases=[],this.numberWidths=[],this.numberStartX=[],this.noCanvasImgWidths=[],this.noCanvasImgHeights=[],this.defaultBorderOpacity=.3,this.defaultInnerOpacity=.4,this.defaultTextOpacity=1,this.defaultTickOpacity=1,this.colorRGB=et.hexToRgb(this.color),this.tickColorRGB=et.hexToRgb(this.tickColor),this.textColorRGB=et.hexToRgb(this.textColor),this.borderColorA="rgba("+this.colorRGB[0]+", "+this.colorRGB[1]+", "+this.colorRGB[2]+", 0)",this.innerColorA="rgba("+this.colorRGB[0]+", "+this.colorRGB[1]+", "+this.colorRGB[2]+", 0)",this.tickColorA="rgba("+this.tickColorRGB[0]+", "+this.tickColorRGB[1]+", "+this.tickColorRGB[2]+", 0)",this.textColorA="rgba("+this.textColorRGB[0]+", "+this.textColorRGB[1]+", "+this.textColorRGB[2]+", 0)",this.pannable=!0,this.diffFromCenter=new b}var e,i,s;return e=t,(i=[{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.defaultTransform=this.context.getTransform(),this.testVector=new I({x:0,y:0},{x:1,y:1},{color:"#ff9223",lineWidth:4}),e.addItem(this.testVector),this.testVector1=new I({x:0,y:0},{x:1,y:1},{color:"#ff1223",lineWidth:4}),e.addItem(this.testVector1);var i=100,n=50;this.noCanvasWidth=Math.round(i*this.container.devicePixelRatio)/this.container.devicePixelRatio,this.noCanvasHeight=Math.round(n*this.container.devicePixelRatio)/this.container.devicePixelRatio;for(var s=0;s<=18;s++){var o=document.createElement("canvas");o.style.width=i+"px",o.style.height=n+"px",o.width=Math.round(i*this.container.devicePixelRatio),o.height=Math.round(n*this.container.devicePixelRatio);var r=o.getContext("2d",{alpha:!0});r.scale(this.container.devicePixelRatio,this.container.devicePixelRatio),r.fillStyle="#00000",r.font="10px Arial";var a=10*s,h=r.measureText(a);r.fillText(10*s,0,10),this.numberCanvases.push(o),this.numberWidths.push(h.width),this.numberStartX.push(-h.width/2)}this.canvas90=document.createElement("canvas"),i=100,n=60,this.canvas90.style.width=i+"px",this.canvas90.style.height=n+"px",this.canvas90.width=Math.round(i*this.container.devicePixelRatio),this.canvas90.height=Math.round(n*this.container.devicePixelRatio);var c=this.canvas90.getContext("2d",{alpha:!0});c.scale(this.container.devicePixelRatio,this.container.devicePixelRatio),c.fillStyle="#00000",c.font="22px Arial";var l=c.measureText("90");this.text90Width=l.width,c.fillText("90",0,l.actualBoundingBoxAscent),this.canvas90Width=this.canvas90.width/this.container.devicePixelRatio,this.canvas90Height=this.canvas90.height/this.container.devicePixelRatio}},{key:"render",value:function(){if(this.visible){this.context.beginPath(),this.context.lineWidth=this.tickLineWidth,this.context.strokeStyle=this.borderColorA,this.context.fillStyle=this.innerColorA,this.context.arc(this.posPx.x,this.posPx.y,this.radiusPx,this.startCanvasAngleOF,this.endCanvasAngleOF,!0),this.context.closePath(),this.context.stroke(),this.context.fill(),this.context.strokeStyle=this.tickColorA,this.context.beginPath(),this.context.arc(this.posPx.x,this.posPx.y,this.middleArcRadiusPx,this.startCanvasAngle,this.startCanvasAngle-1.4835298642,!0),this.context.stroke(),this.context.beginPath(),this.context.arc(this.posPx.x,this.posPx.y,this.middleArcRadiusPx,this.endCanvasAngle+1.4835298642,this.endCanvasAngle,!0),this.context.stroke(),this.context.beginPath(),this.context.arc(this.posPx.x,this.posPx.y,this.innerArcRadiusPx,this.startCanvasAngle,this.endCanvasAngle,!0),this.context.arc(this.posPx.x,this.posPx.y,this.innerMostArcRPx,this.startCanvasAngle,this.endCanvasAngle,!0);for(var t=0;t<this.tickPtStarts.length;t++)this.context.moveTo(this.tickPtStarts[t].x,this.tickPtStarts[t].y),this.context.lineTo(this.tickPtEnds[t].x,this.tickPtEnds[t].y);this.context.fillStyle=this.textColorA,this.context.textAlign="center";for(var e=0;e<=18;e++)this.context.translate(this.outerLabelPos[e].x,this.outerLabelPos[e].y),this.context.rotate(this.lbStartAngle-e*this.PIBy18),9==e?(this.context.font=this.labelFont90,this.context.fillText("90",0,this.labelSize90CoorPx)):(this.context.font=this.labelFont,this.context.fillText(10*e,0,0),this.context.fillText(10*(18-e),0,this.distLbsCoorPx)),this.context.rotate(-(this.lbStartAngle-e*this.PIBy18)),this.context.translate(-this.outerLabelPos[e].x,-this.outerLabelPos[e].y);this.context.setTransform(this.defaultTransform);for(var i=1;i<=18;i++)this.context.moveTo(this.raysPosStart[i].x,this.raysPosStart[i].y),this.context.lineTo(this.raysPosEnd[i].x,this.raysPosEnd[i].y);this.context.moveTo(this.raysPosEnd[0].x,this.raysPosEnd[0].y),this.context.lineTo(this.raysPosEnd[18].x,this.raysPosEnd[18].y),this.context.moveTo(this.posPx.x,this.posPx.y),this.context.lineTo(this.raysPosEnd[9].x,this.raysPosEnd[9].y),this.context.stroke()}}},{key:"prepareToMesure",value:function(t,e,i){var s=this,o=this.startAngle,r={x:e.x-t.x,y:e.y-t.y};this.testVector.update(t,r);var a=et.getAngleCC(r);i<0&&(a+=Math.PI),o>(a%=U.a.TWO_PI)?o-a>Math.PI&&(o=-(U.a.TWO_PI-o)):a-o>Math.PI&&(a=-(U.a.TWO_PI-a)),this.visible?new n.Tween({x:this.pos.x,y:this.pos.y,startAngle:o,textAngTimer:0}).to({x:t.x,y:t.y,startAngle:a,textAngTimer:1},900).easing(it.Easing.Sinusoidal.InOut).on("update",(function(t){s.pos.x=t.x,s.pos.y=t.y,s.startAngle=t.startAngle,t.textAngTimer<=.6?s.textColorA="rgba("+s.textColorRGB[0]+", "+s.textColorRGB[1]+", "+s.textColorRGB[2]+", "+(1-t.textAngTimer/.6)+")":t.textAngTimer>.8?s.textColorA="rgba("+s.textColorRGB[0]+", "+s.textColorRGB[1]+", "+s.textColorRGB[2]+", "+(1-(1-t.textAngTimer)/.2)+")":t.textAngTimer>.6&&!s.textAngChanged&&(s.lbStartAngle=-U.a.THREE_PI_BY_2-a,s.textAngChanged=!0),s.updatePixelLocation()})).on("complete",(function(){s.textAngChanged=!1})).start():(this.pos.x=t.x,this.pos.y=t.y,this.startAngle=a,this.updatePixelLocation(),new n.Tween({opacity:0}).to({opacity:1},900).easing(it.Easing.Sinusoidal.InOut).on("start",(function(){s.lbStartAngle=-U.a.THREE_PI_BY_2-s.startAngle,s.adjustScale(),s.visible=!0})).on("update",(function(t){s.borderColorA="rgba("+s.colorRGB[0]+", "+s.colorRGB[1]+", "+s.colorRGB[2]+", "+t.opacity*s.defaultBorderOpacity+")",s.innerColorA="rgba("+s.colorRGB[0]+", "+s.colorRGB[1]+", "+s.colorRGB[2]+", "+t.opacity*s.defaultInnerOpacity+")",s.tickColorA="rgba("+s.tickColorRGB[0]+", "+s.tickColorRGB[1]+", "+s.tickColorRGB[2]+", "+t.opacity*s.defaultTickOpacity+")",s.textColorA="rgba("+s.textColorRGB[0]+", "+s.textColorRGB[1]+", "+s.textColorRGB[2]+", "+t.opacity*s.defaultTextOpacity+")"})).on("complete",(function(){})).start())}},{key:"generatePoints",value:function(){this.startCanvasAngle=-this.startAngle,this.startCanvasAngleOF=-(this.startAngle-.1),this.endCanvasAngle=-(this.startAngle+Math.PI),this.endCanvasAngleOF=-(this.startAngle+(Math.PI+.1)),this.lbRotationAngle=-U.a.THREE_PI_BY_2+this.startCanvasAngle;for(var t=0;t<=180;t++)this.tempAngle=this.startAngle+this.PIBy180*t,this.tickPtStarts[t].x=this.posPx.x+this.radiusPx*Math.cos(this.tempAngle),this.tickPtStarts[t].y=this.posPx.y+-Math.sin(this.tempAngle)*this.radiusPx,t%10==0?(this.tickPtEnds[t].x=this.posPx.x+this.majorTickEnd*Math.cos(this.tempAngle),this.tickPtEnds[t].y=this.posPx.y+-Math.sin(this.tempAngle)*this.majorTickEnd):t%5==0?(this.tickPtEnds[t].x=this.posPx.x+this.midTickEnd*Math.cos(this.tempAngle),this.tickPtEnds[t].y=this.posPx.y+-Math.sin(this.tempAngle)*this.midTickEnd):(this.tickPtEnds[t].x=this.posPx.x+this.minorTickEnd*Math.cos(this.tempAngle),this.tickPtEnds[t].y=this.posPx.y+-Math.sin(this.tempAngle)*this.minorTickEnd);for(var e=0;e<=18;e++)this.tempAngle=this.startAngle+this.PIBy180*e*10,this.outerLabelPos[e].x=this.posPx.x+this.outerLbPosRadiusPx*Math.cos(this.tempAngle),this.outerLabelPos[e].y=this.posPx.y+-Math.sin(this.tempAngle)*this.outerLbPosRadiusPx,this.innerLabelPos[e].x=this.posPx.x+this.innerLbPosRadiusPx*Math.cos(this.tempAngle),this.innerLabelPos[e].y=this.posPx.y+-Math.sin(this.tempAngle)*this.innerLbPosRadiusPx,9==e?(this.raysPosEnd[e].x=this.posPx.x+this.rightAngLineLenPx*Math.cos(this.tempAngle),this.raysPosEnd[e].y=this.posPx.y+-Math.sin(this.tempAngle)*this.rightAngLineLenPx,this.raysPosStart[e].x=this.raysPosEnd[e].x,this.raysPosStart[e].y=this.raysPosEnd[e].y):(this.raysPosStart[e].x=this.posPx.x+this.innerMostArcRPx*Math.cos(this.tempAngle),this.raysPosStart[e].y=this.posPx.y+-Math.sin(this.tempAngle)*this.innerMostArcRPx,this.raysPosEnd[e].x=this.posPx.x+this.innerArcRadiusPx*Math.cos(this.tempAngle),this.raysPosEnd[e].y=this.posPx.y+-Math.sin(this.tempAngle)*this.innerArcRadiusPx)}},{key:"handlePanStart",value:function(t){var e=this;if(et.getDistance(t,this.posPx)<this.innerArcRadiusPx)this.toMove=!0,this.diffFromCenter.set(t.x-this.posPx.x,t.y-this.posPx.y);else{this.toMove=!1;var i=this.container.getCoorFromPix(t.x,t.y),s=et.getAngleCC({x:i.x-this.pos.x,y:i.y-this.pos.y});this.angleDiff=s-this.startAngle,new n.Tween({opacity:1}).to({opacity:0},400).easing(it.Easing.Quartic.Out).on("update",(function(t){e.textColorA="rgba("+e.textColorRGB[0]+", "+e.textColorRGB[1]+", "+e.textColorRGB[2]+", "+t.opacity+")"})).start()}}},{key:"handlePanMove",value:function(t){if(this.toMove)this.moveToPx(t.x-this.diffFromCenter.x,t.y-this.diffFromCenter.y);else{var e=this.container.getCoorFromPix(t.x,t.y),i=et.getAngleCC({x:e.x-this.pos.x,y:e.y-this.pos.y});this.startAngle=i-this.angleDiff,this.updatePixelLocation()}}},{key:"handlePanEnd",value:function(t){var e=this;this.toMove||new n.Tween({opacity:0}).to({opacity:1},500).easing(it.Easing.Quadratic.InOut).on("start",(function(){e.lbStartAngle=-U.a.THREE_PI_BY_2-e.startAngle})).on("update",(function(t){e.textColorA="rgba("+e.textColorRGB[0]+", "+e.textColorRGB[1]+", "+e.textColorRGB[2]+", "+t.opacity+")"})).start()}},{key:"moveToPx",value:function(t,e){this.container.getCoorFromPixFT(t,e,this.pos),this.updatePixelLocation()}},{key:"rotate",value:function(t){this.startAngle=t,this.updatePixelLocation()}},{key:"updatePixelLocation",value:function(){this.container.getPixFromCoorPtFT(this.pos,this.posPx),this.radiusPx=this.radius/this.container.coorPerPixel,this.minorTickEnd=this.radiusPx-this.minorTickLen/this.container.coorPerPixel,this.majorTickEnd=this.radiusPx-this.majorTickLen/this.container.coorPerPixel,this.midTickEnd=this.radiusPx-this.midTickLen/this.container.coorPerPixel,this.outerLbPosRadiusPx=this.outerLbPosRadius/this.container.coorPerPixel,this.innerLbPosRadiusPx=this.innerLbPosRadius/this.container.coorPerPixel,this.middleArcRadiusPx=this.middleArcRadius/this.container.coorPerPixel,this.innerArcRadiusPx=this.innerArcRadius/this.container.coorPerPixel,this.innerMostArcRPx=this.innerMostArcR/this.container.coorPerPixel,this.distLbsCoorPx=this.distLbsCoor/this.container.coorPerPixel,this.rightAngLineLenPx=this.rightAngLineLen/this.container.coorPerPixel,this.generatePoints()}},{key:"hide",value:function(){var t=this;this.visible&&new it.Tween({opacity:1}).to({opacity:0},500).easing(it.Easing.Sinusoidal.In).on("update",(function(e){t.borderColorA="rgba("+t.colorRGB[0]+", "+t.colorRGB[1]+", "+t.colorRGB[2]+", "+e.opacity*t.defaultBorderOpacity+")",t.innerColorA="rgba("+t.colorRGB[0]+", "+t.colorRGB[1]+", "+t.colorRGB[2]+", "+e.opacity*t.defaultInnerOpacity+")",t.tickColorA="rgba("+t.tickColorRGB[0]+", "+t.tickColorRGB[1]+", "+t.tickColorRGB[2]+", "+e.opacity*t.defaultTickOpacity+")",t.textColorA="rgba("+t.textColorRGB[0]+", "+t.textColorRGB[1]+", "+t.textColorRGB[2]+", "+e.opacity*t.defaultTextOpacity+")"})).on("complete",(function(e){t.visible=!1})).start()}},{key:"checkSelection",value:function(t){return this.context.beginPath(),this.context.arc(this.posPx.x,this.posPx.y,this.radiusPx,this.startCanvasAngleOF,this.endCanvasAngleOF,!0),this.context.isPointInPath(t.x*this.container.devicePixelRatio,t.y*this.container.devicePixelRatio)}},{key:"adjustScale",value:function(){this.labelSize90CoorPx=this.labelSize90Coor/this.container.coorPerPixel,this.labelFont="bold "+(this.labelSizeInCoor/this.container.coorPerPixel).toFixed(1)+"pt Computer Modern",this.labelFont90="bold "+this.labelSize90CoorPx.toFixed(1)+"pt Computer Modern"}},{key:"getBoundingBoxCoor",value:function(){}}])&&tt(e.prototype,i),s&&tt(e,s),t}();function st(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}i(1);var ot=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos={x:100,y:30},this.itemSize="Large"}var e,i,n;return e=t,(i=[{key:"render",value:function(){var t=new Date;this.context.save(),this.context.translate(150,150),this.context.rotate(-Math.PI/2),this.context.strokeStyle="black",this.context.fillStyle="white",this.context.lineWidth=8,this.context.lineCap="round",this.context.save();for(var e=0;e<12;e++)this.context.beginPath(),this.context.rotate(Math.PI/6),this.context.moveTo(100,0),this.context.lineTo(120,0),this.context.stroke();for(this.context.restore(),this.context.save(),this.context.lineWidth=5,e=0;e<60;e++)e%5!=0&&(this.context.beginPath(),this.context.moveTo(117,0),this.context.lineTo(120,0),this.context.stroke()),this.context.rotate(Math.PI/30);this.context.restore();var i=t.getSeconds(),n=t.getMinutes(),s=t.getHours();s=s>=12?s-12:s,this.context.fillStyle="black",this.context.save(),this.context.rotate(s*(Math.PI/6)+Math.PI/360*n+Math.PI/21600*i),this.context.lineWidth=14,this.context.beginPath(),this.context.moveTo(-20,0),this.context.lineTo(80,0),this.context.stroke(),this.context.restore(),this.context.save(),this.context.rotate(Math.PI/30*n+Math.PI/1800*i),this.context.lineWidth=10,this.context.beginPath(),this.context.moveTo(-28,0),this.context.lineTo(112,0),this.context.stroke(),this.context.restore(),this.context.save(),this.context.rotate(i*Math.PI/30),this.context.strokeStyle="#D40000",this.context.fillStyle="#D40000",this.context.lineWidth=6,this.context.beginPath(),this.context.moveTo(-30,0),this.context.lineTo(83,0),this.context.stroke(),this.context.beginPath(),this.context.arc(0,0,10,0,2*Math.PI,!0),this.context.fill(),this.context.beginPath(),this.context.arc(95,0,10,0,2*Math.PI,!0),this.context.stroke(),this.context.fillStyle="rgba(0, 0, 0, 0)",this.context.arc(0,0,3,0,2*Math.PI,!0),this.context.fill(),this.context.restore(),this.context.beginPath(),this.context.lineWidth=14,this.context.strokeStyle="#325FA2",this.context.arc(0,0,142,0,2*Math.PI,!0),this.context.stroke(),this.context.restore()}},{key:"setContext",value:function(t,e){this.context=t,this.container=e,this.context&&(this.pos_px=this.container.getPixFromCoorPt(this.pos))}}])&&st(e.prototype,i),n&&st(e,n),t}()},function(t,e,i){"use strict";i.r(e);var n=i(0),s=function(){var t=0,e=document.createElement("div");function i(t){return e.appendChild(t.dom),t}function n(i){for(var n=0;n<e.children.length;n++)e.children[n].style.display=n===i?"block":"none";t=i}e.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",e.addEventListener("click",(function(i){i.preventDefault(),n(++t%e.children.length)}),!1);var o=(performance||Date).now(),r=o,a=0,h=i(new s.Panel("FPS","#0ff","#002")),c=i(new s.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=i(new s.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:e,addPanel:i,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){a++;var t=(performance||Date).now();if(c.update(t-o,200),t>=r+1e3&&(h.update(1e3*a/(t-r),100),r=t,a=0,l)){var e=performance.memory;l.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t},update:function(){o=this.end()},domElement:e,setMode:n}};s.Panel=function(t,e,i){var n=1/0,s=0,o=Math.round,r=o(window.devicePixelRatio||1),a=80*r,h=48*r,c=3*r,l=2*r,u=3*r,f=15*r,d=74*r,p=30*r,x=document.createElement("canvas");x.width=a,x.height=h,x.style.cssText="width:80px;height:48px";var g=x.getContext("2d");return g.font="bold "+9*r+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=i,g.fillRect(0,0,a,h),g.fillStyle=e,g.fillText(t,c,l),g.fillRect(u,f,d,p),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(u,f,d,p),{dom:x,update:function(h,y){n=Math.min(n,h),s=Math.max(s,h),g.fillStyle=i,g.globalAlpha=1,g.fillRect(0,0,a,f),g.fillStyle=e,g.fillText(o(h)+" "+t+" ("+o(n)+"-"+o(s)+")",c,l),g.drawImage(x,u+r,f,d-r,p,u,f,d-r,p),g.fillRect(u+d-r,f,r,p),g.fillStyle=i,g.globalAlpha=.9,g.fillRect(u+d-r,f,r,o((1-h/y)*p))}}};var o=s,r=i(1),a=i.n(r),h=i(8),c=i(7);Object(n.autoPlay)(!0);i(2),new o,document.getElementById("toolbar_top");var l=new h.Stage("container_2d"),u=l.getGrid(),f=new h.Point({x:0,y:0});u.addItem(f);var d=new h.Circle({x:1,y:0},2);u.addItem(d);var p=new h.Layer;l.addLayer(p);var x=new h.Protractor({color:"#"+((1<<24)*Math.random()|0).toString(16)});u.addItem(x);var g=new h.Ruler({color:"#"+((1<<24)*Math.random()|0).toString(16)});u.addItem(g);var y=new h.Pencil;function v(){requestAnimationFrame(v),l.render()}u.addItem(y),document.getElementById("btnStop1").addEventListener("click",(function(t){var e=10*Math.random()-5,i=10*Math.random()-5,n=10*Math.random()-5,s=10*Math.random()-5,o=-Math.PI+Math.random()*a.a.TWO_PI;x.prepareToMesure({x:e,y:n},{x:i,y:s},o)}));var m=document.getElementById("btn2");m.addEventListener("click",(function(t){var e=10*Math.random()-5,i=10*Math.random()-5,n=10*Math.random()-5,s=10*Math.random()-5;g.moveTo({x:e,y:n},{x:i,y:s})})),m.addEventListener("click",(function(t){})),document.getElementById("btnStop").addEventListener("click",(function(t){l.grid.moveAndScale({x:0,y:0})})),c.WebFontConfig={},c.load({custom:{families:["Computer Modern"],urls:["styles/font.css"]},timeout:5e3,active:function(){v()}})}]);